 # ğŸ“š ReadKnows (è¯»å£«ç§äººä¹¦åº“)

<div align="right">
<sub>[English](README.md) | [ä¸­æ–‡](README-zh.md)</sub>
</div>

<div align="center">

![Version](https://img.shields.io/badge/version-1.225.12-blue.svg)
![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)
![Docker](https://img.shields.io/badge/docker-ready-blue.svg)
![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Windows%20%7C%20Linux%20%7C%20NAS-lightgrey.svg)

**æ”¯æŒå¤šæ ¼å¼ã€å¤šå¹³å°ã€å¤šç”¨æˆ·çš„ç§äººç”µå­ä¹¦ç®¡ç†å¹³å°**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [å®‰è£…éƒ¨ç½²](#-å®‰è£…éƒ¨ç½²) â€¢ [ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹
å‹æƒ…æé†’ï¼šä¸­å›½å¢ƒå†…ç½‘ç«™ï¼Œä¸ªäººæ˜¯ä¸å…è®¸è¿›è¡Œåœ¨çº¿å‡ºç‰ˆçš„ï¼Œç»´æŠ¤å…¬å¼€çš„ä¹¦ç±ç½‘ç«™æ˜¯è¿æ³•è¿è§„çš„è¡Œä¸ºï¼æœ¬ç³»ç»Ÿä»…ä¾›ä¸ªäººå­¦ä¹ å’Œå›¾ä¹¦ã€æ–‡æ¡£èµ„æ–™ç®¡ç†ä½¿ç”¨ï¼

ReadKnowsï¼ˆè¯»å£«ç§äººä¹¦åº“ï¼‰æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç§äººç”µå­ä¹¦ç®¡ç†å¹³å°ï¼Œæ”¯æŒ EPUBã€PDFã€TXTã€MOBI ç­‰å¤šç§æ ¼å¼çš„ç”µå­ä¹¦é˜…è¯»å’Œç®¡ç†ã€‚é‡‡ç”¨ç°ä»£åŒ–çš„ Web æŠ€æœ¯æ ˆï¼Œæä¾›æµç•…çš„é˜…è¯»ä½“éªŒå’Œå¼ºå¤§çš„ç®¡ç†åŠŸèƒ½ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ“š **å¤šæ ¼å¼æ”¯æŒ**: EPUBã€PDFã€TXTã€MOBIï¼ˆè‡ªåŠ¨è½¬æ¢ä¸º EPUBï¼‰
- ğŸŒ **å¤šå¹³å°è®¿é—®**: æ”¯æŒ Webã€iOSã€iPadã€Macã€Windows ç­‰å¹³å°
- ğŸ‘¥ **å¤šç”¨æˆ·ç³»ç»Ÿ**: æ”¯æŒå¤šç”¨æˆ·ï¼Œä¸ªäººä¹¦æ¶å’Œé˜…è¯»è¿›åº¦ç‹¬ç«‹ç®¡ç†
- ğŸ“± **PWA æ”¯æŒ**: æ”¯æŒæ¸è¿›å¼ Web åº”ç”¨ï¼Œå¯å®‰è£…åˆ°è®¾å¤‡ä¸»å±å¹•
- ğŸ¨ **ä¸“ä¸šé˜…è¯»å™¨**: å†…ç½®ä¸“ä¸šçš„ EPUB å’Œ PDF é˜…è¯»å™¨ï¼Œæ”¯æŒå¤šç§é˜…è¯»ä¸»é¢˜
- ğŸ” **æ™ºèƒ½æœç´¢**: æ”¯æŒå…¨æ–‡æœç´¢ï¼Œå¿«é€Ÿå®šä½å†…å®¹
- ğŸ“Š **é˜…è¯»ç»Ÿè®¡**: è¯¦ç»†çš„é˜…è¯»å†å²å’Œè¿›åº¦ç»Ÿè®¡
- ğŸ¤– **AI é›†æˆ**: æ”¯æŒ Ollama ç­‰ AI æœåŠ¡ï¼Œæä¾›æ™ºèƒ½é˜…è¯»è¾…åŠ©
- ğŸ“¦ **æ‰¹é‡å¯¼å…¥**: æ”¯æŒæ‰¹é‡æ‰«æå’Œå¯¼å…¥æœ¬åœ°ä¹¦ç±
- ğŸ” **å®‰å…¨å¯é **: JWT è®¤è¯ï¼ŒIP è®¿é—®æ§åˆ¶ï¼Œæ•°æ®åŠ å¯†å­˜å‚¨
- ğŸ“ **ç¬”è®°ç®¡ç†**: æ”¯æŒé˜…è¯»ç¬”è®°ã€é«˜äº®æ ‡è®°ï¼Œæ”¯æŒå¯¼å‡ºå’Œå¯¼å…¥ä¸ºç¬”è®°ä¹¦
- ğŸ·ï¸ **åˆ†ç±»ç®¡ç†**: æ”¯æŒä¹¦ç±åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- ğŸ“¡ **OPDS æ”¯æŒ**: æ”¯æŒ OPDS åè®®ï¼Œå…¼å®¹ä¸»æµé˜…è¯»å™¨
- ğŸ”Š **è¯­éŸ³æœ—è¯»**: æ”¯æŒåœ¨çº¿ TTS è¯­éŸ³æœ—è¯»åŠŸèƒ½ï¼ˆBetaï¼‰
- ğŸ“„ **Office æ–‡æ¡£**: æ”¯æŒ Office æ–‡æ¡£ï¼ˆWordã€Excelã€PowerPointï¼‰çš„ä¸Šä¼ å’Œæµè§ˆ
- ğŸ¤– **TTS æœåŠ¡**: æ”¯æŒ TTS-API å’Œ TTS-API-Lite ä¸¤ç§ TTS æœåŠ¡

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ“– é˜…è¯»åŠŸèƒ½

- âœ… **å¤šæ ¼å¼é˜…è¯»å™¨**
  - EPUB: ä¸“ä¸šçº§é˜…è¯»å™¨ï¼Œæ”¯æŒç›®å½•å¯¼èˆªã€ä¹¦ç­¾ã€é«˜äº®ã€ç¬”è®°
  - PDF: å®Œæ•´ PDF é˜…è¯»ä½“éªŒï¼Œæ”¯æŒç¼©æ”¾ã€ç¿»é¡µã€ç›®å½•ã€æœç´¢
  - TXT: çº¯æ–‡æœ¬é˜…è¯»ï¼Œè‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæ”¯æŒç¼–ç è¯†åˆ«
  - MOBI: è‡ªåŠ¨è½¬æ¢ä¸º EPUB æ ¼å¼ï¼ˆéœ€å®‰è£… Calibreï¼‰

- âœ… **é˜…è¯»è®¾ç½®**
  - å¤šç§é˜…è¯»ä¸»é¢˜ï¼ˆæµ…è‰²ã€æ·±è‰²ã€æŠ¤çœ¼ã€ç»¿è‰²ï¼‰
  - å­—ä½“å¤§å°ã€å­—ä½“ç±»å‹ã€è¡Œé—´è·è‡ªå®šä¹‰
  - æ”¯æŒè‡ªå®šä¹‰å­—ä½“ï¼ˆå¯ä¸Šä¼ å­—ä½“æ–‡ä»¶ï¼‰
  - é˜…è¯»è¿›åº¦è‡ªåŠ¨ä¿å­˜
  - é˜…è¯»å†å²è®°å½•
  - ç¿»é¡µåŠ¨ç”»æ•ˆæœ

- âœ… **é˜…è¯»è¾…åŠ©**
  - ç›®å½•å¯¼èˆªï¼ˆæ”¯æŒå¤šçº§ç›®å½•ï¼‰
  - ä¹¦ç­¾ç®¡ç†ï¼ˆæ·»åŠ ã€åˆ é™¤ã€è·³è½¬ï¼‰
  - ç¬”è®°å’Œé«˜äº®ï¼ˆç¦»çº¿å¯ç”¨ï¼Œè”ç½‘è‡ªåŠ¨åŒæ­¥ï¼‰
  - å…¨æ–‡æœç´¢ï¼ˆæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼‰
  - é˜…è¯»è¿›åº¦åŒæ­¥ï¼ˆå¤šè®¾å¤‡åŒæ­¥ + è·¨è®¾å¤‡è¿›åº¦å˜æ›´æé†’ï¼‰
  - è¿›åº¦å±•ç¤ºï¼šEPUB é»˜è®¤ä½¿ç”¨â€œç™¾åˆ†æ¯”è¿›åº¦ï¼ˆä¿ç•™ 2 ä½å°æ•°ï¼‰â€ï¼Œè·¨è®¾å¤‡æ›´ç¨³å®š

### ğŸ“š ç®¡ç†åŠŸèƒ½

- âœ… **ä¹¦ç±ç®¡ç†**
  - ä¸Šä¼ ã€åˆ é™¤ã€ç¼–è¾‘ä¹¦ç±ä¿¡æ¯
  - è‡ªåŠ¨æå–ä¹¦ç±å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€å°é¢ç­‰ï¼‰
  - æ”¯æŒè±†ç“£ API è‡ªåŠ¨è·å–ä¹¦ç±ä¿¡æ¯
  - ä¹¦ç±åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
  - æ‰¹é‡æ“ä½œï¼ˆæ‰¹é‡åˆ é™¤ã€æ‰¹é‡åˆ†ç±»ï¼‰
  - ä¹¦ç±è¯¦æƒ…ç¼–è¾‘ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€ç®€ä»‹ã€æ ‡ç­¾ï¼‰

- âœ… **ä¹¦æ¶ç®¡ç†**
  - åˆ›å»ºä¸ªäººä¸“å±ä¹¦æ¶
  - ä¹¦ç±æ”¶è—å’Œåˆ†ç±»
  - æ‰¹é‡æ“ä½œ
  - ä¹¦æ¶ç»Ÿè®¡ï¼ˆä¹¦ç±æ•°é‡ã€é˜…è¯»è¿›åº¦ï¼‰

- âœ… **æ‰¹é‡å¯¼å…¥**
  - æ‰«ææœ¬åœ°ç›®å½•è‡ªåŠ¨å¯¼å…¥
  - æ”¯æŒè‡ªåŠ¨è½¬æ¢ï¼ˆTXT â†’ EPUB, MOBI â†’ EPUBï¼‰
  - è‡ªåŠ¨è·å–ä¹¦ç±å…ƒæ•°æ®
  - æ–‡ä»¶ç›‘æ§è‡ªåŠ¨å¯¼å…¥ï¼ˆç›‘æ§ import ç›®å½•ï¼‰
  - æ”¯æŒå­ç›®å½•é€’å½’æ‰«æ

- âœ… **åˆ†ç±»ç®¡ç†**
  - åˆ›å»ºå’Œç®¡ç†ä¹¦ç±åˆ†ç±»
  - åˆ†ç±»å±‚çº§ç®¡ç†
  - åˆ†ç±»ç»Ÿè®¡

### ğŸ‘¥ ç”¨æˆ·åŠŸèƒ½

- âœ… **ç”¨æˆ·ç³»ç»Ÿ**
  - å¤šç”¨æˆ·æ”¯æŒ
  - ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
  - ç®¡ç†å‘˜åå°
  - ç”¨æˆ·è§’è‰²ç®¡ç†ï¼ˆæ™®é€šç”¨æˆ·ã€ç®¡ç†å‘˜ï¼‰
  - ç”¨æˆ·ç»Ÿè®¡ï¼ˆä¸Šä¼ ä¹¦ç±æ•°ã€ä¹¦æ¶æ•°ï¼‰

- âœ… **ä¸ªäººä¸­å¿ƒ**
  - é˜…è¯»ç»Ÿè®¡ï¼ˆé˜…è¯»æ—¶é•¿ã€é˜…è¯»è¿›åº¦ã€é˜…è¯»å†å²ï¼‰
  - é˜…è¯»å†å²ï¼ˆæœ€è¿‘é˜…è¯»ã€é˜…è¯»è®°å½•ï¼‰
  - ä¸ªäººè®¾ç½®ï¼ˆè´¦æˆ·ä¿¡æ¯ã€å¯†ç ä¿®æ”¹ï¼‰
  - ä¸ªäººèµ„æ–™ç®¡ç†

- âœ… **ç”¨æˆ·ç®¡ç†**ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
  - ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹
  - åˆ›å»ºæ–°ç”¨æˆ·
  - ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯
  - é‡ç½®ç”¨æˆ·å¯†ç 
  - åˆ é™¤ç”¨æˆ·
  - ç”¨æˆ·æƒé™ç®¡ç†

### ğŸ¤– AI åŠŸèƒ½

- âœ… **AI é›†æˆ**
  - æ”¯æŒ Ollama æœ¬åœ° AI æœåŠ¡
  - æ™ºèƒ½é˜…è¯»è¾…åŠ©
  - ä¹¦ç±å†…å®¹åˆ†æ
  - AI å¯¹è¯åŠŸèƒ½
  - é˜…è¯»åŠ©æ‰‹ï¼ˆé—®ç­”ã€æ€»ç»“ã€ç¿»è¯‘ï¼‰

### ğŸ” å®‰å…¨åŠŸèƒ½

- âœ… **å®‰å…¨ç‰¹æ€§**
  - JWT èº«ä»½è®¤è¯
  - IP è®¿é—®æ§åˆ¶ï¼ˆç™½åå•/é»‘åå•ï¼‰
  - éªŒè¯ç ä¿æŠ¤ï¼ˆç™»å½•ã€æ³¨å†Œï¼‰
  - æ•°æ®åŠ å¯†å­˜å‚¨
  - å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰
  - ä¼šè¯ç®¡ç†

- âœ… **IP ç®¡ç†**ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
  - IP ç™½åå•ç®¡ç†
  - IP é»‘åå•ç®¡ç†
  - IP è®¿é—®æ—¥å¿—

### ğŸ“ ç¬”è®°åŠŸèƒ½

- âœ… **ç¬”è®°ç®¡ç†**
  - åˆ›å»ºé˜…è¯»ç¬”è®°
  - ç¼–è¾‘å’Œåˆ é™¤ç¬”è®°
  - ç¬”è®°åˆ†ç±»
  - ç¬”è®°æœç´¢
  - ç¬”è®°/é«˜äº®å¯¼å‡ºä¸º Markdown
  - ä¸€é”®å¯¼å‡ºä¸º"ç¬”è®°ä¹¦"ï¼ˆç§æœ‰ä¹¦ç±ï¼Œåˆ†ç±»ä¸ºã€Œç¬”è®°ã€ï¼Œå°é¢å åŠ "ç¬”è®°"æ ‡è¯†ï¼‰
  - æ”¯æŒå°†å¯¼å‡ºçš„ç¬”è®°ä½œä¸ºæ–°ä¹¦ç±æ·»åŠ åˆ°æœåŠ¡å™¨

### ğŸ”Š è¯­éŸ³æœ—è¯»åŠŸèƒ½ï¼ˆBetaï¼‰

- âœ… **TTS æœåŠ¡æ”¯æŒ**
  - **TTS-API-Lite**: è½»é‡çº§ TTS åœ¨çº¿ç”Ÿæˆ API ç³»ç»Ÿï¼Œå»ºè®®æ™®é€šæœåŠ¡å™¨å®‰è£…
  - **TTS-API**: æ”¯æŒåœ¨çº¿ TTS å’Œæœ¬åœ° TTS ç”Ÿæˆï¼Œå¯¹ GPU ç¡¬ä»¶è¦æ±‚è¾ƒé«˜
  - åœ¨çº¿ Edge-TTS è¯­éŸ³æœ—è¯»ï¼ˆBetaï¼Œä»…ä¾›ä½“éªŒï¼‰

### ğŸ“„ Office æ–‡æ¡£æ”¯æŒ

- âœ… **Office æ–‡æ¡£æµè§ˆ**
  - æ”¯æŒ Word (.docx) æ–‡æ¡£ä¸Šä¼ å’Œæµè§ˆ
  - æ”¯æŒ Excel (.xlsx) æ–‡æ¡£ä¸Šä¼ å’Œæµè§ˆ
  - ç®€å•æ–‡æ¡£æµè§ˆåŠŸèƒ½

### âœ¨ é˜…è¯»å™¨ä½“éªŒå¢å¼ºï¼ˆè¿‘æœŸæ›´æ–°ï¼‰

- âœ… **æ–‡æœ¬é€‰æ‹©èœå•å¢å¼ºï¼ˆEPUBï¼‰**
  - é«˜äº®/å–æ¶ˆé«˜äº®
  - æ–°å»ºç¬”è®°ï¼ˆä¿®å¤ç§»åŠ¨ç«¯/PWA ç‚¹å‡»ä¸å¼¹çª—çš„é—®é¢˜ï¼‰
  - å¤åˆ¶ / ç™¾åº¦æœç´¢ / è¯å…¸ / ç¿»è¯‘
  - ç‚¹å‡»å·²é«˜äº®åŒºåŸŸè‡ªåŠ¨é€‰ä¸­è¯¥é«˜äº®å†…å®¹å¹¶å¼¹å‡ºèœå•

- âœ… **ç¦»çº¿ä¸åŒæ­¥ï¼ˆé«˜äº®ï¼‰**
  - ç¦»çº¿ï¼šæœ¬åœ°ç¼“å­˜ä¸é˜Ÿåˆ—
  - è”ç½‘ï¼šè‡ªåŠ¨åŒæ­¥åˆ°æœåŠ¡ç«¯å¹¶æŒä¹…åŒ–
  - é‡æ–°æ‰“å¼€ä¹¦ç±ï¼šè‡ªåŠ¨æ¸²æŸ“å†å²é«˜äº®

- âœ… **è·¨è®¾å¤‡è¿›åº¦æé†’ï¼ˆEPUB/TXT/MD/PDFï¼‰**
  - Aã€B è®¾å¤‡è¿›åº¦ä¸ä¸€è‡´æ—¶ï¼šå›åˆ°å‰å°/èšç„¦è‡ªåŠ¨æ‹‰å–æœåŠ¡ç«¯è¿›åº¦å¹¶æç¤ºæ˜¯å¦è·³è½¬
  - æç¤ºä¿¡æ¯åŒ…å«ï¼šæœ¬æœº/å¦ä¸€ç«¯çš„è¿›åº¦ä¸ç« èŠ‚æ ‡é¢˜
  - 409 å†²çªä¸å†åˆ·å±ï¼ˆä½œä¸ºæ­£å¸¸å†²çªä¿¡å·å¤„ç†ï¼Œæç¤ºä¸€æ¬¡å¹¶æš‚åœä¸ŠæŠ¥ï¼‰

- âœ… **é˜…è¯»ä½“éªŒä¿®å¤**
  - EPUBï¼šä¿®å¤ epubjs hooks å…¥å‚å¼‚å¸¸å¯¼è‡´çš„å¤šç§ TypeErrorï¼ˆgetElementsByTagName/createElement/ownerDocument ç­‰ï¼‰
  - PDFï¼šä¿®å¤ç§»åŠ¨ç«¯/PWA çºµå‘æ‹‰ä¼¸å¯¼è‡´æ–‡å­—å˜å½¢
  - Markdownï¼šå¢åŠ ä¸Šä¸‹å·¦å³è¾¹è·ä¸æ›´æ¸…æ™°çš„æ’ç‰ˆæ ·å¼
  - å¯¼èˆªæ ï¼šé¡¶éƒ¨æ å›ºå®šï¼Œé¿å…ä¸‹æ‹‰åˆ·æ–°/å¼¹æ€§æ»šåŠ¨å¯¼è‡´å¯¼èˆªæ æ™ƒåŠ¨
  - ç¬”è®°/ç›®å½•é¢æ¿ï¼šæ”¯æŒ safe-areaï¼ˆåˆ˜æµ·å±ï¼‰ä¸é˜…è¯»ä¸»é¢˜é€‚é…

### ğŸ“¡ OPDS æ”¯æŒ

- âœ… **OPDS åè®®**
  - æ”¯æŒ OPDS 1.2 åè®®
  - å…¼å®¹ä¸»æµé˜…è¯»å™¨ï¼ˆå¦‚ Calibreã€KOReader ç­‰ï¼‰
  - OPDS ç›®å½•æµè§ˆ
  - OPDS æœç´¢

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 5
- **UI æ¡†æ¶**: Tailwind CSS 3.4
- **çŠ¶æ€ç®¡ç†**: Zustand 4.4
- **è·¯ç”±**: React Router v6
- **é˜…è¯»å™¨**: 
  - EPUB.js (EPUB é˜…è¯»)
  - PDF.js (PDF é˜…è¯»)
  - react-pdf (PDF æ¸²æŸ“)
- **PWA**: Vite PWA Plugin
- **HTTP å®¢æˆ·ç«¯**: Axios
- **å›¾æ ‡**: Lucide React
- **é€šçŸ¥**: React Hot Toast

### åç«¯

- **è¿è¡Œæ—¶**: Node.js 20
- **æ¡†æ¶**: Express.js 4.18
- **è¯­è¨€**: TypeScript 5.3
- **æ•°æ®åº“**: SQLite (better-sqlite3)
- **è®¤è¯**: JWT (jsonwebtoken)
- **æ–‡ä»¶å¤„ç†**:
  - EPUB è§£æå’Œç”Ÿæˆ (epub-gen)
  - PDF è§£æå’Œå…ƒæ•°æ®æå– (pdf-parse, pdfjs-dist)
  - å›¾ç‰‡å¤„ç† (Canvas, Sharp)
  - æ–‡æ¡£è½¬æ¢ (mammoth, xlsx, pptx2json)
- **æ ¼å¼è½¬æ¢**: Calibre (MOBI â†’ EPUB)
- **éªŒè¯ç **: svg-captcha
- **é‚®ä»¶**: nodemailer

### éƒ¨ç½²

- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **Web æœåŠ¡å™¨**: Nginx (å‰ç«¯)
- **å¹³å°æ”¯æŒ**: 
  - macOS
  - Windows (WSL)
  - Linux
  - ç¾¤æ™– NAS (Synology)
  - å…¶ä»–æ”¯æŒ Docker çš„å¹³å°

---

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Docker**: 20.10+ å’Œ Docker Compose 2.0+
- **å†…å­˜**: è‡³å°‘ 2GB å¯ç”¨å†…å­˜ï¼ˆæ¨è 4GB+ï¼‰
- **ç£ç›˜ç©ºé—´**: è‡³å°‘ 5GB å¯ç”¨ç£ç›˜ç©ºé—´ï¼ˆæ¨è 10GB+ï¼‰
- **ç½‘ç»œ**: éœ€è¦è®¿é—®äº’è”ç½‘ï¼ˆç”¨äºä¸‹è½½é•œåƒå’Œä¾èµ–ï¼‰

### ç³»ç»Ÿè¦æ±‚

#### macOS
- macOS 10.15+ (Catalina æˆ–æ›´é«˜ç‰ˆæœ¬)
- Docker Desktop for Mac

#### Windows
- Windows 10/11 (64ä½)
- WSL 2 æˆ– Docker Desktop for Windows

#### Linux
- Ubuntu 20.04+ / Debian 11+ / CentOS 8+ / Fedora 34+
- Docker Engine 20.10+
- Docker Compose 2.0+

#### ç¾¤æ™– NAS
- DSM 7.0+ æˆ– DSM 6.2+
- Docker å¥—ä»¶

---

## ğŸ³ å®‰è£…éƒ¨ç½²

### æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰

è¿™æ˜¯æœ€ç®€å•å¿«æ·çš„å®‰è£…æ–¹å¼ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®ã€‚

#### 1. å…‹éš†é¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
git clone https://github.com/ttbye/readknows.git
cd readknows
```

#### 2. è¿è¡Œå®‰è£…è„šæœ¬

```bash
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x install.sh

# è¿è¡Œå®‰è£…è„šæœ¬
./install.sh
```

#### 3. å®‰è£…è„šæœ¬åŠŸèƒ½è¯´æ˜

å®‰è£…è„šæœ¬ `install.sh` ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **ç¯å¢ƒæ£€æŸ¥**
   - æ£€æŸ¥ Docker æ˜¯å¦å®‰è£…
   - æ£€æŸ¥ Docker Compose æ˜¯å¦å®‰è£…
   - æ£€æŸ¥ Docker æœåŠ¡æ˜¯å¦è¿è¡Œ
   - æ£€æŸ¥ Docker é•œåƒæºé…ç½®

2. **å¹³å°æ£€æµ‹**
   - è‡ªåŠ¨æ£€æµ‹æ“ä½œç³»ç»Ÿå¹³å°ï¼ˆmacOS/Windows/Linux/ç¾¤æ™–ï¼‰
   - è‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ docker-compose é…ç½®æ–‡ä»¶
   - æ”¯æŒæ‰‹åŠ¨é€‰æ‹©é…ç½®æ–‡ä»¶

3. **é…ç½®æ–‡ä»¶åˆ›å»º**
   - è‡ªåŠ¨åˆ›å»º `.env` ç¯å¢ƒå˜é‡æ–‡ä»¶
   - è‡ªåŠ¨ç”Ÿæˆ JWT_SECRETï¼ˆéšæœºå¯†é’¥ï¼‰
   - é…ç½®é»˜è®¤ç¯å¢ƒå˜é‡

4. **ç›®å½•åˆ›å»º**
   - åˆ›å»ºæ•°æ®ç›®å½•ç»“æ„
   - åˆ›å»ºä¹¦ç±å­˜å‚¨ç›®å½•
   - åˆ›å»ºå°é¢å­˜å‚¨ç›®å½•
   - åˆ›å»ºå­—ä½“å­˜å‚¨ç›®å½•
   - åˆ›å»ºå¯¼å…¥ç›®å½•

5. **ç«¯å£æ£€æŸ¥**
   - æ£€æŸ¥ç«¯å£ 1280ï¼ˆå‰ç«¯ï¼‰æ˜¯å¦è¢«å ç”¨
   - æ£€æŸ¥ç«¯å£ 1281ï¼ˆåç«¯ï¼‰æ˜¯å¦è¢«å ç”¨
   - æç¤ºç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ

6. **å®¹å™¨ç®¡ç†**
   - æ£€æŸ¥å¹¶åœæ­¢ç°æœ‰å®¹å™¨
   - æ„å»º Docker é•œåƒï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
   - å¯åŠ¨æœåŠ¡å®¹å™¨

7. **æœåŠ¡å°±ç»ªæ£€æŸ¥**
   - ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆ
   - æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€

8. **Calibre å®‰è£…**ï¼ˆå¯é€‰ï¼‰
   - æ£€æŸ¥ Calibre æ˜¯å¦å·²å®‰è£…
   - æç¤ºå®‰è£… Calibreï¼ˆMOBI è½¬ EPUB åŠŸèƒ½ï¼‰

9. **ç®¡ç†å‘˜åˆå§‹åŒ–**ï¼ˆå¯é€‰ï¼‰
   - åˆå§‹åŒ–é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·
   - è®¾ç½®é»˜è®¤ç®¡ç†å‘˜å¯†ç 

#### 4. å®‰è£…è„šæœ¬äº¤äº’è¯´æ˜

å®‰è£…è¿‡ç¨‹ä¸­ï¼Œè„šæœ¬ä¼šæç¤ºæ‚¨è¿›è¡Œä»¥ä¸‹é€‰æ‹©ï¼š

- **é€‰æ‹©éƒ¨ç½²ç¯å¢ƒ**ï¼ˆå¦‚æœè‡ªåŠ¨æ£€æµ‹å¤±è´¥ï¼‰:
  ```
  1) æ ‡å‡†ç¯å¢ƒ (sh/docker-compose.yml)
  2) macOS ç¯å¢ƒ (sh/docker-compose-MACOS.yml)
  3) Windows ç¯å¢ƒ (sh/docker-compose-WINDOWS.yml)
  4) Linux ç¯å¢ƒ (sh/docker-compose-Linux.yml)
  5) ç¾¤æ™–/Synology ç¯å¢ƒ (sh/docker-compose-Synology.yml)
  ```

- **æ˜¯å¦é¢„æ‹‰å–åŸºç¡€é•œåƒ**ï¼ˆåŠ å¿«æ„å»ºé€Ÿåº¦ï¼‰:
  - é€‰æ‹© `Y` ä¼šå…ˆä¸‹è½½åŸºç¡€é•œåƒï¼ˆnodeã€nginx ç­‰ï¼‰
  - é€‰æ‹© `n` ä¼šåœ¨æ„å»ºæ—¶è‡ªåŠ¨ä¸‹è½½

- **æ˜¯å¦å®‰è£… Calibre**ï¼ˆMOBI è½¬ EPUB åŠŸèƒ½ï¼‰:
  - é€‰æ‹© `Y` ä¼šè‡ªåŠ¨å®‰è£… Calibre
  - é€‰æ‹© `n` å¯ä»¥ç¨åæ‰‹åŠ¨å®‰è£…

- **æ˜¯å¦åˆå§‹åŒ–ç®¡ç†å‘˜è´¦æˆ·**:
  - é€‰æ‹© `Y` ä¼šåˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·
  - é€‰æ‹© `n` å¯ä»¥ç¨åæ‰‹åŠ¨åˆå§‹åŒ–

#### 5. å®‰è£…å®Œæˆ

å®‰è£…å®Œæˆåï¼Œæ‚¨ä¼šçœ‹åˆ°ï¼š

```
========================================
å®‰è£…å®Œæˆ
========================================
âœ… ReadKnows (è¯»å£«ç§äººä¹¦åº“) å·²æˆåŠŸå®‰è£…å¹¶å¯åŠ¨ï¼

è®¿é—®åœ°å€:
  ğŸŒ å‰ç«¯: http://localhost:1280
  ğŸ”Œ åç«¯API: http://localhost:1281

ä¸‹ä¸€æ­¥:
  1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:1280
  2. ä½¿ç”¨åˆå§‹åŒ–æ—¶åˆ›å»ºçš„ç®¡ç†å‘˜è´¦æˆ·ç™»å½•
  3. å¼€å§‹ä½¿ç”¨ ReadKnows (è¯»å£«ç§äººä¹¦åº“)ï¼
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨ Docker éƒ¨ç½²

å¦‚æœæ‚¨æƒ³æ‰‹åŠ¨æ§åˆ¶éƒ¨ç½²è¿‡ç¨‹ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/ttbye/readknows.git
cd readknows
```

#### 2. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cat > .env << EOF
# JWTé…ç½®
JWT_SECRET=$(openssl rand -base64 32)
JWT_EXPIRES_IN=7d

# è±†ç“£APIé…ç½®ï¼ˆå¯é€‰ï¼‰
DOUBAN_API_BASE=

# AIé…ç½®ï¼ˆå¯é€‰ï¼‰
AI_PROVIDER=ollama
AI_API_URL=http://frontend:1280/ollama-proxy
AI_API_KEY=
AI_MODEL=llama2

# OllamaæœåŠ¡å™¨åœ°å€
OLLAMA_URL=http://host.docker.internal:11434
EOF
```

#### 3. åˆ›å»ºæ•°æ®ç›®å½•

```bash
# åˆ›å»ºæ•°æ®ç›®å½•ç»“æ„
mkdir -p data/backend/{data,books,covers,fonts,import}
```

#### 4. é€‰æ‹© docker-compose æ–‡ä»¶

æ ¹æ®æ‚¨çš„å¹³å°é€‰æ‹©å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼š

- **æ ‡å‡†ç¯å¢ƒ**: `sh/docker-compose.yml`
- **macOS**: `sh/docker-compose-MACOS.yml`
- **Windows**: `sh/docker-compose-WINDOWS.yml`
- **Linux**: `sh/docker-compose-Linux.yml`
- **ç¾¤æ™– NAS**: `sh/docker-compose-Synology.yml`

#### 5. æ„å»ºå¹¶å¯åŠ¨æœåŠ¡

```bash
# è¿›å…¥ sh ç›®å½•
cd sh

# ä½¿ç”¨æ ‡å‡†é…ç½®æ„å»ºå¹¶å¯åŠ¨
docker compose -f docker-compose.yml up -d --build

# æˆ–ä½¿ç”¨å¹³å°ç‰¹å®šé…ç½®ï¼ˆä»¥ Linux ä¸ºä¾‹ï¼‰
docker compose -f docker-compose-Linux.yml up -d --build
```

#### 6. æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker compose -f docker-compose.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker compose -f docker-compose.yml logs -f
```

#### 7. åˆå§‹åŒ–ç®¡ç†å‘˜è´¦æˆ·

```bash
# æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
docker compose -f docker-compose.yml exec backend node scripts/initAdmin.js

# æˆ–ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•çš„è„šæœ¬
cd ..
chmod +x sh/init-admin.sh
./sh/init-admin.sh
```

### æ–¹å¼ä¸‰ï¼šç¾¤æ™– NAS éƒ¨ç½²

#### 1. é€šè¿‡ SSH è¿æ¥åˆ°ç¾¤æ™–

```bash
ssh admin@your-nas-ip
```

#### 2. å…‹éš†é¡¹ç›®

```bash
cd /volume1/docker  # æˆ–å…¶ä»–æ‚¨å¸Œæœ›å®‰è£…çš„ç›®å½•
git clone https://github.com/ttbye/readknows.git
cd readknows
```

#### 3. ä¿®æ”¹ docker-compose-Synology.yml

æ ¹æ®æ‚¨çš„ç¾¤æ™–é…ç½®ï¼Œä¿®æ”¹æ•°æ®ç›®å½•è·¯å¾„ï¼š

```yaml
volumes:
  - /volume1/docker/ReadKnows/data:/app/data
  - /volume1/docker/ReadKnows/books:/app/books
  # ... å…¶ä»–ç›®å½•
```

#### 4. è¿è¡Œå®‰è£…è„šæœ¬

```bash
chmod +x install.sh
./install.sh
```

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ç¾¤æ™–ç¯å¢ƒå¹¶ä½¿ç”¨å¯¹åº”çš„é…ç½®ã€‚

#### 5. é€šè¿‡ç¾¤æ™– Docker å¥—ä»¶ç®¡ç†

æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç¾¤æ™–çš„ Docker å¥—ä»¶å›¾å½¢ç•Œé¢æ¥ç®¡ç†å®¹å™¨ï¼š

1. æ‰“å¼€ **Docker** å¥—ä»¶
2. é€‰æ‹© **å®¹å™¨** æ ‡ç­¾
3. æ‰¾åˆ° `readknows-backend` å’Œ `readknows-frontend` å®¹å™¨
4. å¯ä»¥åœ¨è¿™é‡Œå¯åŠ¨ã€åœæ­¢ã€æŸ¥çœ‹æ—¥å¿—ç­‰

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

`.env` æ–‡ä»¶åŒ…å«ä»¥ä¸‹é…ç½®é¡¹ï¼š

```env
# ============================================
# JWT è®¤è¯é…ç½®
# ============================================
JWT_SECRET=your-secret-key-here-change-in-production
JWT_EXPIRES_IN=7d

# ============================================
# è±†ç“£ API é…ç½®ï¼ˆå¯é€‰ï¼‰
# ============================================
# ç”¨äºè‡ªåŠ¨è·å–ä¹¦ç±ä¿¡æ¯ï¼Œéœ€è¦ç”³è¯·è±†ç“£ API Key
DOUBAN_API_BASE=https://api.douban.com/v2

# ============================================
# AI é…ç½®ï¼ˆå¯é€‰ï¼‰
# ============================================
# AI æœåŠ¡æä¾›å•†ï¼šollama, openai, anthropic ç­‰
AI_PROVIDER=ollama

# AI API åœ°å€
# å¦‚æœä½¿ç”¨ Ollamaï¼Œå‰ç«¯ nginx ä¼šä»£ç†åˆ° OLLAMA_URL
AI_API_URL=http://frontend:1280/ollama-proxy

# AI API Keyï¼ˆæŸäº›æœåŠ¡éœ€è¦ï¼‰
AI_API_KEY=

# AI æ¨¡å‹åç§°
AI_MODEL=llama2

# ============================================
# Ollama æœåŠ¡å™¨é…ç½®
# ============================================
# Ollama æœåŠ¡å™¨åœ°å€
# å¦‚æœ Ollama åœ¨å®¿ä¸»æœºä¸Šï¼šhttp://host.docker.internal:11434
# å¦‚æœ Ollama åœ¨å±€åŸŸç½‘å…¶ä»–æœºå™¨ï¼šhttp://192.168.1.100:11434
OLLAMA_URL=http://host.docker.internal:11434
```

### æ•°æ®ç›®å½•ç»“æ„

é»˜è®¤æ•°æ®ç›®å½•ç»“æ„ï¼š

```
data/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ data/          # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ database.db
â”‚   â”œâ”€â”€ books/         # ä¹¦ç±æ–‡ä»¶å­˜å‚¨ç›®å½•
â”‚   â”‚   â”œâ”€â”€ public/    # å…¬å…±ä¹¦ç±
â”‚   â”‚   â””â”€â”€ user/      # ç”¨æˆ·ç§æœ‰ä¹¦ç±
â”‚   â”œâ”€â”€ covers/        # å°é¢å›¾ç‰‡å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ fonts/         # å­—ä½“æ–‡ä»¶å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ import/        # å¯¼å…¥ç›®å½•ï¼ˆç›‘æ§æ­¤ç›®å½•è‡ªåŠ¨å¯¼å…¥ï¼‰
```

### ç«¯å£é…ç½®

é»˜è®¤ç«¯å£é…ç½®ï¼š

- **å‰ç«¯**: 1280 (HTTP)
- **åç«¯ API**: 1281 (HTTP)

ä¿®æ”¹ç«¯å£ï¼š

åœ¨ `docker-compose.yml` ä¸­ä¿®æ”¹ç«¯å£æ˜ å°„ï¼š

```yaml
services:
  frontend:
    ports:
      - "8080:1280"  # å°†å‰ç«¯ç«¯å£æ”¹ä¸º 8080
  backend:
    ports:
      - "8081:1281"  # å°†åç«¯ç«¯å£æ”¹ä¸º 8081
```

### ç½‘ç»œé…ç½®

#### è®¿é—®å®¿ä¸»æœºæœåŠ¡

å¦‚æœéœ€è¦åœ¨å®¹å™¨å†…è®¿é—®å®¿ä¸»æœºä¸Šçš„æœåŠ¡ï¼ˆå¦‚ Ollamaï¼‰ï¼Œä½¿ç”¨ `host.docker.internal`ï¼š

```env
OLLAMA_URL=http://host.docker.internal:11434
```

#### è®¿é—®å±€åŸŸç½‘å…¶ä»–è®¾å¤‡

ç›´æ¥ä½¿ç”¨ IP åœ°å€ï¼š

```env
OLLAMA_URL=http://192.168.1.100:11434
```

---

## ğŸ“– ä½¿ç”¨æ–‡æ¡£

### é¦–æ¬¡ç™»å½•

å®‰è£…å®Œæˆåï¼Œä½¿ç”¨é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ç™»å½•ï¼š

- **ç”¨æˆ·å**: `books`
- **å¯†ç **: `books`
- **é‚®ç®±**: `admin@readknows.local`

> âš ï¸ **å®‰å…¨æç¤º**: é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

### å®‰è£… Calibreï¼ˆMOBI è½¬ EPUBï¼‰

å¦‚æœéœ€è¦ MOBI è½¬ EPUB åŠŸèƒ½ï¼Œéœ€è¦å®‰è£… Calibreï¼š

```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰
chmod +x sh/install-calibre.sh
./sh/install-calibre.sh

# æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
docker compose exec backend bash
# åœ¨å®¹å™¨å†…æ‰§è¡Œå®‰è£…è„šæœ¬
```

å®‰è£…å®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ”¯æŒ MOBI æ ¼å¼è½¬æ¢ã€‚

### åˆå§‹åŒ–ç®¡ç†å‘˜è´¦æˆ·

å¦‚æœå®‰è£…æ—¶è·³è¿‡äº†ç®¡ç†å‘˜åˆå§‹åŒ–ï¼Œå¯ä»¥æ‰‹åŠ¨åˆå§‹åŒ–ï¼š

```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨è„šæœ¬
chmod +x sh/init-admin.sh
./sh/init-admin.sh

# æ–¹æ³•äºŒï¼šç›´æ¥æ‰§è¡Œ
docker compose exec backend node scripts/initAdmin.js
```

### æ‰¹é‡å¯¼å…¥ä¹¦ç±

#### æ–¹æ³•ä¸€ï¼šé€šè¿‡ Web ç•Œé¢å¯¼å…¥

1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥ **ä¸Šä¼ ** é¡µé¢
3. ç‚¹å‡» **æ‰¹é‡å¯¼å…¥** æˆ– **æ‰«æå¯¼å…¥**
4. é€‰æ‹©è¦å¯¼å…¥çš„ç›®å½•
5. ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰«æå¹¶å¯¼å…¥ä¹¦ç±

#### æ–¹æ³•äºŒï¼šæ–‡ä»¶ç›‘æ§è‡ªåŠ¨å¯¼å…¥

1. å°†ä¹¦ç±æ–‡ä»¶æ”¾å…¥ `data/backend/import/` ç›®å½•
2. ç³»ç»Ÿä¼šè‡ªåŠ¨ç›‘æ§æ­¤ç›®å½•
3. æ£€æµ‹åˆ°æ–°æ–‡ä»¶åè‡ªåŠ¨å¯¼å…¥

#### æ–¹æ³•ä¸‰ï¼šæ‰‹åŠ¨å¤åˆ¶æ–‡ä»¶

1. å°†ä¹¦ç±æ–‡ä»¶å¤åˆ¶åˆ° `data/backend/books/public/` æˆ– `data/backend/books/user/{username}/`
2. åœ¨ Web ç•Œé¢ç‚¹å‡» **æ‰«æå¯¼å…¥**
3. ç³»ç»Ÿä¼šæ‰«æå¹¶è¯†åˆ«æ–°æ–‡ä»¶

### å¸¸ç”¨ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose -f sh/docker-compose.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker compose -f sh/docker-compose.yml logs -f

# æŸ¥çœ‹åç«¯æ—¥å¿—
docker compose -f sh/docker-compose.yml logs -f backend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker compose -f sh/docker-compose.yml logs -f frontend

# é‡å¯æœåŠ¡
docker compose -f sh/docker-compose.yml restart

# åœæ­¢æœåŠ¡
docker compose -f sh/docker-compose.yml stop

# å¯åŠ¨æœåŠ¡
docker compose -f sh/docker-compose.yml start

# åœæ­¢å¹¶åˆ é™¤å®¹å™¨
docker compose -f sh/docker-compose.yml down

# åœæ­¢å¹¶åˆ é™¤å®¹å™¨å’Œå·ï¼ˆæ³¨æ„ï¼šä¼šåˆ é™¤æ•°æ®ï¼‰
docker compose -f sh/docker-compose.yml down -v

# é‡å»ºé•œåƒ
docker compose -f sh/docker-compose.yml build --no-cache

# è¿›å…¥åç«¯å®¹å™¨
docker compose -f sh/docker-compose.yml exec backend bash

# è¿›å…¥å‰ç«¯å®¹å™¨
docker compose -f sh/docker-compose.yml exec frontend sh
```

### æ•°æ®å¤‡ä»½

#### å¤‡ä»½æ•°æ®åº“

```bash
# å¤‡ä»½æ•°æ®åº“æ–‡ä»¶
cp data/backend/data/database.db backup/database-$(date +%Y%m%d).db
```

#### å¤‡ä»½ä¹¦ç±æ–‡ä»¶

```bash
# å¤‡ä»½ä¹¦ç±ç›®å½•
tar -czf backup/books-$(date +%Y%m%d).tar.gz data/backend/books/
```

#### å®Œæ•´å¤‡ä»½

```bash
# å¤‡ä»½æ•´ä¸ªæ•°æ®ç›®å½•
tar -czf backup/readknows-$(date +%Y%m%d).tar.gz data/backend/
```

### æ•°æ®æ¢å¤

```bash
# æ¢å¤æ•°æ®åº“
cp backup/database-20251213.db data/backend/data/database.db

# æ¢å¤ä¹¦ç±æ–‡ä»¶
tar -xzf backup/books-20251213.tar.gz -C data/backend/

# æ¢å¤å®Œæ•´æ•°æ®
tar -xzf backup/readknows-20251213.tar.gz -C data/backend/
```

### é•œåƒç®¡ç†

#### å¯¼å‡ºé•œåƒï¼ˆç”¨äºè¿ç§»ï¼‰

```bash
# ä½¿ç”¨è„šæœ¬å¯¼å‡º
chmod +x sh/Dockerexport-images.sh
./sh/Dockerexport-images.sh

# æˆ–æ‰‹åŠ¨å¯¼å‡º
docker save ttbye/readknows-backend:latest -o docker-images/readknows-backend-latest.tar
docker save ttbye/readknows-frontend:latest -o docker-images/readknows-frontend-latest.tar
```

#### å¯¼å…¥é•œåƒï¼ˆåœ¨æ–°æœåŠ¡å™¨ä¸Šï¼‰

```bash
# ä½¿ç”¨è„šæœ¬å¯¼å…¥
chmod +x sh/Dockerimport-images.sh
./sh/Dockerimport-images.sh

# æˆ–æ‰‹åŠ¨å¯¼å…¥
docker load -i docker-images/readknows-backend-latest.tar
docker load -i docker-images/readknows-frontend-latest.tar
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º

#### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

#### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `backend/.env`ï¼š

```env
PORT=1281
JWT_SECRET=dev-secret-key
JWT_EXPIRES_IN=7d
DB_PATH=./data/database.db
BOOKS_DIR=./books
```

#### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd backend
npm run build
npm start
# æ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»º
```

#### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd backend
npm run dev

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd frontend
npm run dev
```

è®¿é—®åœ°å€ï¼š
- å‰ç«¯å¼€å‘æœåŠ¡å™¨: http://localhost:5173
- åç«¯å¼€å‘æœåŠ¡å™¨: http://localhost:1281

### é¡¹ç›®ç»“æ„

```
readknows/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ db/            # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ routes/        # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts       # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ scripts/           # å·¥å…·è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ initAdmin.js   # åˆå§‹åŒ–ç®¡ç†å‘˜
â”‚   â”‚   â”œâ”€â”€ resetPassword.js
â”‚   â”‚   â””â”€â”€ clearDatabase.js
â”‚   â”œâ”€â”€ dist/              # ç¼–è¯‘è¾“å‡º
â”‚   â”œâ”€â”€ Dockerfile         # Docker é…ç½®
â”‚   â”œâ”€â”€ Dockerfile.debian  # Debian ç‰ˆæœ¬ Dockerfile
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/              # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/   # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ hooks/        # Hooks
â”‚   â”‚   â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ App.tsx        # å…¥å£ç»„ä»¶
â”‚   â”œâ”€â”€ public/           # é™æ€èµ„æº
â”‚   â”œâ”€â”€ dist/             # æ„å»ºè¾“å‡º
â”‚   â”œâ”€â”€ Dockerfile        # Docker é…ç½®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ sh/                   # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ docker-compose.yml           # æ ‡å‡†é…ç½®
â”‚   â”œâ”€â”€ docker-compose-MACOS.yml     # macOS é…ç½®
â”‚   â”œâ”€â”€ docker-compose-WINDOWS.yml   # Windows é…ç½®
â”‚   â”œâ”€â”€ docker-compose-Linux.yml     # Linux é…ç½®
â”‚   â”œâ”€â”€ docker-compose-Synology.yml  # ç¾¤æ™–é…ç½®
â”‚   â”œâ”€â”€ install-calibre.sh           # Calibre å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ init-admin.sh                 # ç®¡ç†å‘˜åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ ...                          # å…¶ä»–è„šæœ¬
â”œâ”€â”€ data/                 # æ•°æ®ç›®å½•ï¼ˆè¿è¡Œæ—¶åˆ›å»ºï¼‰
â”œâ”€â”€ docker-images/        # å¯¼å‡ºçš„é•œåƒæ–‡ä»¶
â”œâ”€â”€ install.sh           # ä¸€é”®å®‰è£…è„šæœ¬
â”œâ”€â”€ .env                 # ç¯å¢ƒå˜é‡é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®æ–‡æ¡£
```

### æ„å»ºé¡¹ç›®

#### æ„å»ºåç«¯

```bash
cd backend
npm run build
```

#### æ„å»ºå‰ç«¯

```bash
cd frontend
npm run build
```

#### æ„å»º Docker é•œåƒ

```bash
# æ„å»ºåç«¯é•œåƒ
cd backend
docker build -t ttbye/readknows-backend:latest -f Dockerfile.debian .

# æ„å»ºå‰ç«¯é•œåƒ
cd frontend
docker build -t ttbye/readknows-frontend:latest .
```

### API æ–‡æ¡£

#### è®¤è¯ç›¸å…³

- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º

#### ä¹¦ç±ç›¸å…³

- `GET /api/books` - è·å–ä¹¦ç±åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€æ’åºï¼‰
- `GET /api/books/:id` - è·å–ä¹¦ç±è¯¦æƒ…
- `POST /api/books/upload` - ä¸Šä¼ ä¹¦ç±
- `PUT /api/books/:id` - æ›´æ–°ä¹¦ç±ä¿¡æ¯
- `DELETE /api/books/:id` - åˆ é™¤ä¹¦ç±
- `GET /api/books/recent` - è·å–æœ€è¿‘æ–°å¢ä¹¦ç±
- `POST /api/books/:id/extract-cover` - æå–ä¹¦ç±å°é¢

#### ä¹¦æ¶ç›¸å…³

- `GET /api/shelf/my` - è·å–æˆ‘çš„ä¹¦æ¶
- `POST /api/shelf/add` - æ·»åŠ åˆ°ä¹¦æ¶
- `DELETE /api/shelf/remove/:bookId` - ä»ä¹¦æ¶ç§»é™¤
- `GET /api/shelf/check/:bookId` - æ£€æŸ¥æ˜¯å¦åœ¨ä¹¦æ¶

#### é˜…è¯»ç›¸å…³

- `GET /api/reading/progress` - è·å–æ‰€æœ‰é˜…è¯»è¿›åº¦
- `GET /api/reading/progress/:bookId` - è·å–ä¹¦ç±é˜…è¯»è¿›åº¦
- `POST /api/reading/progress` - æ›´æ–°é˜…è¯»è¿›åº¦
- `GET /api/reading/history` - è·å–é˜…è¯»å†å²
- `GET /api/reading/history/stats/summary` - è·å–é˜…è¯»ç»Ÿè®¡

#### ç¬”è®°ç›¸å…³

- `GET /api/notes` - è·å–ç¬”è®°åˆ—è¡¨
- `POST /api/notes` - åˆ›å»ºç¬”è®°
- `PUT /api/notes/:id` - æ›´æ–°ç¬”è®°
- `DELETE /api/notes/:id` - åˆ é™¤ç¬”è®°

#### é«˜äº®ç›¸å…³ï¼ˆEPUBï¼‰

- `GET /api/highlights/book/:bookId` - è·å–æŸæœ¬ä¹¦çš„é«˜äº®åˆ—è¡¨
- `POST /api/highlights` - æ–°å¢/æ›´æ–°é«˜äº®ï¼ˆæ”¯æŒç¦»çº¿è¡¥ä¼  upsertï¼‰
- `DELETE /api/highlights/:id` - åˆ é™¤é«˜äº®ï¼ˆè½¯åˆ é™¤ï¼‰

#### AI ç›¸å…³

- `GET /api/ai/test` - æµ‹è¯• AI é…ç½®
- `POST /api/ai/chat` - AI å¯¹è¯

#### ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰

- `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /api/users` - åˆ›å»ºç”¨æˆ·
- `PUT /api/users/:id` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `DELETE /api/users/:id` - åˆ é™¤ç”¨æˆ·
- `POST /api/users/:id/reset-password` - é‡ç½®ç”¨æˆ·å¯†ç 

#### IP ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰

- `GET /api/ip/whitelist` - è·å– IP ç™½åå•
- `POST /api/ip/whitelist` - æ·»åŠ  IP åˆ°ç™½åå•
- `DELETE /api/ip/whitelist/:id` - ä»ç™½åå•ç§»é™¤
- `GET /api/ip/blacklist` - è·å– IP é»‘åå•
- `POST /api/ip/blacklist` - æ·»åŠ  IP åˆ°é»‘åå•
- `DELETE /api/ip/blacklist/:id` - ä»é»‘åå•ç§»é™¤

#### å…¶ä»–

- `GET /api/health` - å¥åº·æ£€æŸ¥
- `GET /api/fonts` - è·å–å­—ä½“åˆ—è¡¨
- `POST /api/fonts/upload` - ä¸Šä¼ å­—ä½“
- `GET /opds` - OPDS ç›®å½•

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼

1. **æŠ¥å‘Šé—®é¢˜**: åœ¨ [Issues](https://github.com/ttbye/readknows/issues) ä¸­æŠ¥å‘Š Bug æˆ–æå‡ºåŠŸèƒ½å»ºè®®
2. **æäº¤ä»£ç **: Fork é¡¹ç›®ï¼Œåˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼Œæäº¤ Pull Request
3. **æ”¹è¿›æ–‡æ¡£**: å¸®åŠ©æ”¹è¿›é¡¹ç›®æ–‡æ¡£
4. **åˆ†äº«åé¦ˆ**: åˆ†äº«ä½¿ç”¨ä½“éªŒå’Œæ”¹è¿›å»ºè®®

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- æäº¤å‰è¿è¡Œæµ‹è¯•
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š

---

## ğŸ“ ç‰ˆæœ¬è¯´æ˜

### v1.225.12 (2025-12-26)

#### âœ¨ æ–°å¢åŠŸèƒ½

1. **TTS-API-Liteï¼ˆè½»é‡ TTS åœ¨çº¿ç”Ÿæˆ API ç³»ç»Ÿï¼‰**
   - è½»é‡çº§ TTS æœåŠ¡ï¼Œå»ºè®®æ™®é€šæœåŠ¡å™¨å®‰è£…
   - æä¾›åœ¨çº¿ TTS ç”Ÿæˆ API
   - èµ„æºå ç”¨ä½ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ

2. **TTS-APIï¼ˆå®Œæ•´ TTS æœåŠ¡ï¼‰**
   - æ”¯æŒåœ¨çº¿ TTS å’Œæœ¬åœ° TTS ç”Ÿæˆ
   - å¯¹ GPU ç¡¬ä»¶è¦æ±‚è¾ƒé«˜
   - è¯­éŸ³ç”Ÿæˆé€Ÿåº¦è¾ƒæ…¢ï¼Œä»…ä¾›ä½“éªŒ

3. **Office æ–‡æ¡£æ”¯æŒ**
   - å¢åŠ  Office æ–‡æ¡£ï¼ˆWordã€Excelã€PowerPointï¼‰çš„ä¸Šä¼ åŠŸèƒ½
   - æ”¯æŒç®€å•æ–‡æ¡£æµè§ˆåŠŸèƒ½

4. **ç¬”è®°å¯¼å‡ºå’Œå¯¼å…¥å¢å¼º**
   - ç¬”è®°åŠé«˜äº®å†…å®¹å¯å¯¼å‡ºä¸º Markdown
   - æ”¯æŒå°†å¯¼å‡ºçš„ç¬”è®°ä½œä¸ºæ–°ä¹¦ç±æ·»åŠ åˆ°æœåŠ¡å™¨

5. **è¯­éŸ³æœ—è¯»åŠŸèƒ½ï¼ˆBetaï¼‰**
   - åˆ©ç”¨åœ¨çº¿ Edge-TTS å®ç°è¯­éŸ³æœ—è¯»
   - ç›®å‰ä¸º Beta ç‰ˆæœ¬ï¼Œä»…ä¾›ä½“éªŒ
   - åç»­å°†ç»§ç»­ä¿®å¤å®Œå–„

#### ğŸ› ä¿®å¤å†…å®¹

1. **ä¿®å¤ Ollama æœ¬åœ°æœåŠ¡æ— æ³•è°ƒç”¨é—®é¢˜**
   - ä¿®å¤äº†æœ¬åœ° Ollama æœåŠ¡è¿æ¥é—®é¢˜
   - æ”¹è¿›äº†æœåŠ¡å‘ç°å’Œè¿æ¥æœºåˆ¶

2. **ä¿®å¤å¤§é‡ Bug**
   - ä¿®å¤äº†å¤šä¸ªå·²çŸ¥é—®é¢˜
   - æ”¹è¿›äº†ç³»ç»Ÿç¨³å®šæ€§å’Œæ€§èƒ½

#### âš ï¸ ç°å­˜é—®é¢˜

1. **è¯­éŸ³æœ—è¯»åŠŸèƒ½ä½“éªŒä¸ä½³**
   - å½“å‰è¯­éŸ³æœ—è¯»åŠŸèƒ½ä¸º Beta ç‰ˆæœ¬
   - ä½“éªŒæ•ˆæœæœ‰å¾…æ”¹è¿›
   - åç»­ç‰ˆæœ¬å°†ç»§ç»­ä¼˜åŒ–

2. **OPDS åŠŸèƒ½æš‚æ—¶æœ‰é—®é¢˜**
   - OPDS åŠŸèƒ½ç›®å‰å­˜åœ¨ä¸€äº›é—®é¢˜
   - æ­£åœ¨ä¿®å¤ä¸­ï¼Œé¢„è®¡ä¸‹ä¸ªç‰ˆæœ¬è§£å†³

#### ğŸ“‹ æŠ€æœ¯ç»†èŠ‚

- **ç‰ˆæœ¬å·**: 1.225.12
- **æ„å»ºæ—¶é—´**: 2025-12-26
- **Node.js**: 20.x
- **æ•°æ®åº“**: SQLite

### v1.2025.12 (2025-12-17)

#### âœ¨ æ–°åŠŸèƒ½ / ä¼˜åŒ–

- âœ… EPUB é«˜äº®ï¼ˆç¦»çº¿ç¼“å­˜ + è”ç½‘åŒæ­¥ï¼‰ä¸é«˜äº®ç‚¹å‡»å›é€‰
- âœ… æ–‡æœ¬é€‰æ‹©èœå•å‡çº§ï¼ˆé«˜äº®/ç¬”è®°/å¤åˆ¶/æœç´¢/è¯å…¸/ç¿»è¯‘ï¼‰
- âœ… ç¬”è®°ä¸é«˜äº®å¯¼å‡º Markdownï¼›å¯å¯¼å…¥ä¸º"ç¬”è®°ä¹¦"ï¼ˆç§æœ‰ä¹¦ç±ï¼Œåˆ†ç±»ã€Œç¬”è®°ã€ï¼Œå°é¢å åŠ "ç¬”è®°"ï¼‰
- âœ… è·¨è®¾å¤‡è¿›åº¦å˜æ›´æé†’ï¼ˆå›åˆ°å‰å°/èšç„¦æ£€æµ‹ï¼›æç¤ºåŒ…å«ç« èŠ‚ä¿¡æ¯ï¼›é¿å…é‡å¤æç¤ºï¼‰
- âœ… EPUB è¿›åº¦å±•ç¤ºæ”¹ä¸ºç™¾åˆ†æ¯”ï¼ˆ2 ä½å°æ•°ï¼‰ï¼Œæ›´ç¨³å®š

#### ğŸ› ä¿®å¤

- âœ… epubjs hooks å…¼å®¹ï¼šä¿®å¤å¤šç§ TypeError ä¸ Locations.parse(ownerDocument) ç›¸å…³æŠ¥é”™
- âœ… PDF ç§»åŠ¨ç«¯/PWA çºµå‘æ‹‰ä¼¸å˜å½¢é—®é¢˜
- âœ… Markdown é˜…è¯»å™¨è¾¹è·ä¸æ¸²æŸ“æ ·å¼ä¼˜åŒ–
- âœ… é¡¶éƒ¨å¯¼èˆªæ å›ºå®šä¸ä¸‹æ‹‰åˆ·æ–°ä½“éªŒä¿®å¤

---

### å†å²ç‰ˆæœ¬

#### v1.1025.12 ä¹‹å‰ç‰ˆæœ¬

- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒ EPUBã€PDFã€TXTã€MOBI æ ¼å¼
- âœ… å¤šç”¨æˆ·ç³»ç»Ÿ
- âœ… PWA æ”¯æŒ
- âœ… Docker éƒ¨ç½²
- âœ… AI é›†æˆï¼ˆOllamaï¼‰
- âœ… æ‰¹é‡å¯¼å…¥åŠŸèƒ½
- âœ… é˜…è¯»ç¬”è®°å’Œé«˜äº®
- âœ… ä¹¦ç±åˆ†ç±»ç®¡ç†
- âœ… ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- âœ… IP è®¿é—®æ§åˆ¶
- âœ… OPDS æ”¯æŒ
- âœ… å…¨æ–‡æœç´¢
- âœ… é˜…è¯»ç»Ÿè®¡
- âœ… æ–‡ä»¶ç›‘æ§è‡ªåŠ¨å¯¼å…¥

---

## æˆªå›¾
<img width="2634" height="2434" alt="image" src="https://github.com/user-attachments/assets/b097653e-546d-4541-a233-b328ec977956" />
<img width="2628" height="2382" alt="image" src="https://github.com/user-attachments/assets/a75f07ab-188f-4d38-bac3-13a7269bee5a" />
<img width="856" height="1858" alt="image" src="https://github.com/user-attachments/assets/8118a411-1eed-4367-a7fa-2aa47ec671ee" />
<img width="856" height="1862" alt="image" src="https://github.com/user-attachments/assets/1015994a-67e1-4ed2-b883-87c0516097da" />


## ğŸ› å¸¸è§é—®é¢˜

### Docker ç›¸å…³é—®é¢˜

#### Q: å®¹å™¨å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. **æ£€æŸ¥ Docker æœåŠ¡æ˜¯å¦è¿è¡Œ**:
   ```bash
   docker info
   ```

2. **æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨**:
   ```bash
   # Linux/macOS
   lsof -i :1280
   lsof -i :1281
   
   # Windows
   netstat -ano | findstr :1280
   netstat -ano | findstr :1281
   ```

3. **æŸ¥çœ‹å®¹å™¨æ—¥å¿—**:
   ```bash
   docker compose logs backend
   docker compose logs frontend
   ```

4. **æ£€æŸ¥ç£ç›˜ç©ºé—´**:
   ```bash
   df -h
   ```

#### Q: EPUB å°é¢æ— æ³•æå–/æ˜¾ç¤º

A: é€šå¸¸æ˜¯ç›®å½•æƒé™é—®é¢˜ï¼š

```bash
# ä¿®å¤æƒé™
sudo chmod -R 777 data/backend/covers

# é‡å¯å®¹å™¨
docker compose restart backend
```

#### Q: æ— æ³•è®¿é—®å®¿ä¸»æœºæœåŠ¡ï¼ˆå¦‚ Ollamaï¼‰

A: æ£€æŸ¥ç½‘ç»œé…ç½®ï¼š

1. **ä½¿ç”¨ host.docker.internal**:
   ```env
   OLLAMA_URL=http://host.docker.internal:11434
   ```

2. **Linux éœ€è¦é¢å¤–é…ç½®**:
   ```bash
   # åœ¨ docker-compose.yml ä¸­æ·»åŠ 
   extra_hosts:
     - "host.docker.internal:host-gateway"
   ```

### åŠŸèƒ½ç›¸å…³é—®é¢˜

#### Q: MOBI æ–‡ä»¶æ— æ³•è½¬æ¢

A: éœ€è¦å®‰è£… Calibreï¼š

```bash
./sh/install-calibre.sh
```

#### Q: ä¸Šä¼ å¤§æ–‡ä»¶å¤±è´¥

A: æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š

1. **Nginx ä¸Šä¼ å¤§å°é™åˆ¶**ï¼ˆå‰ç«¯ï¼‰:
   ä¿®æ”¹ `frontend/nginx.conf` ä¸­çš„ `client_max_body_size`

2. **åç«¯è¯·æ±‚å¤§å°é™åˆ¶**:
   å·²åœ¨ä»£ç ä¸­è®¾ç½®ä¸º 500MB

#### Q: å¿˜è®°ç®¡ç†å‘˜å¯†ç 

A: é‡ç½®å¯†ç ï¼š

```bash
docker compose exec backend node scripts/resetPassword.js
```

### æ€§èƒ½ä¼˜åŒ–

#### Q: å¦‚ä½•æé«˜æ€§èƒ½ï¼Ÿ

A: å»ºè®®ï¼š

1. **ä½¿ç”¨ SSD å­˜å‚¨æ•°æ®ç›®å½•**
2. **å¢åŠ  Docker å†…å­˜é™åˆ¶**
3. **å®šæœŸæ¸…ç†æœªä½¿ç”¨çš„é•œåƒå’Œå®¹å™¨**
4. **ä½¿ç”¨åå‘ä»£ç†ï¼ˆNginxï¼‰ç¼“å­˜é™æ€èµ„æº**

---

## ğŸ”’ å®‰å…¨è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **: é¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. **ä½¿ç”¨å¼ºå¯†ç **: JWT_SECRET åº”ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²
3. **é…ç½® HTTPS**: å»ºè®®ä½¿ç”¨ Nginx åå‘ä»£ç†é…ç½® HTTPS
4. **å®šæœŸå¤‡ä»½**: å®šæœŸå¤‡ä»½æ•°æ®åº“å’Œä¹¦ç±æ–‡ä»¶
5. **IP è®¿é—®æ§åˆ¶**: é…ç½® IP ç™½åå•é™åˆ¶è®¿é—®
6. **æ›´æ–°ä¾èµ–**: å®šæœŸæ›´æ–°ä¾èµ–åŒ…ä¿®å¤å®‰å…¨æ¼æ´
7. **é˜²ç«å¢™é…ç½®**: é…ç½®é˜²ç«å¢™è§„åˆ™é™åˆ¶ç«¯å£è®¿é—®

### æ•°æ®å®‰å…¨

- å¯†ç ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨
- JWT Token æœ‰è¿‡æœŸæ—¶é—´
- æ”¯æŒ IP è®¿é—®æ§åˆ¶
- æ•°æ®åº“æ–‡ä»¶æƒé™æ§åˆ¶

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

---

## ğŸ™ è‡´è°¢

- [EPUB.js](https://github.com/futurepress/epub.js) - EPUB é˜…è¯»å™¨
- [PDF.js](https://github.com/mozilla/pdf.js) - PDF é˜…è¯»å™¨
- [Calibre](https://calibre-ebook.com/) - ç”µå­ä¹¦ç®¡ç†å·¥å…·
- [React](https://react.dev/) - UI æ¡†æ¶
- [Express](https://expressjs.com/) - Web æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·

---

## ğŸ“® è”ç³»æ–¹å¼

- **ä½œè€…**: ttbye
- **é¡¹ç›®åœ°å€**: https://github.com/ttbye/readknows
- **é—®é¢˜åé¦ˆ**: https://github.com/ttbye/readknows/issues

---

## â­ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Star â­ï¼

---

<div align="center">

**Made with â¤ï¸ by ttbye**

[â¬† å›åˆ°é¡¶éƒ¨](#-readknows-è¯»å£«ç§äººä¹¦åº“)

</div>
