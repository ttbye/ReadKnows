const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B17s_-jd.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/pdf-CMOiduxT.js"])))=>i.map(i=>d[i]);
var Oy=Object.defineProperty;var Fy=(e,t,r)=>t in e?Oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ls=(e,t,r)=>Fy(e,typeof t!="symbol"?t+"":t,r);function Dy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(n,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();const By="modulepreload",$y=function(e){return"/"+e},_f={},ta=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=$y(c),c in _f)return;_f[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":By,u||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&l(o.reason);return t().catch(l)})};var fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var mp={exports:{}},Qi={},pp={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),Uy=Symbol.for("react.portal"),Hy=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),Vy=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Qy=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),Tf=Symbol.iterator;function Jy(e){return e===null||typeof e!="object"?null:(e=Tf&&e[Tf]||e["@@iterator"],typeof e=="function"?e:null)}var gp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xp=Object.assign,yp={};function Ga(e,t,r){this.props=e,this.context=t,this.refs=yp,this.updater=r||gp}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bp(){}bp.prototype=Ga.prototype;function Gu(e,t,r){this.props=e,this.context=t,this.refs=yp,this.updater=r||gp}var Ju=Gu.prototype=new bp;Ju.constructor=Gu;xp(Ju,Ga.prototype);Ju.isPureReactComponent=!0;var Pf=Array.isArray,vp=Object.prototype.hasOwnProperty,Zu={current:null},kp={key:!0,ref:!0,__self:!0,__source:!0};function wp(e,t,r){var n,s={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)vp.call(t,n)&&!kp.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:il,type:e,key:l,ref:i,props:s,_owner:Zu.current}}function Zy(e,t){return{$$typeof:il,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===il}function eb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rf=/\/+/g;function Io(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eb(""+e.key):t.toString(36)}function Kl(e,t,r,n,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case il:case Uy:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Io(i,0):n,Pf(s)?(r="",e!=null&&(r=e.replace(Rf,"$&/")+"/"),Kl(s,t,r,"",function(u){return u})):s!=null&&(ed(s)&&(s=Zy(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Rf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Pf(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+Io(l,o);i+=Kl(l,t,r,c,s)}else if(c=Jy(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+Io(l,o++),i+=Kl(l,t,r,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Nl(e,t,r){if(e==null)return e;var n=[],s=0;return Kl(e,n,"","",function(l){return t.call(r,l,s++)}),n}function tb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Yl={transition:null},rb={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:Zu};function jp(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Nl,forEach:function(e,t,r){Nl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Ga;He.Fragment=Hy;He.Profiler=Vy;He.PureComponent=Gu;He.StrictMode=Wy;He.Suspense=Xy;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb;He.act=jp;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xp({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Zu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)vp.call(t,c)&&!kp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:il,type:e.type,key:s,ref:l,props:n,_owner:i}};He.createContext=function(e){return e={$$typeof:Ky,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qy,_context:e},e.Consumer=e};He.createElement=wp;He.createFactory=function(e){var t=wp.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:Yy,render:e}};He.isValidElement=ed;He.lazy=function(e){return{$$typeof:Gy,_payload:{_status:-1,_result:e},_init:tb}};He.memo=function(e,t){return{$$typeof:Qy,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=Yl.transition;Yl.transition={};try{e()}finally{Yl.transition=t}};He.unstable_act=jp;He.useCallback=function(e,t){return Yt.current.useCallback(e,t)};He.useContext=function(e){return Yt.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};He.useEffect=function(e,t){return Yt.current.useEffect(e,t)};He.useId=function(){return Yt.current.useId()};He.useImperativeHandle=function(e,t,r){return Yt.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return Yt.current.useMemo(e,t)};He.useReducer=function(e,t,r){return Yt.current.useReducer(e,t,r)};He.useRef=function(e){return Yt.current.useRef(e)};He.useState=function(e){return Yt.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return Yt.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return Yt.current.useTransition()};He.version="18.3.1";pp.exports=He;var g=pp.exports;const td=Xi(g),nb=Dy({__proto__:null,default:td},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=g,sb=Symbol.for("react.element"),lb=Symbol.for("react.fragment"),ib=Object.prototype.hasOwnProperty,ob=ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cb={key:!0,ref:!0,__self:!0,__source:!0};function Np(e,t,r){var n,s={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ib.call(t,n)&&!cb.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:sb,type:e,key:l,ref:i,props:s,_owner:ob.current}}Qi.Fragment=lb;Qi.jsx=Np;Qi.jsxs=Np;mp.exports=Qi;var a=mp.exports,Tc={},Sp={exports:{}},fr={},Cp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,J){var j=M.length;M.push(J);e:for(;0<j;){var te=j-1>>>1,re=M[te];if(0<s(re,J))M[te]=J,M[j]=re,j=te;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var J=M[0],j=M.pop();if(j!==J){M[0]=j;e:for(var te=0,re=M.length,N=re>>>1;te<N;){var Z=2*(te+1)-1,pe=M[Z],ke=Z+1,Le=M[ke];if(0>s(pe,j))ke<re&&0>s(Le,pe)?(M[te]=Le,M[ke]=j,te=ke):(M[te]=pe,M[Z]=j,te=Z);else if(ke<re&&0>s(Le,j))M[te]=Le,M[ke]=j,te=ke;else break e}}return J}function s(M,J){var j=M.sortIndex-J.sortIndex;return j!==0?j:M.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],f=1,d=null,h=3,m=!1,p=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=M)n(u),J.sortIndex=J.expirationTime,t(c,J);else break;J=r(u)}}function w(M){if(b=!1,v(M),!p)if(r(c)!==null)p=!0,B(C);else{var J=r(u);J!==null&&T(w,J.startTime-M)}}function C(M,J){p=!1,b&&(b=!1,x(A),A=-1),m=!0;var j=h;try{for(v(J),d=r(c);d!==null&&(!(d.expirationTime>J)||M&&!L());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var re=te(d.expirationTime<=J);J=e.unstable_now(),typeof re=="function"?d.callback=re:d===r(c)&&n(c),v(J)}else n(c);d=r(c)}if(d!==null)var N=!0;else{var Z=r(u);Z!==null&&T(w,Z.startTime-J),N=!1}return N}finally{d=null,h=j,m=!1}}var S=!1,O=null,A=-1,Q=5,E=-1;function L(){return!(e.unstable_now()-E<Q)}function _(){if(O!==null){var M=e.unstable_now();E=M;var J=!0;try{J=O(!0,M)}finally{J?D():(S=!1,O=null)}}else S=!1}var D;if(typeof y=="function")D=function(){y(_)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,P=z.port2;z.port1.onmessage=_,D=function(){P.postMessage(null)}}else D=function(){k(_,0)};function B(M){O=M,S||(S=!0,D())}function T(M,J){A=k(function(){M(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,B(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var j=h;h=J;try{return M()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var j=h;h=M;try{return J()}finally{h=j}},e.unstable_scheduleCallback=function(M,J,j){var te=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?te+j:te):j=te,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=j+re,M={id:f++,callback:J,priorityLevel:M,startTime:j,expirationTime:re,sortIndex:-1},j>te?(M.sortIndex=j,t(u,M),r(c)===null&&M===r(u)&&(b?(x(A),A=-1):b=!0,T(w,j-te))):(M.sortIndex=re,t(c,M),p||m||(p=!0,B(C))),M},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(M){var J=h;return function(){var j=h;h=J;try{return M.apply(this,arguments)}finally{h=j}}}})(Ep);Cp.exports=Ep;var ub=Cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=g,dr=ub;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _p=new Set,zs={};function da(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(zs[e]=t,e=0;e<t.length;e++)_p.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,fb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mf={},Lf={};function hb(e){return Pc.call(Lf,e)?!0:Pc.call(Mf,e)?!1:fb.test(e)?Lf[e]=!0:(Mf[e]=!0,!1)}function mb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pb(e,t,r,n){if(t===null||typeof t>"u"||mb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,r,n,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rd=/[\-:]([a-z])/g;function nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rd,nd);Lt[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rd,nd);Lt[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rd,nd);Lt[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ad(e,t,r,n){var s=Lt.hasOwnProperty(t)?Lt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pb(t,r,s,n)&&(r=null),n||s===null?hb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fn=db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),ya=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),Rc=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),Mc=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),Rp=Symbol.for("react.offscreen"),If=Symbol.iterator;function is(e){return e===null||typeof e!="object"?null:(e=If&&e[If]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Ao;function vs(e){if(Ao===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ao=t&&t[1]||""}return`
`+Ao+e}var zo=!1;function Oo(e,t){if(!e||zo)return"";zo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=n.stack.split(`
`),i=s.length-1,o=l.length-1;1<=i&&0<=o&&s[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==l[o]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{zo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vs(e):""}function gb(e){switch(e.tag){case 5:return vs(e.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return e=Oo(e.type,!1),e;case 11:return e=Oo(e.type.render,!1),e;case 1:return e=Oo(e.type,!0),e;default:return""}}function Ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case ya:return"Portal";case Rc:return"Profiler";case sd:return"StrictMode";case Mc:return"Suspense";case Lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pp:return(e.displayName||"Context")+".Consumer";case Tp:return(e._context.displayName||"Context")+".Provider";case ld:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case id:return t=e.displayName||null,t!==null?t:Ic(e.type)||"Memo";case yn:t=e._payload,e=e._init;try{return Ic(e(t))}catch{}}return null}function xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ic(t);case 8:return t===sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yb(e){var t=Mp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cl(e){e._valueTracker||(e._valueTracker=yb(e))}function Lp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ac(e,t){var r=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Af(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ip(e,t){t=t.checked,t!=null&&ad(e,"checked",t,!1)}function zc(e,t){Ip(e,t);var r=zn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oc(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Oc(e,t,r){(t!=="number"||hi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ks=Array.isArray;function Pa(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Of(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ie(92));if(ks(r)){if(1<r.length)throw Error(ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zn(r)}}function Ap(e,t){var r=zn(t.value),n=zn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,Op=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bb=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(e){bb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ns[t]=Ns[e]})});function Fp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ns.hasOwnProperty(e)&&Ns[e]?(""+t).trim():t+"px"}function Dp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Fp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var vb=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bc(e,t){if(t){if(vb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function $c(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=null;function od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,Ra=null,Ma=null;function Df(e){if(e=ul(e)){if(typeof Hc!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=to(t),Hc(e.stateNode,e.type,t))}}function Bp(e){Ra?Ma?Ma.push(e):Ma=[e]:Ra=e}function $p(){if(Ra){var e=Ra,t=Ma;if(Ma=Ra=null,Df(e),t)for(e=0;e<t.length;e++)Df(t[e])}}function Up(e,t){return e(t)}function Hp(){}var Fo=!1;function Wp(e,t,r){if(Fo)return e(t,r);Fo=!0;try{return Up(e,t,r)}finally{Fo=!1,(Ra!==null||Ma!==null)&&(Hp(),$p())}}function Fs(e,t){var r=e.stateNode;if(r===null)return null;var n=to(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ie(231,t,typeof r));return r}var Wc=!1;if(ln)try{var os={};Object.defineProperty(os,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Wc=!1}function kb(e,t,r,n,s,l,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Ss=!1,mi=null,pi=!1,Vc=null,wb={onError:function(e){Ss=!0,mi=e}};function jb(e,t,r,n,s,l,i,o,c){Ss=!1,mi=null,kb.apply(wb,arguments)}function Nb(e,t,r,n,s,l,i,o,c){if(jb.apply(this,arguments),Ss){if(Ss){var u=mi;Ss=!1,mi=null}else throw Error(ie(198));pi||(pi=!0,Vc=u)}}function fa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bf(e){if(fa(e)!==e)throw Error(ie(188))}function Sb(e){var t=e.alternate;if(!t){if(t=fa(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return Bf(s),e;if(l===n)return Bf(s),t;l=l.sibling}throw Error(ie(188))}if(r.return!==n.return)r=s,n=l;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,n=l;break}if(o===n){i=!0,n=s,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=s;break}if(o===n){i=!0,n=l,r=s;break}o=o.sibling}if(!i)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?e:t}function qp(e){return e=Sb(e),e!==null?Kp(e):null}function Kp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kp(e);if(t!==null)return t;e=e.sibling}return null}var Yp=dr.unstable_scheduleCallback,$f=dr.unstable_cancelCallback,Cb=dr.unstable_shouldYield,Eb=dr.unstable_requestPaint,mt=dr.unstable_now,_b=dr.unstable_getCurrentPriorityLevel,cd=dr.unstable_ImmediatePriority,Xp=dr.unstable_UserBlockingPriority,gi=dr.unstable_NormalPriority,Tb=dr.unstable_LowPriority,Qp=dr.unstable_IdlePriority,Gi=null,Hr=null;function Pb(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:Lb,Rb=Math.log,Mb=Math.LN2;function Lb(e){return e>>>=0,e===0?32:31-(Rb(e)/Mb|0)|0}var _l=64,Tl=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~s;o!==0?n=ws(o):(l&=i,l!==0&&(n=ws(l)))}else i=r&~s,i!==0?n=ws(i):l!==0&&(n=ws(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Tr(t),s=1<<r,n|=e[r],t&=~s;return n}function Ib(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ab(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Tr(l),o=1<<i,c=s[i];c===-1?(!(o&r)||o&n)&&(s[i]=Ib(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function qc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gp(){var e=_l;return _l<<=1,!(_l&4194240)&&(_l=64),e}function Do(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ol(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tr(t),e[t]=r}function zb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Tr(r),l=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~l}}function ud(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Qe=0;function Jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zp,dd,e0,t0,r0,Kc=!1,Pl=[],En=null,_n=null,Tn=null,Ds=new Map,Bs=new Map,vn=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function cs(e,t,r,n,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[s]},t!==null&&(t=ul(t),t!==null&&dd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fb(e,t,r,n,s){switch(t){case"focusin":return En=cs(En,e,t,r,n,s),!0;case"dragenter":return _n=cs(_n,e,t,r,n,s),!0;case"mouseover":return Tn=cs(Tn,e,t,r,n,s),!0;case"pointerover":var l=s.pointerId;return Ds.set(l,cs(Ds.get(l)||null,e,t,r,n,s)),!0;case"gotpointercapture":return l=s.pointerId,Bs.set(l,cs(Bs.get(l)||null,e,t,r,n,s)),!0}return!1}function n0(e){var t=Yn(e.target);if(t!==null){var r=fa(t);if(r!==null){if(t=r.tag,t===13){if(t=Vp(r),t!==null){e.blockedOn=t,r0(e.priority,function(){e0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Uc=n,r.target.dispatchEvent(n),Uc=null}else return t=ul(r),t!==null&&dd(t),e.blockedOn=r,!1;t.shift()}return!0}function Hf(e,t,r){Xl(e)&&r.delete(t)}function Db(){Kc=!1,En!==null&&Xl(En)&&(En=null),_n!==null&&Xl(_n)&&(_n=null),Tn!==null&&Xl(Tn)&&(Tn=null),Ds.forEach(Hf),Bs.forEach(Hf)}function us(e,t){e.blockedOn===t&&(e.blockedOn=null,Kc||(Kc=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,Db)))}function $s(e){function t(s){return us(s,e)}if(0<Pl.length){us(Pl[0],e);for(var r=1;r<Pl.length;r++){var n=Pl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(En!==null&&us(En,e),_n!==null&&us(_n,e),Tn!==null&&us(Tn,e),Ds.forEach(t),Bs.forEach(t),r=0;r<vn.length;r++)n=vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vn.length&&(r=vn[0],r.blockedOn===null);)n0(r),r.blockedOn===null&&vn.shift()}var La=fn.ReactCurrentBatchConfig,yi=!0;function Bb(e,t,r,n){var s=Qe,l=La.transition;La.transition=null;try{Qe=1,fd(e,t,r,n)}finally{Qe=s,La.transition=l}}function $b(e,t,r,n){var s=Qe,l=La.transition;La.transition=null;try{Qe=4,fd(e,t,r,n)}finally{Qe=s,La.transition=l}}function fd(e,t,r,n){if(yi){var s=Yc(e,t,r,n);if(s===null)Xo(e,t,n,bi,r),Uf(e,n);else if(Fb(s,e,t,r,n))n.stopPropagation();else if(Uf(e,n),t&4&&-1<Ob.indexOf(e)){for(;s!==null;){var l=ul(s);if(l!==null&&Zp(l),l=Yc(e,t,r,n),l===null&&Xo(e,t,n,bi,r),l===s)break;s=l}s!==null&&n.stopPropagation()}else Xo(e,t,n,null,r)}}var bi=null;function Yc(e,t,r,n){if(bi=null,e=od(n),e=Yn(e),e!==null)if(t=fa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bi=e,null}function a0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_b()){case cd:return 1;case Xp:return 4;case gi:case Tb:return 16;case Qp:return 536870912;default:return 16}default:return 16}}var jn=null,hd=null,Ql=null;function s0(){if(Ql)return Ql;var e,t=hd,r=t.length,n,s="value"in jn?jn.value:jn.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[l-n];n++);return Ql=s.slice(e,1<n?1-n:void 0)}function Gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function Wf(){return!1}function hr(e){function t(r,n,s,l,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Rl:Wf,this.isPropagationStopped=Wf,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=hr(Ja),cl=ct({},Ja,{view:0,detail:0}),Ub=hr(cl),Bo,$o,ds,Ji=ct({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ds&&(ds&&e.type==="mousemove"?(Bo=e.screenX-ds.screenX,$o=e.screenY-ds.screenY):$o=Bo=0,ds=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Vf=hr(Ji),Hb=ct({},Ji,{dataTransfer:0}),Wb=hr(Hb),Vb=ct({},cl,{relatedTarget:0}),Uo=hr(Vb),qb=ct({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Kb=hr(qb),Yb=ct({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xb=hr(Yb),Qb=ct({},Ja,{data:0}),qf=hr(Qb),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zb[e])?!!t[e]:!1}function pd(){return ev}var tv=ct({},cl,{key:function(e){if(e.key){var t=Gb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pd,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rv=hr(tv),nv=ct({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=hr(nv),av=ct({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pd}),sv=hr(av),lv=ct({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=hr(lv),ov=ct({},Ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cv=hr(ov),uv=[9,13,27,32],gd=ln&&"CompositionEvent"in window,Cs=null;ln&&"documentMode"in document&&(Cs=document.documentMode);var dv=ln&&"TextEvent"in window&&!Cs,l0=ln&&(!gd||Cs&&8<Cs&&11>=Cs),Yf=" ",Xf=!1;function i0(e,t){switch(e){case"keyup":return uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function fv(e,t){switch(e){case"compositionend":return o0(t);case"keypress":return t.which!==32?null:(Xf=!0,Yf);case"textInput":return e=t.data,e===Yf&&Xf?null:e;default:return null}}function hv(e,t){if(va)return e==="compositionend"||!gd&&i0(e,t)?(e=s0(),Ql=hd=jn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l0&&t.locale!=="ko"?null:t.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mv[e.type]:t==="textarea"}function c0(e,t,r,n){Bp(n),t=vi(t,"onChange"),0<t.length&&(r=new md("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Es=null,Us=null;function pv(e){v0(e,0)}function Zi(e){var t=ja(e);if(Lp(t))return e}function gv(e,t){if(e==="change")return t}var u0=!1;if(ln){var Ho;if(ln){var Wo="oninput"in document;if(!Wo){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),Wo=typeof Gf.oninput=="function"}Ho=Wo}else Ho=!1;u0=Ho&&(!document.documentMode||9<document.documentMode)}function Jf(){Es&&(Es.detachEvent("onpropertychange",d0),Us=Es=null)}function d0(e){if(e.propertyName==="value"&&Zi(Us)){var t=[];c0(t,Us,e,od(e)),Wp(pv,t)}}function xv(e,t,r){e==="focusin"?(Jf(),Es=t,Us=r,Es.attachEvent("onpropertychange",d0)):e==="focusout"&&Jf()}function yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zi(Us)}function bv(e,t){if(e==="click")return Zi(t)}function vv(e,t){if(e==="input"||e==="change")return Zi(t)}function kv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:kv;function Hs(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pc.call(t,s)||!Mr(e[s],t[s]))return!1}return!0}function Zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eh(e,t){var r=Zf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zf(r)}}function f0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h0(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hi(e.document)}return t}function xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wv(e){var t=h0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f0(r.ownerDocument.documentElement,r)){if(n!==null&&xd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(n.start,s);n=n.end===void 0?l:Math.min(n.end,s),!e.extend&&l>n&&(s=n,n=l,l=s),s=eh(r,l);var i=eh(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jv=ln&&"documentMode"in document&&11>=document.documentMode,ka=null,Xc=null,_s=null,Qc=!1;function th(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qc||ka==null||ka!==hi(n)||(n=ka,"selectionStart"in n&&xd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_s&&Hs(_s,n)||(_s=n,n=vi(Xc,"onSelect"),0<n.length&&(t=new md("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ka)))}function Ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wa={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Vo={},m0={};ln&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function eo(e){if(Vo[e])return Vo[e];if(!wa[e])return e;var t=wa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in m0)return Vo[e]=t[r];return e}var p0=eo("animationend"),g0=eo("animationiteration"),x0=eo("animationstart"),y0=eo("transitionend"),b0=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){b0.set(e,t),da(t,[e])}for(var qo=0;qo<rh.length;qo++){var Ko=rh[qo],Nv=Ko.toLowerCase(),Sv=Ko[0].toUpperCase()+Ko.slice(1);Fn(Nv,"on"+Sv)}Fn(p0,"onAnimationEnd");Fn(g0,"onAnimationIteration");Fn(x0,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(y0,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function nh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Nb(n,t,void 0,e),e.currentTarget=null}function v0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&s.isPropagationStopped())break e;nh(s,o,u),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&s.isPropagationStopped())break e;nh(s,o,u),l=c}}}if(pi)throw e=Vc,pi=!1,Vc=null,e}function nt(e,t){var r=t[tu];r===void 0&&(r=t[tu]=new Set);var n=e+"__bubble";r.has(n)||(k0(t,e,2,!1),r.add(n))}function Yo(e,t,r){var n=0;t&&(n|=4),k0(r,e,n,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[Ll]){e[Ll]=!0,_p.forEach(function(r){r!=="selectionchange"&&(Cv.has(r)||Yo(r,!1,e),Yo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,Yo("selectionchange",!1,t))}}function k0(e,t,r,n){switch(a0(t)){case 1:var s=Bb;break;case 4:s=$b;break;default:s=fd}r=s.bind(null,t,r,e),s=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xo(e,t,r,n,s){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;o!==null;){if(i=Yn(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Wp(function(){var u=l,f=od(r),d=[];e:{var h=b0.get(e);if(h!==void 0){var m=md,p=e;switch(e){case"keypress":if(Gl(r)===0)break e;case"keydown":case"keyup":m=rv;break;case"focusin":p="focus",m=Uo;break;case"focusout":p="blur",m=Uo;break;case"beforeblur":case"afterblur":m=Uo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sv;break;case p0:case g0:case x0:m=Kb;break;case y0:m=iv;break;case"scroll":m=Ub;break;case"wheel":m=cv;break;case"copy":case"cut":case"paste":m=Xb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Kf}var b=(t&4)!==0,k=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,x!==null&&(w=Fs(y,x),w!=null&&b.push(Vs(y,w,v)))),k)break;y=y.return}0<b.length&&(h=new m(h,p,null,r,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Uc&&(p=r.relatedTarget||r.fromElement)&&(Yn(p)||p[on]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Yn(p):null,p!==null&&(k=fa(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(b=Vf,w="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=Kf,w="onPointerLeave",x="onPointerEnter",y="pointer"),k=m==null?h:ja(m),v=p==null?h:ja(p),h=new b(w,y+"leave",m,r,f),h.target=k,h.relatedTarget=v,w=null,Yn(f)===u&&(b=new b(x,y+"enter",p,r,f),b.target=v,b.relatedTarget=k,w=b),k=w,m&&p)t:{for(b=m,x=p,y=0,v=b;v;v=pa(v))y++;for(v=0,w=x;w;w=pa(w))v++;for(;0<y-v;)b=pa(b),y--;for(;0<v-y;)x=pa(x),v--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=pa(b),x=pa(x)}b=null}else b=null;m!==null&&ah(d,h,m,b,!1),p!==null&&k!==null&&ah(d,k,p,b,!0)}}e:{if(h=u?ja(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=gv;else if(Qf(h))if(u0)C=vv;else{C=yv;var S=xv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=bv);if(C&&(C=C(e,u))){c0(d,C,r,f);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Oc(h,"number",h.value)}switch(S=u?ja(u):window,e){case"focusin":(Qf(S)||S.contentEditable==="true")&&(ka=S,Xc=u,_s=null);break;case"focusout":_s=Xc=ka=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,th(d,r,f);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":th(d,r,f)}var O;if(gd)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else va?i0(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(l0&&r.locale!=="ko"&&(va||A!=="onCompositionStart"?A==="onCompositionEnd"&&va&&(O=s0()):(jn=f,hd="value"in jn?jn.value:jn.textContent,va=!0)),S=vi(u,A),0<S.length&&(A=new qf(A,e,null,r,f),d.push({event:A,listeners:S}),O?A.data=O:(O=o0(r),O!==null&&(A.data=O)))),(O=dv?fv(e,r):hv(e,r))&&(u=vi(u,"onBeforeInput"),0<u.length&&(f=new qf("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=O))}v0(d,t)})}function Vs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Fs(e,r),l!=null&&n.unshift(Vs(e,l,s)),l=Fs(e,t),l!=null&&n.push(Vs(e,l,s))),e=e.return}return n}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ah(e,t,r,n,s){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Fs(r,l),c!=null&&i.unshift(Vs(r,c,o))):s||(c=Fs(r,l),c!=null&&i.push(Vs(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Ev=/\r\n?/g,_v=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(Ev,`
`).replace(_v,"")}function Il(e,t,r){if(t=sh(t),sh(e)!==t&&r)throw Error(ie(425))}function ki(){}var Gc=null,Jc=null;function Zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,lh=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof lh<"u"?function(e){return lh.resolve(null).then(e).catch(Rv)}:eu;function Rv(e){setTimeout(function(){throw e})}function Qo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),$s(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$s(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Br="__reactFiber$"+Za,qs="__reactProps$"+Za,on="__reactContainer$"+Za,tu="__reactEvents$"+Za,Mv="__reactListeners$"+Za,Lv="__reactHandles$"+Za;function Yn(e){var t=e[Br];if(t)return t;for(var r=e.parentNode;r;){if(t=r[on]||r[Br]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ih(e);e!==null;){if(r=e[Br])return r;e=ih(e)}return t}e=r,r=e.parentNode}return null}function ul(e){return e=e[Br]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ja(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function to(e){return e[qs]||null}var ru=[],Na=-1;function Dn(e){return{current:e}}function at(e){0>Na||(e.current=ru[Na],ru[Na]=null,Na--)}function rt(e,t){Na++,ru[Na]=e.current,e.current=t}var On={},Ut=Dn(On),Zt=Dn(!1),ra=On;function Ba(e,t){var r=e.type.contextTypes;if(!r)return On;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function er(e){return e=e.childContextTypes,e!=null}function wi(){at(Zt),at(Ut)}function oh(e,t,r){if(Ut.current!==On)throw Error(ie(168));rt(Ut,t),rt(Zt,r)}function w0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ie(108,xb(e)||"Unknown",s));return ct({},r,n)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,ra=Ut.current,rt(Ut,e),rt(Zt,Zt.current),!0}function ch(e,t,r){var n=e.stateNode;if(!n)throw Error(ie(169));r?(e=w0(e,t,ra),n.__reactInternalMemoizedMergedChildContext=e,at(Zt),at(Ut),rt(Ut,e)):at(Zt),rt(Zt,r)}var Gr=null,ro=!1,Go=!1;function j0(e){Gr===null?Gr=[e]:Gr.push(e)}function Iv(e){ro=!0,j0(e)}function Bn(){if(!Go&&Gr!==null){Go=!0;var e=0,t=Qe;try{var r=Gr;for(Qe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gr=null,ro=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(e+1)),Yp(cd,Bn),s}finally{Qe=t,Go=!1}}return null}var Sa=[],Ca=0,Ni=null,Si=0,xr=[],yr=0,na=null,en=1,tn="";function Vn(e,t){Sa[Ca++]=Si,Sa[Ca++]=Ni,Ni=e,Si=t}function N0(e,t,r){xr[yr++]=en,xr[yr++]=tn,xr[yr++]=na,na=e;var n=en;e=tn;var s=32-Tr(n)-1;n&=~(1<<s),r+=1;var l=32-Tr(t)+s;if(30<l){var i=s-s%5;l=(n&(1<<i)-1).toString(32),n>>=i,s-=i,en=1<<32-Tr(t)+s|r<<s|n,tn=l+e}else en=1<<l|r<<s|n,tn=e}function yd(e){e.return!==null&&(Vn(e,1),N0(e,1,0))}function bd(e){for(;e===Ni;)Ni=Sa[--Ca],Sa[Ca]=null,Si=Sa[--Ca],Sa[Ca]=null;for(;e===na;)na=xr[--yr],xr[yr]=null,tn=xr[--yr],xr[yr]=null,en=xr[--yr],xr[yr]=null}var cr=null,or=null,st=!1,Er=null;function S0(e,t){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,or=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=na!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,or=null,!0):!1;default:return!1}}function nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function au(e){if(st){var t=or;if(t){var r=t;if(!uh(e,t)){if(nu(e))throw Error(ie(418));t=Pn(r.nextSibling);var n=cr;t&&uh(e,t)?S0(n,r):(e.flags=e.flags&-4097|2,st=!1,cr=e)}}else{if(nu(e))throw Error(ie(418));e.flags=e.flags&-4097|2,st=!1,cr=e}}}function dh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Al(e){if(e!==cr)return!1;if(!st)return dh(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zc(e.type,e.memoizedProps)),t&&(t=or)){if(nu(e))throw C0(),Error(ie(418));for(;t;)S0(e,t),t=Pn(t.nextSibling)}if(dh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){or=Pn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}or=null}}else or=cr?Pn(e.stateNode.nextSibling):null;return!0}function C0(){for(var e=or;e;)e=Pn(e.nextSibling)}function $a(){or=cr=null,st=!1}function vd(e){Er===null?Er=[e]:Er.push(e)}var Av=fn.ReactCurrentBatchConfig;function fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,e));var s=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=s.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function zl(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fh(e){var t=e._init;return t(e._payload)}function E0(e){function t(x,y){if(e){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=In(x,y),x.index=0,x.sibling=null,x}function l(x,y,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,y,v,w){return y===null||y.tag!==6?(y=ac(v,x.mode,w),y.return=x,y):(y=s(y,v),y.return=x,y)}function c(x,y,v,w){var C=v.type;return C===ba?f(x,y,v.props.children,w,v.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yn&&fh(C)===y.type)?(w=s(y,v.props),w.ref=fs(x,y,v),w.return=x,w):(w=ai(v.type,v.key,v.props,null,x.mode,w),w.ref=fs(x,y,v),w.return=x,w)}function u(x,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=sc(v,x.mode,w),y.return=x,y):(y=s(y,v.children||[]),y.return=x,y)}function f(x,y,v,w,C){return y===null||y.tag!==7?(y=Zn(v,x.mode,w,C),y.return=x,y):(y=s(y,v),y.return=x,y)}function d(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ac(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:return v=ai(y.type,y.key,y.props,null,x.mode,v),v.ref=fs(x,null,y),v.return=x,v;case ya:return y=sc(y,x.mode,v),y.return=x,y;case yn:var w=y._init;return d(x,w(y._payload),v)}if(ks(y)||is(y))return y=Zn(y,x.mode,v,null),y.return=x,y;zl(x,y)}return null}function h(x,y,v,w){var C=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:o(x,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sl:return v.key===C?c(x,y,v,w):null;case ya:return v.key===C?u(x,y,v,w):null;case yn:return C=v._init,h(x,y,C(v._payload),w)}if(ks(v)||is(v))return C!==null?null:f(x,y,v,w,null);zl(x,v)}return null}function m(x,y,v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(v)||null,o(y,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:return x=x.get(w.key===null?v:w.key)||null,c(y,x,w,C);case ya:return x=x.get(w.key===null?v:w.key)||null,u(y,x,w,C);case yn:var S=w._init;return m(x,y,v,S(w._payload),C)}if(ks(w)||is(w))return x=x.get(v)||null,f(y,x,w,C,null);zl(y,w)}return null}function p(x,y,v,w){for(var C=null,S=null,O=y,A=y=0,Q=null;O!==null&&A<v.length;A++){O.index>A?(Q=O,O=null):Q=O.sibling;var E=h(x,O,v[A],w);if(E===null){O===null&&(O=Q);break}e&&O&&E.alternate===null&&t(x,O),y=l(E,y,A),S===null?C=E:S.sibling=E,S=E,O=Q}if(A===v.length)return r(x,O),st&&Vn(x,A),C;if(O===null){for(;A<v.length;A++)O=d(x,v[A],w),O!==null&&(y=l(O,y,A),S===null?C=O:S.sibling=O,S=O);return st&&Vn(x,A),C}for(O=n(x,O);A<v.length;A++)Q=m(O,x,A,v[A],w),Q!==null&&(e&&Q.alternate!==null&&O.delete(Q.key===null?A:Q.key),y=l(Q,y,A),S===null?C=Q:S.sibling=Q,S=Q);return e&&O.forEach(function(L){return t(x,L)}),st&&Vn(x,A),C}function b(x,y,v,w){var C=is(v);if(typeof C!="function")throw Error(ie(150));if(v=C.call(v),v==null)throw Error(ie(151));for(var S=C=null,O=y,A=y=0,Q=null,E=v.next();O!==null&&!E.done;A++,E=v.next()){O.index>A?(Q=O,O=null):Q=O.sibling;var L=h(x,O,E.value,w);if(L===null){O===null&&(O=Q);break}e&&O&&L.alternate===null&&t(x,O),y=l(L,y,A),S===null?C=L:S.sibling=L,S=L,O=Q}if(E.done)return r(x,O),st&&Vn(x,A),C;if(O===null){for(;!E.done;A++,E=v.next())E=d(x,E.value,w),E!==null&&(y=l(E,y,A),S===null?C=E:S.sibling=E,S=E);return st&&Vn(x,A),C}for(O=n(x,O);!E.done;A++,E=v.next())E=m(O,x,A,E.value,w),E!==null&&(e&&E.alternate!==null&&O.delete(E.key===null?A:E.key),y=l(E,y,A),S===null?C=E:S.sibling=E,S=E);return e&&O.forEach(function(_){return t(x,_)}),st&&Vn(x,A),C}function k(x,y,v,w){if(typeof v=="object"&&v!==null&&v.type===ba&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sl:e:{for(var C=v.key,S=y;S!==null;){if(S.key===C){if(C=v.type,C===ba){if(S.tag===7){r(x,S.sibling),y=s(S,v.props.children),y.return=x,x=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yn&&fh(C)===S.type){r(x,S.sibling),y=s(S,v.props),y.ref=fs(x,S,v),y.return=x,x=y;break e}r(x,S);break}else t(x,S);S=S.sibling}v.type===ba?(y=Zn(v.props.children,x.mode,w,v.key),y.return=x,x=y):(w=ai(v.type,v.key,v.props,null,x.mode,w),w.ref=fs(x,y,v),w.return=x,x=w)}return i(x);case ya:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(x,y.sibling),y=s(y,v.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=sc(v,x.mode,w),y.return=x,x=y}return i(x);case yn:return S=v._init,k(x,y,S(v._payload),w)}if(ks(v))return p(x,y,v,w);if(is(v))return b(x,y,v,w);zl(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,v),y.return=x,x=y):(r(x,y),y=ac(v,x.mode,w),y.return=x,x=y),i(x)):r(x,y)}return k}var Ua=E0(!0),_0=E0(!1),Ci=Dn(null),Ei=null,Ea=null,kd=null;function wd(){kd=Ea=Ei=null}function jd(e){var t=Ci.current;at(Ci),e._currentValue=t}function su(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ia(e,t){Ei=e,kd=Ea=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function wr(e){var t=e._currentValue;if(kd!==e)if(e={context:e,memoizedValue:t,next:null},Ea===null){if(Ei===null)throw Error(ie(308));Ea=e,Ei.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Xn=null;function Nd(e){Xn===null?Xn=[e]:Xn.push(e)}function T0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Nd(t)):(r.next=s.next,s.next=r),t.interleaved=r,cn(e,n)}function cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bn=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,cn(e,r)}return s=n.interleaved,s===null?(t.next=t,Nd(n)):(t.next=s.next,s.next=t),n.interleaved=t,cn(e,r)}function Jl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ud(e,r)}}function hh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _i(e,t,r,n){var s=e.updateQueue;bn=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(l!==null){var d=s.baseState;i=0,f=u=c=null,o=l;do{var h=o.lane,m=o.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,b=o;switch(h=t,m=r,b.tag){case 1:if(p=b.payload,typeof p=="function"){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(m,d,h):p,h==null)break e;d=ct({},d,h);break e;case 2:bn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=m,c=d):f=f.next=m,i|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);sa|=i,e.lanes=i,e.memoizedState=d}}function mh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ie(191,s));s.call(n)}}}var dl={},Wr=Dn(dl),Ks=Dn(dl),Ys=Dn(dl);function Qn(e){if(e===dl)throw Error(ie(174));return e}function Cd(e,t){switch(rt(Ys,t),rt(Ks,e),rt(Wr,dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dc(t,e)}at(Wr),rt(Wr,t)}function Ha(){at(Wr),at(Ks),at(Ys)}function R0(e){Qn(Ys.current);var t=Qn(Wr.current),r=Dc(t,e.type);t!==r&&(rt(Ks,e),rt(Wr,r))}function Ed(e){Ks.current===e&&(at(Wr),at(Ks))}var lt=Dn(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function _d(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var Zl=fn.ReactCurrentDispatcher,Zo=fn.ReactCurrentBatchConfig,aa=0,ot=null,wt=null,Et=null,Pi=!1,Ts=!1,Xs=0,zv=0;function zt(){throw Error(ie(321))}function Td(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mr(e[r],t[r]))return!1;return!0}function Pd(e,t,r,n,s,l){if(aa=l,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=e===null||e.memoizedState===null?Bv:$v,e=r(n,s),Ts){l=0;do{if(Ts=!1,Xs=0,25<=l)throw Error(ie(301));l+=1,Et=wt=null,t.updateQueue=null,Zl.current=Uv,e=r(n,s)}while(Ts)}if(Zl.current=Ri,t=wt!==null&&wt.next!==null,aa=0,Et=wt=ot=null,Pi=!1,t)throw Error(ie(300));return e}function Rd(){var e=Xs!==0;return Xs=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ot.memoizedState=Et=e:Et=Et.next=e,Et}function jr(){if(wt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Et===null?ot.memoizedState:Et.next;if(t!==null)Et=t,wt=e;else{if(e===null)throw Error(ie(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Et===null?ot.memoizedState=Et=e:Et=Et.next=e}return Et}function Qs(e,t){return typeof t=="function"?t(e):t}function ec(e){var t=jr(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=wt,s=n.baseQueue,l=r.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}n.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,n=n.baseState;var o=i=null,c=null,u=l;do{var f=u.lane;if((aa&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,i=n):c=c.next=d,ot.lanes|=f,sa|=f}u=u.next}while(u!==null&&u!==l);c===null?i=n:c.next=o,Mr(n,t.memoizedState)||(Jt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do l=s.lane,ot.lanes|=l,sa|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tc(e){var t=jr(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);Mr(l,t.memoizedState)||(Jt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function M0(){}function L0(e,t){var r=ot,n=jr(),s=t(),l=!Mr(n.memoizedState,s);if(l&&(n.memoizedState=s,Jt=!0),n=n.queue,Md(z0.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Gs(9,A0.bind(null,r,n,s,t),void 0,null),Tt===null)throw Error(ie(349));aa&30||I0(r,t,s)}return s}function I0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function A0(e,t,r,n){t.value=r,t.getSnapshot=n,O0(t)&&F0(e)}function z0(e,t,r){return r(function(){O0(t)&&F0(e)})}function O0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mr(e,r)}catch{return!0}}function F0(e){var t=cn(e,1);t!==null&&Pr(t,e,1,-1)}function ph(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Dv.bind(null,ot,e),[t.memoizedState,e]}function Gs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function D0(){return jr().memoizedState}function ei(e,t,r,n){var s=Fr();ot.flags|=e,s.memoizedState=Gs(1|t,r,void 0,n===void 0?null:n)}function no(e,t,r,n){var s=jr();n=n===void 0?null:n;var l=void 0;if(wt!==null){var i=wt.memoizedState;if(l=i.destroy,n!==null&&Td(n,i.deps)){s.memoizedState=Gs(t,r,l,n);return}}ot.flags|=e,s.memoizedState=Gs(1|t,r,l,n)}function gh(e,t){return ei(8390656,8,e,t)}function Md(e,t){return no(2048,8,e,t)}function B0(e,t){return no(4,2,e,t)}function $0(e,t){return no(4,4,e,t)}function U0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H0(e,t,r){return r=r!=null?r.concat([e]):null,no(4,4,U0.bind(null,t,e),r)}function Ld(){}function W0(e,t){var r=jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Td(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function V0(e,t){var r=jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Td(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function q0(e,t,r){return aa&21?(Mr(r,t)||(r=Gp(),ot.lanes|=r,sa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=r)}function Ov(e,t){var r=Qe;Qe=r!==0&&4>r?r:4,e(!0);var n=Zo.transition;Zo.transition={};try{e(!1),t()}finally{Qe=r,Zo.transition=n}}function K0(){return jr().memoizedState}function Fv(e,t,r){var n=Ln(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Y0(e))X0(t,r);else if(r=T0(e,t,r,n),r!==null){var s=Kt();Pr(r,e,n,s),Q0(r,t,n)}}function Dv(e,t,r){var n=Ln(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y0(e))X0(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(s.hasEagerState=!0,s.eagerState=o,Mr(o,i)){var c=t.interleaved;c===null?(s.next=s,Nd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=T0(e,t,s,n),r!==null&&(s=Kt(),Pr(r,e,n,s),Q0(r,t,n))}}function Y0(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function X0(e,t){Ts=Pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Q0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ud(e,r)}}var Ri={readContext:wr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Bv={readContext:wr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:wr,useEffect:gh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ei(4194308,4,U0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Fv.bind(null,ot,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:ph,useDebugValue:Ld,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=ph(!1),t=e[0];return e=Ov.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ot,s=Fr();if(st){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=t(),Tt===null)throw Error(ie(349));aa&30||I0(n,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,gh(z0.bind(null,n,l,e),[e]),n.flags|=2048,Gs(9,A0.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Fr(),t=Tt.identifierPrefix;if(st){var r=tn,n=en;r=(n&~(1<<32-Tr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$v={readContext:wr,useCallback:W0,useContext:wr,useEffect:Md,useImperativeHandle:H0,useInsertionEffect:B0,useLayoutEffect:$0,useMemo:V0,useReducer:ec,useRef:D0,useState:function(){return ec(Qs)},useDebugValue:Ld,useDeferredValue:function(e){var t=jr();return q0(t,wt.memoizedState,e)},useTransition:function(){var e=ec(Qs)[0],t=jr().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:L0,useId:K0,unstable_isNewReconciler:!1},Uv={readContext:wr,useCallback:W0,useContext:wr,useEffect:Md,useImperativeHandle:H0,useInsertionEffect:B0,useLayoutEffect:$0,useMemo:V0,useReducer:tc,useRef:D0,useState:function(){return tc(Qs)},useDebugValue:Ld,useDeferredValue:function(e){var t=jr();return wt===null?t.memoizedState=e:q0(t,wt.memoizedState,e)},useTransition:function(){var e=tc(Qs)[0],t=jr().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:L0,useId:K0,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ao={isMounted:function(e){return(e=e._reactInternals)?fa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kt(),s=Ln(e),l=an(n,s);l.payload=t,r!=null&&(l.callback=r),t=Rn(e,l,s),t!==null&&(Pr(t,e,s,n),Jl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kt(),s=Ln(e),l=an(n,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Rn(e,l,s),t!==null&&(Pr(t,e,s,n),Jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kt(),n=Ln(e),s=an(r,n);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,n),t!==null&&(Pr(t,e,n,r),Jl(t,e,n))}};function xh(e,t,r,n,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Hs(r,n)||!Hs(s,l):!0}function G0(e,t,r){var n=!1,s=On,l=t.contextType;return typeof l=="object"&&l!==null?l=wr(l):(s=er(t)?ra:Ut.current,n=t.contextTypes,l=(n=n!=null)?Ba(e,s):On),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function yh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function iu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sd(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=wr(l):(l=er(t)?ra:Ut.current,s.context=Ba(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(lu(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ao.enqueueReplaceState(s,s.state,null),_i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wa(e,t){try{var r="",n=t;do r+=gb(n),n=n.return;while(n);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function rc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ou(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Hv=typeof WeakMap=="function"?WeakMap:Map;function J0(e,t,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Li||(Li=!0,yu=n),ou(e,t)},r}function Z0(e,t,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ou(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){ou(e,t),typeof n!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function bh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Hv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=n1.bind(null,e,t,r),t.then(e,e))}function vh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=an(-1,1),t.tag=2,Rn(r,t,1))),r.lanes|=1),e)}var Wv=fn.ReactCurrentOwner,Jt=!1;function Vt(e,t,r,n){t.child=e===null?_0(t,null,r,n):Ua(t,e.child,r,n)}function wh(e,t,r,n,s){r=r.render;var l=t.ref;return Ia(t,s),n=Pd(e,t,r,n,l,s),r=Rd(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):(st&&r&&yd(t),t.flags|=1,Vt(e,t,n,s),t.child)}function jh(e,t,r,n,s){if(e===null){var l=r.type;return typeof l=="function"&&!$d(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,eg(e,t,l,n,s)):(e=ai(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Hs,r(i,n)&&e.ref===t.ref)return un(e,t,s)}return t.flags|=1,e=In(l,n),e.ref=t.ref,e.return=t,t.child=e}function eg(e,t,r,n,s){if(e!==null){var l=e.memoizedProps;if(Hs(l,n)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=n=l,(e.lanes&s)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,un(e,t,s)}return cu(e,t,r,n,s)}function tg(e,t,r){var n=t.pendingProps,s=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ta,ir),ir|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(Ta,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,rt(Ta,ir),ir|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,rt(Ta,ir),ir|=n;return Vt(e,t,s,r),t.child}function rg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cu(e,t,r,n,s){var l=er(r)?ra:Ut.current;return l=Ba(t,l),Ia(t,s),r=Pd(e,t,r,n,l,s),n=Rd(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):(st&&n&&yd(t),t.flags|=1,Vt(e,t,r,s),t.child)}function Nh(e,t,r,n,s){if(er(r)){var l=!0;ji(t)}else l=!1;if(Ia(t,s),t.stateNode===null)ti(e,t),G0(t,r,n),iu(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=er(r)?ra:Ut.current,u=Ba(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&yh(t,i,n,u),bn=!1;var h=t.memoizedState;i.state=h,_i(t,n,i,s),c=t.memoizedState,o!==n||h!==c||Zt.current||bn?(typeof f=="function"&&(lu(t,r,f,n),c=t.memoizedState),(o=bn||xh(t,r,o,n,h,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,P0(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Sr(t.type,o),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=er(r)?ra:Ut.current,c=Ba(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||h!==c)&&yh(t,i,n,c),bn=!1,h=t.memoizedState,i.state=h,_i(t,n,i,s);var p=t.memoizedState;o!==d||h!==p||Zt.current||bn?(typeof m=="function"&&(lu(t,r,m,n),p=t.memoizedState),(u=bn||xh(t,r,u,n,h,p,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return uu(e,t,r,n,l,s)}function uu(e,t,r,n,s,l){rg(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&ch(t,r,!1),un(e,t,l);n=t.stateNode,Wv.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ua(t,e.child,null,l),t.child=Ua(t,null,o,l)):Vt(e,t,o,l),t.memoizedState=n.state,s&&ch(t,r,!0),t.child}function ng(e){var t=e.stateNode;t.pendingContext?oh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oh(e,t.context,!1),Cd(e,t.containerInfo)}function Sh(e,t,r,n,s){return $a(),vd(s),t.flags|=256,Vt(e,t,r,n),t.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ag(e,t,r){var n=t.pendingProps,s=lt.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rt(lt,s&1),e===null)return au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=io(i,n,0,null),e=Zn(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=fu(r),t.memoizedState=du,e):Id(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Vv(e,t,i,n,o,s,r);if(l){l=n.fallback,i=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=In(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?l=In(o,l):(l=Zn(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?fu(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=du,n}return l=e.child,e=l.sibling,n=In(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Id(e,t){return t=io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,r,n){return n!==null&&vd(n),Ua(t,e.child,null,r),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vv(e,t,r,n,s,l,i){if(r)return t.flags&256?(t.flags&=-257,n=rc(Error(ie(422))),Ol(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,s=t.mode,n=io({mode:"visible",children:n.children},s,0,null),l=Zn(l,s,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Ua(t,e.child,null,i),t.child.memoizedState=fu(i),t.memoizedState=du,l);if(!(t.mode&1))return Ol(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(ie(419)),n=rc(l,n,void 0),Ol(e,t,i,n)}if(o=(i&e.childLanes)!==0,Jt||o){if(n=Tt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,cn(e,s),Pr(n,e,s,-1))}return Bd(),n=rc(Error(ie(421))),Ol(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=a1.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,or=Pn(s.nextSibling),cr=t,st=!0,Er=null,e!==null&&(xr[yr++]=en,xr[yr++]=tn,xr[yr++]=na,en=e.id,tn=e.overflow,na=t),t=Id(t,n.children),t.flags|=4096,t)}function Ch(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),su(e.return,t,r)}function nc(e,t,r,n,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=s)}function sg(e,t,r){var n=t.pendingProps,s=n.revealOrder,l=n.tail;if(Vt(e,t,n.children,r),n=lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ch(e,r,t);else if(e.tag===19)Ch(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(rt(lt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),nc(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}nc(t,!0,r,null,l);break;case"together":nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function un(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,r=In(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=In(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qv(e,t,r){switch(t.tag){case 3:ng(t),$a();break;case 5:R0(t);break;case 1:er(t.type)&&ji(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;rt(Ci,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(rt(lt,lt.current&1),t.flags|=128,null):r&t.child.childLanes?ag(e,t,r):(rt(lt,lt.current&1),e=un(e,t,r),e!==null?e.sibling:null);rt(lt,lt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(lt,lt.current),n)break;return null;case 22:case 23:return t.lanes=0,tg(e,t,r)}return un(e,t,r)}var lg,hu,ig,og;lg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hu=function(){};ig=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qn(Wr.current);var l=null;switch(r){case"input":s=Ac(e,s),n=Ac(e,n),l=[];break;case"select":s=ct({},s,{value:void 0}),n=ct({},n,{value:void 0}),l=[];break;case"textarea":s=Fc(e,s),n=Fc(e,n),l=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ki)}Bc(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zs.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};og=function(e,t,r,n){r!==n&&(t.flags|=4)};function hs(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Kv(e,t,r){var n=t.pendingProps;switch(bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return er(t.type)&&wi(),Ot(t),null;case 3:return n=t.stateNode,Ha(),at(Zt),at(Ut),_d(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(ku(Er),Er=null))),hu(e,t),Ot(t),null;case 5:Ed(t);var s=Qn(Ys.current);if(r=t.type,e!==null&&t.stateNode!=null)ig(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ie(166));return Ot(t),null}if(e=Qn(Wr.current),Al(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[Br]=t,n[qs]=l,e=(t.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(s=0;s<js.length;s++)nt(js[s],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":Af(n,l),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},nt("invalid",n);break;case"textarea":Of(n,l),nt("invalid",n)}Bc(r,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Il(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Il(n.textContent,o,e),s=["children",""+o]):zs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&nt("scroll",n)}switch(r){case"input":Cl(n),zf(n,l,!0);break;case"textarea":Cl(n),Ff(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ki)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Br]=t,e[qs]=n,lg(e,t,!1,!1),t.stateNode=e;e:{switch(i=$c(r,n),r){case"dialog":nt("cancel",e),nt("close",e),s=n;break;case"iframe":case"object":case"embed":nt("load",e),s=n;break;case"video":case"audio":for(s=0;s<js.length;s++)nt(js[s],e);s=n;break;case"source":nt("error",e),s=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),s=n;break;case"details":nt("toggle",e),s=n;break;case"input":Af(e,n),s=Ac(e,n),nt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ct({},n,{value:void 0}),nt("invalid",e);break;case"textarea":Of(e,n),s=Fc(e,n),nt("invalid",e);break;default:s=n}Bc(r,s),o=s;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Dp(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Op(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Os(e,c):typeof c=="number"&&Os(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(zs.hasOwnProperty(l)?c!=null&&l==="onScroll"&&nt("scroll",e):c!=null&&ad(e,l,c,i))}switch(r){case"input":Cl(e),zf(e,n,!1);break;case"textarea":Cl(e),Ff(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zn(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Pa(e,!!n.multiple,l,!1):n.defaultValue!=null&&Pa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ki)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)og(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ie(166));if(r=Qn(Ys.current),Qn(Wr.current),Al(t)){if(n=t.stateNode,r=t.memoizedProps,n[Br]=t,(l=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Il(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Br]=t,t.stateNode=n}return Ot(t),null;case 13:if(at(lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&or!==null&&t.mode&1&&!(t.flags&128))C0(),$a(),t.flags|=98560,l=!1;else if(l=Al(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(ie(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ie(317));l[Br]=t}else $a(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),l=!1}else Er!==null&&(ku(Er),Er=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Nt===0&&(Nt=3):Bd())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return Ha(),hu(e,t),e===null&&Ws(t.stateNode.containerInfo),Ot(t),null;case 10:return jd(t.type._context),Ot(t),null;case 17:return er(t.type)&&wi(),Ot(t),null;case 19:if(at(lt),l=t.memoizedState,l===null)return Ot(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)hs(l,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ti(e),i!==null){for(t.flags|=128,hs(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return rt(lt,lt.current&1|2),t.child}e=e.sibling}l.tail!==null&&mt()>Va&&(t.flags|=128,n=!0,hs(l,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!st)return Ot(t),null}else 2*mt()-l.renderingStartTime>Va&&r!==1073741824&&(t.flags|=128,n=!0,hs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=mt(),t.sibling=null,r=lt.current,rt(lt,n?r&1|2:r&1),t):(Ot(t),null);case 22:case 23:return Dd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function Yv(e,t){switch(bd(t),t.tag){case 1:return er(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(),at(Zt),at(Ut),_d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ed(t),null;case 13:if(at(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(lt),null;case 4:return Ha(),null;case 10:return jd(t.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var Fl=!1,Dt=!1,Xv=typeof WeakSet=="function"?WeakSet:Set,Se=null;function _a(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dt(e,t,n)}else r.current=null}function mu(e,t,r){try{r()}catch(n){dt(e,t,n)}}var Eh=!1;function Qv(e,t){if(Gc=yi,e=h0(),xd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(o=i+s),d!==l||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===s&&(o=i),h===l&&++f===n&&(c=i),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jc={focusedElem:e,selectionRange:r},yi=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,k=p.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Sr(t.type,b),k);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(w){dt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return p=Eh,Eh=!1,p}function Ps(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&mu(t,r,l)}s=s.next}while(s!==n)}}function so(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cg(e){var t=e.alternate;t!==null&&(e.alternate=null,cg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Br],delete t[qs],delete t[tu],delete t[Mv],delete t[Lv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ug(e){return e.tag===5||e.tag===3||e.tag===4}function _h(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ki));else if(n!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}function xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xu(e,t,r),e=e.sibling;e!==null;)xu(e,t,r),e=e.sibling}var Rt=null,Cr=!1;function pn(e,t,r){for(r=r.child;r!==null;)dg(e,t,r),r=r.sibling}function dg(e,t,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Gi,r)}catch{}switch(r.tag){case 5:Dt||_a(r,t);case 6:var n=Rt,s=Cr;Rt=null,pn(e,t,r),Rt=n,Cr=s,Rt!==null&&(Cr?(e=Rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Rt.removeChild(r.stateNode));break;case 18:Rt!==null&&(Cr?(e=Rt,r=r.stateNode,e.nodeType===8?Qo(e.parentNode,r):e.nodeType===1&&Qo(e,r),$s(e)):Qo(Rt,r.stateNode));break;case 4:n=Rt,s=Cr,Rt=r.stateNode.containerInfo,Cr=!0,pn(e,t,r),Rt=n,Cr=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&mu(r,t,i),s=s.next}while(s!==n)}pn(e,t,r);break;case 1:if(!Dt&&(_a(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){dt(r,t,o)}pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,pn(e,t,r),Dt=n):pn(e,t,r);break;default:pn(e,t,r)}}function Th(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Xv),t.forEach(function(n){var s=s1.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Rt=o.stateNode,Cr=!1;break e;case 3:Rt=o.stateNode.containerInfo,Cr=!0;break e;case 4:Rt=o.stateNode.containerInfo,Cr=!0;break e}o=o.return}if(Rt===null)throw Error(ie(160));dg(l,i,s),Rt=null,Cr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){dt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fg(t,e),t=t.sibling}function fg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),Ar(e),n&4){try{Ps(3,e,e.return),so(3,e)}catch(b){dt(e,e.return,b)}try{Ps(5,e,e.return)}catch(b){dt(e,e.return,b)}}break;case 1:Nr(t,e),Ar(e),n&512&&r!==null&&_a(r,r.return);break;case 5:if(Nr(t,e),Ar(e),n&512&&r!==null&&_a(r,r.return),e.flags&32){var s=e.stateNode;try{Os(s,"")}catch(b){dt(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Ip(s,l),$c(o,i);var u=$c(o,l);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?Dp(s,d):f==="dangerouslySetInnerHTML"?Op(s,d):f==="children"?Os(s,d):ad(s,f,d,u)}switch(o){case"input":zc(s,l);break;case"textarea":Ap(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?Pa(s,!!l.multiple,m,!1):h!==!!l.multiple&&(l.defaultValue!=null?Pa(s,!!l.multiple,l.defaultValue,!0):Pa(s,!!l.multiple,l.multiple?[]:"",!1))}s[qs]=l}catch(b){dt(e,e.return,b)}}break;case 6:if(Nr(t,e),Ar(e),n&4){if(e.stateNode===null)throw Error(ie(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(b){dt(e,e.return,b)}}break;case 3:if(Nr(t,e),Ar(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(b){dt(e,e.return,b)}break;case 4:Nr(t,e),Ar(e);break;case 13:Nr(t,e),Ar(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Od=mt())),n&4&&Th(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||f,Nr(t,e),Dt=u):Nr(t,e),Ar(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Se=e,f=e.child;f!==null;){for(d=Se=f;Se!==null;){switch(h=Se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ps(4,h,h.return);break;case 1:_a(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(b){dt(n,r,b)}}break;case 5:_a(h,h.return);break;case 22:if(h.memoizedState!==null){Rh(d);continue}}m!==null?(m.return=h,Se=m):Rh(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Fp("display",i))}catch(b){dt(e,e.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){dt(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nr(t,e),Ar(e),n&4&&Th(e);break;case 21:break;default:Nr(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ug(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Os(s,""),n.flags&=-33);var l=_h(e);xu(e,l,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=_h(e);gu(e,o,i);break;default:throw Error(ie(161))}}catch(c){dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gv(e,t,r){Se=e,hg(e)}function hg(e,t,r){for(var n=(e.mode&1)!==0;Se!==null;){var s=Se,l=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Fl;if(!i){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Dt;o=Fl;var u=Dt;if(Fl=i,(Dt=c)&&!u)for(Se=s;Se!==null;)i=Se,c=i.child,i.tag===22&&i.memoizedState!==null?Mh(s):c!==null?(c.return=i,Se=c):Mh(s);for(;l!==null;)Se=l,hg(l),l=l.sibling;Se=s,Fl=o,Dt=u}Ph(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Se=l):Ph(e)}}function Ph(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||so(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Sr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&mh(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mh(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&$s(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Dt||t.flags&512&&pu(t)}catch(h){dt(t,t.return,h)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function Rh(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function Mh(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{so(4,t)}catch(c){dt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){dt(t,s,c)}}var l=t.return;try{pu(t)}catch(c){dt(t,l,c)}break;case 5:var i=t.return;try{pu(t)}catch(c){dt(t,i,c)}}}catch(c){dt(t,t.return,c)}if(t===e){Se=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Se=o;break}Se=t.return}}var Jv=Math.ceil,Mi=fn.ReactCurrentDispatcher,Ad=fn.ReactCurrentOwner,kr=fn.ReactCurrentBatchConfig,Ve=0,Tt=null,bt=null,Mt=0,ir=0,Ta=Dn(0),Nt=0,Js=null,sa=0,lo=0,zd=0,Rs=null,Gt=null,Od=0,Va=1/0,Qr=null,Li=!1,yu=null,Mn=null,Dl=!1,Nn=null,Ii=0,Ms=0,bu=null,ri=-1,ni=0;function Kt(){return Ve&6?mt():ri!==-1?ri:ri=mt()}function Ln(e){return e.mode&1?Ve&2&&Mt!==0?Mt&-Mt:Av.transition!==null?(ni===0&&(ni=Gp()),ni):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:a0(e.type)),e):1}function Pr(e,t,r,n){if(50<Ms)throw Ms=0,bu=null,Error(ie(185));ol(e,r,n),(!(Ve&2)||e!==Tt)&&(e===Tt&&(!(Ve&2)&&(lo|=r),Nt===4&&kn(e,Mt)),tr(e,n),r===1&&Ve===0&&!(t.mode&1)&&(Va=mt()+500,ro&&Bn()))}function tr(e,t){var r=e.callbackNode;Ab(e,t);var n=xi(e,e===Tt?Mt:0);if(n===0)r!==null&&$f(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$f(r),t===1)e.tag===0?Iv(Lh.bind(null,e)):j0(Lh.bind(null,e)),Pv(function(){!(Ve&6)&&Bn()}),r=null;else{switch(Jp(n)){case 1:r=cd;break;case 4:r=Xp;break;case 16:r=gi;break;case 536870912:r=Qp;break;default:r=gi}r=kg(r,mg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mg(e,t){if(ri=-1,ni=0,Ve&6)throw Error(ie(327));var r=e.callbackNode;if(Aa()&&e.callbackNode!==r)return null;var n=xi(e,e===Tt?Mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ai(e,n);else{t=n;var s=Ve;Ve|=2;var l=gg();(Tt!==e||Mt!==t)&&(Qr=null,Va=mt()+500,Jn(e,t));do try{t1();break}catch(o){pg(e,o)}while(!0);wd(),Mi.current=l,Ve=s,bt!==null?t=0:(Tt=null,Mt=0,t=Nt)}if(t!==0){if(t===2&&(s=qc(e),s!==0&&(n=s,t=vu(e,s))),t===1)throw r=Js,Jn(e,0),kn(e,n),tr(e,mt()),r;if(t===6)kn(e,n);else{if(s=e.current.alternate,!(n&30)&&!Zv(s)&&(t=Ai(e,n),t===2&&(l=qc(e),l!==0&&(n=l,t=vu(e,l))),t===1))throw r=Js,Jn(e,0),kn(e,n),tr(e,mt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ie(345));case 2:qn(e,Gt,Qr);break;case 3:if(kn(e,n),(n&130023424)===n&&(t=Od+500-mt(),10<t)){if(xi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eu(qn.bind(null,e,Gt,Qr),t);break}qn(e,Gt,Qr);break;case 4:if(kn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Tr(n);l=1<<i,i=t[i],i>s&&(s=i),n&=~l}if(n=s,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jv(n/1960))-n,10<n){e.timeoutHandle=eu(qn.bind(null,e,Gt,Qr),n);break}qn(e,Gt,Qr);break;case 5:qn(e,Gt,Qr);break;default:throw Error(ie(329))}}}return tr(e,mt()),e.callbackNode===r?mg.bind(null,e):null}function vu(e,t){var r=Rs;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=Ai(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&ku(t)),e}function ku(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function Zv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],l=s.getSnapshot;s=s.value;try{if(!Mr(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~zd,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Tr(t),n=1<<r;e[r]=-1,t&=~n}}function Lh(e){if(Ve&6)throw Error(ie(327));Aa();var t=xi(e,0);if(!(t&1))return tr(e,mt()),null;var r=Ai(e,t);if(e.tag!==0&&r===2){var n=qc(e);n!==0&&(t=n,r=vu(e,n))}if(r===1)throw r=Js,Jn(e,0),kn(e,t),tr(e,mt()),r;if(r===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qn(e,Gt,Qr),tr(e,mt()),null}function Fd(e,t){var r=Ve;Ve|=1;try{return e(t)}finally{Ve=r,Ve===0&&(Va=mt()+500,ro&&Bn())}}function la(e){Nn!==null&&Nn.tag===0&&!(Ve&6)&&Aa();var t=Ve;Ve|=1;var r=kr.transition,n=Qe;try{if(kr.transition=null,Qe=1,e)return e()}finally{Qe=n,kr.transition=r,Ve=t,!(Ve&6)&&Bn()}}function Dd(){ir=Ta.current,at(Ta)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tv(r)),bt!==null)for(r=bt.return;r!==null;){var n=r;switch(bd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wi();break;case 3:Ha(),at(Zt),at(Ut),_d();break;case 5:Ed(n);break;case 4:Ha();break;case 13:at(lt);break;case 19:at(lt);break;case 10:jd(n.type._context);break;case 22:case 23:Dd()}r=r.return}if(Tt=e,bt=e=In(e.current,null),Mt=ir=t,Nt=0,Js=null,zd=lo=sa=0,Gt=Rs=null,Xn!==null){for(t=0;t<Xn.length;t++)if(r=Xn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=s,n.next=i}r.pending=n}Xn=null}return e}function pg(e,t){do{var r=bt;try{if(wd(),Zl.current=Ri,Pi){for(var n=ot.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pi=!1}if(aa=0,Et=wt=ot=null,Ts=!1,Xs=0,Ad.current=null,r===null||r.return===null){Nt=1,Js=t,bt=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Mt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=vh(i);if(m!==null){m.flags&=-257,kh(m,i,o,l,t),m.mode&1&&bh(l,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var b=new Set;b.add(c),t.updateQueue=b}else p.add(c);break e}else{if(!(t&1)){bh(l,u,t),Bd();break e}c=Error(ie(426))}}else if(st&&o.mode&1){var k=vh(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),kh(k,i,o,l,t),vd(Wa(c,o));break e}}l=c=Wa(c,o),Nt!==4&&(Nt=2),Rs===null?Rs=[l]:Rs.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=J0(l,c,t);hh(l,x);break e;case 1:o=c;var y=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Mn===null||!Mn.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Z0(l,o,t);hh(l,w);break e}}l=l.return}while(l!==null)}yg(r)}catch(C){t=C,bt===r&&r!==null&&(bt=r=r.return);continue}break}while(!0)}function gg(){var e=Mi.current;return Mi.current=Ri,e===null?Ri:e}function Bd(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Tt===null||!(sa&268435455)&&!(lo&268435455)||kn(Tt,Mt)}function Ai(e,t){var r=Ve;Ve|=2;var n=gg();(Tt!==e||Mt!==t)&&(Qr=null,Jn(e,t));do try{e1();break}catch(s){pg(e,s)}while(!0);if(wd(),Ve=r,Mi.current=n,bt!==null)throw Error(ie(261));return Tt=null,Mt=0,Nt}function e1(){for(;bt!==null;)xg(bt)}function t1(){for(;bt!==null&&!Cb();)xg(bt)}function xg(e){var t=vg(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?yg(e):bt=t,Ad.current=null}function yg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Yv(r,t),r!==null){r.flags&=32767,bt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,bt=null;return}}else if(r=Kv(r,t,ir),r!==null){bt=r;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Nt===0&&(Nt=5)}function qn(e,t,r){var n=Qe,s=kr.transition;try{kr.transition=null,Qe=1,r1(e,t,r,n)}finally{kr.transition=s,Qe=n}return null}function r1(e,t,r,n){do Aa();while(Nn!==null);if(Ve&6)throw Error(ie(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(zb(e,l),e===Tt&&(bt=Tt=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dl||(Dl=!0,kg(gi,function(){return Aa(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=kr.transition,kr.transition=null;var i=Qe;Qe=1;var o=Ve;Ve|=4,Ad.current=null,Qv(e,r),fg(r,e),wv(Jc),yi=!!Gc,Jc=Gc=null,e.current=r,Gv(r),Eb(),Ve=o,Qe=i,kr.transition=l}else e.current=r;if(Dl&&(Dl=!1,Nn=e,Ii=s),l=e.pendingLanes,l===0&&(Mn=null),Pb(r.stateNode),tr(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Li)throw Li=!1,e=yu,yu=null,e;return Ii&1&&e.tag!==0&&Aa(),l=e.pendingLanes,l&1?e===bu?Ms++:(Ms=0,bu=e):Ms=0,Bn(),null}function Aa(){if(Nn!==null){var e=Jp(Ii),t=kr.transition,r=Qe;try{if(kr.transition=null,Qe=16>e?16:e,Nn===null)var n=!1;else{if(e=Nn,Nn=null,Ii=0,Ve&6)throw Error(ie(331));var s=Ve;for(Ve|=4,Se=e.current;Se!==null;){var l=Se,i=l.child;if(Se.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Se=u;Se!==null;){var f=Se;switch(f.tag){case 0:case 11:case 15:Ps(8,f,l)}var d=f.child;if(d!==null)d.return=f,Se=d;else for(;Se!==null;){f=Se;var h=f.sibling,m=f.return;if(cg(f),f===u){Se=null;break}if(h!==null){h.return=m,Se=h;break}Se=m}}}var p=l.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}Se=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Se=i;else e:for(;Se!==null;){if(l=Se,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ps(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,Se=x;break e}Se=l.return}}var y=e.current;for(Se=y;Se!==null;){i=Se;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,Se=v;else e:for(i=y;Se!==null;){if(o=Se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(C){dt(o,o.return,C)}if(o===i){Se=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Se=w;break e}Se=o.return}}if(Ve=s,Bn(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Gi,e)}catch{}n=!0}return n}finally{Qe=r,kr.transition=t}}return!1}function Ih(e,t,r){t=Wa(r,t),t=J0(e,t,1),e=Rn(e,t,1),t=Kt(),e!==null&&(ol(e,1,t),tr(e,t))}function dt(e,t,r){if(e.tag===3)Ih(e,e,r);else for(;t!==null;){if(t.tag===3){Ih(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mn===null||!Mn.has(n))){e=Wa(r,e),e=Z0(t,e,1),t=Rn(t,e,1),e=Kt(),t!==null&&(ol(t,1,e),tr(t,e));break}}t=t.return}}function n1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Mt&r)===r&&(Nt===4||Nt===3&&(Mt&130023424)===Mt&&500>mt()-Od?Jn(e,0):zd|=r),tr(e,t)}function bg(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var r=Kt();e=cn(e,t),e!==null&&(ol(e,t,r),tr(e,r))}function a1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bg(e,r)}function s1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(t),bg(e,r)}var vg;vg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Jt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Jt=!1,qv(e,t,r);Jt=!!(e.flags&131072)}else Jt=!1,st&&t.flags&1048576&&N0(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ti(e,t),e=t.pendingProps;var s=Ba(t,Ut.current);Ia(t,r),s=Pd(null,t,n,e,s,r);var l=Rd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(n)?(l=!0,ji(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sd(t),s.updater=ao,t.stateNode=s,s._reactInternals=t,iu(t,n,e,r),t=uu(null,t,n,!0,l,r)):(t.tag=0,st&&l&&yd(t),Vt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=i1(n),e=Sr(n,e),s){case 0:t=cu(null,t,n,e,r);break e;case 1:t=Nh(null,t,n,e,r);break e;case 11:t=wh(null,t,n,e,r);break e;case 14:t=jh(null,t,n,Sr(n.type,e),r);break e}throw Error(ie(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),cu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),Nh(e,t,n,s,r);case 3:e:{if(ng(t),e===null)throw Error(ie(387));n=t.pendingProps,l=t.memoizedState,s=l.element,P0(e,t),_i(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Wa(Error(ie(423)),t),t=Sh(e,t,n,r,s);break e}else if(n!==s){s=Wa(Error(ie(424)),t),t=Sh(e,t,n,r,s);break e}else for(or=Pn(t.stateNode.containerInfo.firstChild),cr=t,st=!0,Er=null,r=_0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($a(),n===s){t=un(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return R0(t),e===null&&au(t),n=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,Zc(n,s)?i=null:l!==null&&Zc(n,l)&&(t.flags|=32),rg(e,t),Vt(e,t,i,r),t.child;case 6:return e===null&&au(t),null;case 13:return ag(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ua(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),wh(e,t,n,s,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,rt(Ci,n._currentValue),n._currentValue=i,l!==null)if(Mr(l.value,i)){if(l.children===s.children&&!Zt.current){t=un(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=an(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),su(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(ie(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),su(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Vt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ia(t,r),s=wr(s),n=n(s),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,s=Sr(n,t.pendingProps),s=Sr(n.type,s),jh(e,t,n,s,r);case 15:return eg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sr(n,s),ti(e,t),t.tag=1,er(n)?(e=!0,ji(t)):e=!1,Ia(t,r),G0(t,n,s),iu(t,n,s,r),uu(null,t,n,!0,e,r);case 19:return sg(e,t,r);case 22:return tg(e,t,r)}throw Error(ie(156,t.tag))};function kg(e,t){return Yp(e,t)}function l1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,r,n){return new l1(e,t,r,n)}function $d(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i1(e){if(typeof e=="function")return $d(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ld)return 11;if(e===id)return 14}return 2}function In(e,t){var r=e.alternate;return r===null?(r=vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ai(e,t,r,n,s,l){var i=2;if(n=e,typeof e=="function")$d(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ba:return Zn(r.children,s,l,t);case sd:i=8,s|=8;break;case Rc:return e=vr(12,r,t,s|2),e.elementType=Rc,e.lanes=l,e;case Mc:return e=vr(13,r,t,s),e.elementType=Mc,e.lanes=l,e;case Lc:return e=vr(19,r,t,s),e.elementType=Lc,e.lanes=l,e;case Rp:return io(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tp:i=10;break e;case Pp:i=9;break e;case ld:i=11;break e;case id:i=14;break e;case yn:i=16,n=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=vr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=l,t}function Zn(e,t,r,n){return e=vr(7,e,n,t),e.lanes=r,e}function io(e,t,r,n){return e=vr(22,e,n,t),e.elementType=Rp,e.lanes=r,e.stateNode={isHidden:!1},e}function ac(e,t,r){return e=vr(6,e,null,t),e.lanes=r,e}function sc(e,t,r){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ud(e,t,r,n,s,l,i,o,c){return e=new o1(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=vr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(l),e}function c1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wg(e){if(!e)return On;e=e._reactInternals;e:{if(fa(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var r=e.type;if(er(r))return w0(e,r,t)}return t}function jg(e,t,r,n,s,l,i,o,c){return e=Ud(r,n,!0,e,s,l,i,o,c),e.context=wg(null),r=e.current,n=Kt(),s=Ln(r),l=an(n,s),l.callback=t??null,Rn(r,l,s),e.current.lanes=s,ol(e,s,n),tr(e,n),e}function oo(e,t,r,n){var s=t.current,l=Kt(),i=Ln(s);return r=wg(r),t.context===null?t.context=r:t.pendingContext=r,t=an(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rn(s,t,i),e!==null&&(Pr(e,s,i,l),Jl(e,s,i)),i}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ah(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hd(e,t){Ah(e,t),(e=e.alternate)&&Ah(e,t)}function u1(){return null}var Ng=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wd(e){this._internalRoot=e}co.prototype.render=Wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));oo(e,t,null,null)};co.prototype.unmount=Wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;la(function(){oo(null,e,null,null)}),t[on]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=t0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vn.length&&t!==0&&t<vn[r].priority;r++);vn.splice(r,0,e),r===0&&n0(e)}};function Vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function d1(e,t,r,n,s){if(s){if(typeof n=="function"){var l=n;n=function(){var u=zi(i);l.call(u)}}var i=jg(t,n,e,0,null,!1,!1,"",zh);return e._reactRootContainer=i,e[on]=i.current,Ws(e.nodeType===8?e.parentNode:e),la(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=zi(c);o.call(u)}}var c=Ud(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=c,e[on]=c.current,Ws(e.nodeType===8?e.parentNode:e),la(function(){oo(t,c,r,n)}),c}function fo(e,t,r,n,s){var l=r._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var o=s;s=function(){var c=zi(i);o.call(c)}}oo(t,i,e,s)}else i=d1(r,t,e,s,n);return zi(i)}Zp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ws(t.pendingLanes);r!==0&&(ud(t,r|1),tr(t,mt()),!(Ve&6)&&(Va=mt()+500,Bn()))}break;case 13:la(function(){var n=cn(e,1);if(n!==null){var s=Kt();Pr(n,e,1,s)}}),Hd(e,1)}};dd=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var r=Kt();Pr(t,e,134217728,r)}Hd(e,134217728)}};e0=function(e){if(e.tag===13){var t=Ln(e),r=cn(e,t);if(r!==null){var n=Kt();Pr(r,e,t,n)}Hd(e,t)}};t0=function(){return Qe};r0=function(e,t){var r=Qe;try{return Qe=e,t()}finally{Qe=r}};Hc=function(e,t,r){switch(t){case"input":if(zc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=to(n);if(!s)throw Error(ie(90));Lp(n),zc(n,s)}}}break;case"textarea":Ap(e,r);break;case"select":t=r.value,t!=null&&Pa(e,!!r.multiple,t,!1)}};Up=Fd;Hp=la;var f1={usingClientEntryPoint:!1,Events:[ul,ja,to,Bp,$p,Fd]},ms={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h1={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qp(e),e===null?null:e.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||u1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Gi=Bl.inject(h1),Hr=Bl}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(t))throw Error(ie(200));return c1(e,t,null,r)};fr.createRoot=function(e,t){if(!Vd(e))throw Error(ie(299));var r=!1,n="",s=Ng;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ud(e,1,!1,null,null,r,!1,n,s),e[on]=t.current,Ws(e.nodeType===8?e.parentNode:e),new Wd(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=qp(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return la(e)};fr.hydrate=function(e,t,r){if(!uo(t))throw Error(ie(200));return fo(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!Vd(e))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,s=!1,l="",i=Ng;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=jg(t,null,e,1,r??null,s,!1,l,i),e[on]=t.current,Ws(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new co(t)};fr.render=function(e,t,r){if(!uo(t))throw Error(ie(200));return fo(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!uo(e))throw Error(ie(40));return e._reactRootContainer?(la(function(){fo(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};fr.unstable_batchedUpdates=Fd;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uo(r))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return fo(e,t,r,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function Sg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sg)}catch(e){console.error(e)}}Sg(),Sp.exports=fr;var m1=Sp.exports,Oh=m1;Tc.createRoot=Oh.createRoot,Tc.hydrateRoot=Oh.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(this,arguments)}var Sn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Sn||(Sn={}));const Fh="popstate";function p1(e){e===void 0&&(e={});function t(n,s){let{pathname:l,search:i,hash:o}=n.location;return wu("",{pathname:l,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Oi(s)}return x1(t,r,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g1(){return Math.random().toString(36).substr(2,8)}function Dh(e,t){return{usr:e.state,key:e.key,idx:t}}function wu(e,t,r,n){return r===void 0&&(r=null),Zs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?es(t):t,{state:r,key:t&&t.key||n||g1()})}function Oi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function es(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function x1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:l=!1}=n,i=s.history,o=Sn.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Zs({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){o=Sn.Pop;let k=f(),x=k==null?null:k-u;u=k,c&&c({action:o,location:b.location,delta:x})}function h(k,x){o=Sn.Push;let y=wu(b.location,k,x);u=f()+1;let v=Dh(y,u),w=b.createHref(y);try{i.pushState(v,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(w)}l&&c&&c({action:o,location:b.location,delta:1})}function m(k,x){o=Sn.Replace;let y=wu(b.location,k,x);u=f();let v=Dh(y,u),w=b.createHref(y);i.replaceState(v,"",w),l&&c&&c({action:o,location:b.location,delta:0})}function p(k){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof k=="string"?k:Oi(k);return y=y.replace(/ $/,"%20"),pt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return o},get location(){return e(s,i)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fh,d),c=k,()=>{s.removeEventListener(Fh,d),c=null}},createHref(k){return t(s,k)},createURL:p,encodeLocation(k){let x=p(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(k){return i.go(k)}};return b}var Bh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bh||(Bh={}));function y1(e,t,r){return r===void 0&&(r="/"),b1(e,t,r)}function b1(e,t,r,n){let s=typeof t=="string"?es(t):t,l=Kd(s.pathname||"/",r);if(l==null)return null;let i=Cg(e);v1(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=M1(l);o=T1(i[c],u)}return o}function Cg(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=An([n,c.relativePath]),f=r.concat(c);l.children&&l.children.length>0&&(pt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cg(l.children,t,f,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:E1(u,l.index),routesMeta:f})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))s(l,i);else for(let c of Eg(l.path))s(l,i,c)}),t}function Eg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return s?[l,""]:[l];let i=Eg(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function v1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const k1=/^:[\w-]+$/,w1=3,j1=2,N1=1,S1=10,C1=-2,$h=e=>e==="*";function E1(e,t){let r=e.split("/"),n=r.length;return r.some($h)&&(n+=C1),t&&(n+=j1),r.filter(s=>!$h(s)).reduce((s,l)=>s+(k1.test(l)?w1:l===""?N1:S1),n)}function _1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function T1(e,t,r){let{routesMeta:n}=e,s={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,f=l==="/"?t:t.slice(l.length)||"/",d=P1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:An([l,d.pathname]),pathnameBase:O1(An([l,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(l=An([l,d.pathnameBase]))}return i}function P1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=R1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let l=s[0],i=l.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let b=o[d]||"";i=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const p=o[d];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function R1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function M1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const L1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=e=>L1.test(e);function A1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?es(e):e,l;if(r)if(I1(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),qd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=Uh(r.substring(1),"/"):l=Uh(r,t)}else l=t;return{pathname:l,search:F1(n),hash:D1(s)}}function Uh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yd(e,t){let r=z1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=es(e):(s=Zs({},e),pt(!s.pathname||!s.pathname.includes("?"),lc("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),lc("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),lc("#","search","hash",s)));let l=e===""||s.pathname==="",i=l?"/":s.pathname,o;if(i==null)o=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?t[d]:"/"}let c=A1(s,o),u=i&&i!=="/"&&i.endsWith("/"),f=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const An=e=>e.join("/").replace(/\/\/+/g,"/"),O1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _g=["post","put","patch","delete"];new Set(_g);const $1=["get",..._g];new Set($1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}const Qd=g.createContext(null),U1=g.createContext(null),$n=g.createContext(null),ho=g.createContext(null),hn=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Tg=g.createContext(null);function H1(e,t){let{relative:r}=t===void 0?{}:t;ts()||pt(!1);let{basename:n,navigator:s}=g.useContext($n),{hash:l,pathname:i,search:o}=Mg(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:An([n,i])),s.createHref({pathname:c,search:o,hash:l})}function ts(){return g.useContext(ho)!=null}function ha(){return ts()||pt(!1),g.useContext(ho).location}function Pg(e){g.useContext($n).static||g.useLayoutEffect(e)}function It(){let{isDataRoute:e}=g.useContext(hn);return e?rk():W1()}function W1(){ts()||pt(!1);let e=g.useContext(Qd),{basename:t,future:r,navigator:n}=g.useContext($n),{matches:s}=g.useContext(hn),{pathname:l}=ha(),i=JSON.stringify(Yd(s,r.v7_relativeSplatPath)),o=g.useRef(!1);return Pg(()=>{o.current=!0}),g.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Xd(u,JSON.parse(i),l,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:An([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,i,l,e])}function Rg(){let{matches:e}=g.useContext(hn),t=e[e.length-1];return t?t.params:{}}function Mg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext($n),{matches:s}=g.useContext(hn),{pathname:l}=ha(),i=JSON.stringify(Yd(s,n.v7_relativeSplatPath));return g.useMemo(()=>Xd(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function V1(e,t){return q1(e,t)}function q1(e,t,r,n){ts()||pt(!1);let{navigator:s}=g.useContext($n),{matches:l}=g.useContext(hn),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ha(),f;if(t){var d;let k=typeof t=="string"?es(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||pt(!1),f=k}else f=u;let h=f.pathname||"/",m=h;if(c!=="/"){let k=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let p=y1(e,{pathname:m}),b=G1(p&&p.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:An([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:An([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,n);return t&&b?g.createElement(ho.Provider,{value:{location:el({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Sn.Pop}},b):b}function K1(){let e=tk(),t=B1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const Y1=g.createElement(K1,null);class X1 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(hn.Provider,{value:this.props.routeContext},g.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q1(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(Qd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(hn.Provider,{value:t},n)}function G1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||pt(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,h)=>{let m,p=!1,b=null,k=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||Y1,c&&(u<0&&h===0?(nk("route-fallback"),p=!0,k=null):u===h&&(p=!0,k=d.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),y=()=>{let v;return m?v=b:p?v=k:d.route.Component?v=g.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=f,g.createElement(Q1,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(X1,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var Lg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lg||{}),Ig=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ig||{});function J1(e){let t=g.useContext(Qd);return t||pt(!1),t}function Z1(e){let t=g.useContext(U1);return t||pt(!1),t}function ek(e){let t=g.useContext(hn);return t||pt(!1),t}function Ag(e){let t=ek(),r=t.matches[t.matches.length-1];return r.route.id||pt(!1),r.route.id}function tk(){var e;let t=g.useContext(Tg),r=Z1(),n=Ag();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function rk(){let{router:e}=J1(Lg.UseNavigateStable),t=Ag(Ig.UseNavigateStable),r=g.useRef(!1);return Pg(()=>{r.current=!0}),g.useCallback(function(s,l){l===void 0&&(l={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,el({fromRouteId:t},l)))},[e,t])}const Hh={};function nk(e,t,r){Hh[e]||(Hh[e]=!0)}function ak(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function sk(e){let{to:t,replace:r,state:n,relative:s}=e;ts()||pt(!1);let{future:l,static:i}=g.useContext($n),{matches:o}=g.useContext(hn),{pathname:c}=ha(),u=It(),f=Xd(t,Yd(o,l.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return g.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function kt(e){pt(!1)}function lk(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Sn.Pop,navigator:l,static:i=!1,future:o}=e;ts()&&pt(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:l,static:i,future:el({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=es(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,b=g.useMemo(()=>{let k=Kd(f,c);return k==null?null:{location:{pathname:k,search:d,hash:h,state:m,key:p},navigationType:s}},[c,f,d,h,m,p,s]);return b==null?null:g.createElement($n.Provider,{value:u},g.createElement(ho.Provider,{children:r,value:b}))}function ik(e){let{children:t,location:r}=e;return V1(ju(t),r)}new Promise(()=>{});function ju(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let l=[...t,s];if(n.type===g.Fragment){r.push.apply(r,ju(n.props.children,l));return}n.type!==kt&&pt(!1),!n.props.index||!n.props.children||pt(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ju(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(this,arguments)}function ok(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,l;for(l=0;l<n.length;l++)s=n[l],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ck(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uk(e,t){return e.button===0&&(!t||t==="_self")&&!ck(e)}function Su(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function dk(e,t){let r=Su(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(l=>{r.append(s,l)})}),r}const fk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hk="6";try{window.__reactRouterVersion=hk}catch{}const mk="startTransition",Wh=nb[mk];function pk(e){let{basename:t,children:r,future:n,window:s}=e,l=g.useRef();l.current==null&&(l.current=p1({window:s,v5Compat:!0}));let i=l.current,[o,c]=g.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=g.useCallback(d=>{u&&Wh?Wh(()=>c(d)):c(d)},[c,u]);return g.useLayoutEffect(()=>i.listen(f),[i,f]),g.useEffect(()=>ak(n),[n]),g.createElement(lk,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=g.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=ok(t,fk),{basename:m}=g.useContext($n),p,b=!1;if(typeof u=="string"&&xk.test(u)&&(p=u,gk))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=Kd(w.pathname,m);w.origin===v.origin&&C!=null?u=C+w.search+w.hash:b=!0}catch{}let k=H1(u,{relative:s}),x=yk(u,{replace:i,state:o,target:c,preventScrollReset:f,relative:s,viewTransition:d});function y(v){n&&n(v),v.defaultPrevented||x(v)}return g.createElement("a",Nu({},h,{href:p||k,onClick:b||l?n:y,ref:r,target:c}))});var Vh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vh||(Vh={}));var qh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qh||(qh={}));function yk(e,t){let{target:r,replace:n,state:s,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=It(),u=ha(),f=Mg(e,{relative:i});return g.useCallback(d=>{if(uk(d,r)){d.preventDefault();let h=n!==void 0?n:Oi(u)===Oi(f);c(e,{replace:h,state:s,preventScrollReset:l,relative:i,viewTransition:o})}},[u,c,f,n,s,r,e,l,i,o])}function bk(e){let t=g.useRef(Su(e)),r=g.useRef(!1),n=ha(),s=g.useMemo(()=>dk(n.search,r.current?null:t.current),[n.search]),l=It(),i=g.useCallback((o,c)=>{const u=Su(typeof o=="function"?o(s):o);r.current=!0,l("?"+u,c)},[l,s]);return[s,i]}let vk={data:""},kk=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||vk},wk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jk=/\/\*[^]*?\*\/|  +/g,Kh=/\n+/g,wn=(e,t)=>{let r="",n="",s="";for(let l in e){let i=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+i+";":n+=l[1]=="f"?wn(i,l):l+"{"+wn(i,l[1]=="k"?"":t)+"}":typeof i=="object"?n+=wn(i,t?t.replace(/([^,])+/g,o=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):l):i!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=wn.p?wn.p(l,i):l+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Xr={},zg=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+zg(e[r]);return t}return e},Nk=(e,t,r,n,s)=>{let l=zg(e),i=Xr[l]||(Xr[l]=(c=>{let u=0,f=11;for(;u<c.length;)f=101*f+c.charCodeAt(u++)>>>0;return"go"+f})(l));if(!Xr[i]){let c=l!==e?e:(u=>{let f,d,h=[{}];for(;f=wk.exec(u.replace(jk,""));)f[4]?h.shift():f[3]?(d=f[3].replace(Kh," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][f[1]]=f[2].replace(Kh," ").trim();return h[0]})(e);Xr[i]=wn(s?{["@keyframes "+i]:c}:c,r?"":"."+i)}let o=r&&Xr.g?Xr.g:null;return r&&(Xr.g=Xr[i]),((c,u,f,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=f?c+u.data:u.data+c)})(Xr[i],t,n,o),i},Sk=(e,t,r)=>e.reduce((n,s,l)=>{let i=t[l];if(i&&i.call){let o=i(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=c?"."+c:o&&typeof o=="object"?o.props?"":wn(o,""):o===!1?"":o}return n+s+(i??"")},"");function mo(e){let t=this||{},r=e.call?e(t.p):e;return Nk(r.unshift?r.raw?Sk(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,kk(t.target),t.g,t.o,t.k)}let Og,Cu,Eu;mo.bind({g:1});let dn=mo.bind({k:1});function Ck(e,t,r,n){wn.p=t,Og=e,Cu=r,Eu=n}function Un(e,t){let r=this||{};return function(){let n=arguments;function s(l,i){let o=Object.assign({},l),c=o.className||s.className;r.p=Object.assign({theme:Cu&&Cu()},o),r.o=/ *go\d+/.test(c),o.className=mo.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Eu&&u[0]&&Eu(o),Og(u,o)}return s}}var Ek=e=>typeof e=="function",Fi=(e,t)=>Ek(e)?e(t):e,_k=(()=>{let e=0;return()=>(++e).toString()})(),Fg=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Tk=20,Gd="default",Dg=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Dg(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+l}))}}},si=[],Bg={toasts:[],pausedAt:void 0,settings:{toastLimit:Tk}},$r={},$g=(e,t=Gd)=>{$r[t]=Dg($r[t]||Bg,e),si.forEach(([r,n])=>{r===t&&n($r[t])})},Ug=e=>Object.keys($r).forEach(t=>$g(e,t)),Pk=e=>Object.keys($r).find(t=>$r[t].toasts.some(r=>r.id===e)),po=(e=Gd)=>t=>{$g(t,e)},Rk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mk=(e={},t=Gd)=>{let[r,n]=g.useState($r[t]||Bg),s=g.useRef($r[t]);g.useEffect(()=>(s.current!==$r[t]&&n($r[t]),si.push([t,n]),()=>{let i=si.findIndex(([o])=>o===t);i>-1&&si.splice(i,1)}),[t]);let l=r.toasts.map(i=>{var o,c,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Rk[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:l}},Lk=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||_k()}),fl=e=>(t,r)=>{let n=Lk(t,e,r);return po(n.toasterId||Pk(n.id))({type:2,toast:n}),n.id},jt=(e,t)=>fl("blank")(e,t);jt.error=fl("error");jt.success=fl("success");jt.loading=fl("loading");jt.custom=fl("custom");jt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?po(t)(r):Ug(r)};jt.dismissAll=e=>jt.dismiss(void 0,e);jt.remove=(e,t)=>{let r={type:4,toastId:e};t?po(t)(r):Ug(r)};jt.removeAll=e=>jt.remove(void 0,e);jt.promise=(e,t,r)=>{let n=jt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let l=t.success?Fi(t.success,s):void 0;return l?jt.success(l,{id:n,...r,...r==null?void 0:r.success}):jt.dismiss(n),s}).catch(s=>{let l=t.error?Fi(t.error,s):void 0;l?jt.error(l,{id:n,...r,...r==null?void 0:r.error}):jt.dismiss(n)}),e};var Ik=1e3,Ak=(e,t="default")=>{let{toasts:r,pausedAt:n}=Mk(e,t),s=g.useRef(new Map).current,l=g.useCallback((d,h=Ik)=>{if(s.has(d))return;let m=setTimeout(()=>{s.delete(d),i({type:4,toastId:d})},h);s.set(d,m)},[]);g.useEffect(()=>{if(n)return;let d=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(p<0){m.visible&&jt.dismiss(m.id);return}return setTimeout(()=>jt.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let i=g.useCallback(po(t),[t]),o=g.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=g.useCallback((d,h)=>{i({type:1,toast:{id:d,height:h}})},[i]),u=g.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),f=g.useCallback((d,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:b}=h||{},k=r.filter(v=>(v.position||b)===(d.position||b)&&v.height),x=k.findIndex(v=>v.id===d.id),y=k.filter((v,w)=>w<x&&v.visible).length;return k.filter(v=>v.visible).slice(...m?[y+1]:[0,y]).reduce((v,w)=>v+(w.height||0)+p,0)},[r]);return g.useEffect(()=>{r.forEach(d=>{if(d.dismissed)l(d.id,d.removeDelay);else{let h=s.get(d.id);h&&(clearTimeout(h),s.delete(d.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:f}}},zk=dn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ok=dn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fk=dn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Dk=Un("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ok} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Fk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Bk=dn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$k=Un("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Bk} 1s linear infinite;
`,Uk=dn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Hk=dn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Wk=Un("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Uk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Hk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Vk=Un("div")`
  position: absolute;
`,qk=Un("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kk=dn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yk=Un("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Xk=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(Yk,null,t):t:r==="blank"?null:g.createElement(qk,null,g.createElement($k,{...n}),r!=="loading"&&g.createElement(Vk,null,r==="error"?g.createElement(Dk,{...n}):g.createElement(Wk,{...n})))},Qk=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Gk=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Jk="0%{opacity:0;} 100%{opacity:1;}",Zk="0%{opacity:1;} 100%{opacity:0;}",ew=Un("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tw=Un("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rw=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Fg()?[Jk,Zk]:[Qk(r),Gk(r)];return{animation:t?`${dn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nw=g.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?rw(e.position||t||"top-center",e.visible):{opacity:0},l=g.createElement(Xk,{toast:e}),i=g.createElement(tw,{...e.ariaProps},Fi(e.message,e));return g.createElement(ew,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:l,message:i}):g.createElement(g.Fragment,null,l,i))});Ck(g.createElement);var aw=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let l=g.useCallback(i=>{if(i){let o=()=>{let c=i.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:l,className:t,style:r},s)},sw=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},lw=mo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$l=16,iw=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:l,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:u}=Ak(r,l);return g.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:$l,left:$l,right:$l,bottom:$l,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(f=>{let d=f.position||t,h=u.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:t}),m=sw(d,h);return g.createElement(aw,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?lw:"",style:m},f.type==="custom"?Fi(f.message,f):s?s(f):g.createElement(nw,{toast:f,position:d}))}))},R=jt;const ow={},Yh=e=>{let t;const r=new Set,n=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const m=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(ow?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},cw=e=>e?Yh(e):Yh;var Hg={exports:{}},Wg={},Vg={exports:{}},qg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=g;function uw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dw=typeof Object.is=="function"?Object.is:uw,fw=qa.useState,hw=qa.useEffect,mw=qa.useLayoutEffect,pw=qa.useDebugValue;function gw(e,t){var r=t(),n=fw({inst:{value:r,getSnapshot:t}}),s=n[0].inst,l=n[1];return mw(function(){s.value=r,s.getSnapshot=t,ic(s)&&l({inst:s})},[e,r,t]),hw(function(){return ic(s)&&l({inst:s}),e(function(){ic(s)&&l({inst:s})})},[e]),pw(r),r}function ic(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dw(e,r)}catch{return!0}}function xw(e,t){return t()}var yw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xw:gw;qg.useSyncExternalStore=qa.useSyncExternalStore!==void 0?qa.useSyncExternalStore:yw;Vg.exports=qg;var bw=Vg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=g,vw=bw;function kw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ww=typeof Object.is=="function"?Object.is:kw,jw=vw.useSyncExternalStore,Nw=go.useRef,Sw=go.useEffect,Cw=go.useMemo,Ew=go.useDebugValue;Wg.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var l=Nw(null);if(l.current===null){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=Cw(function(){function c(m){if(!u){if(u=!0,f=m,m=n(m),s!==void 0&&i.hasValue){var p=i.value;if(s(p,m))return d=p}return d=m}if(p=d,ww(f,m))return p;var b=n(m);return s!==void 0&&s(p,b)?(f=m,p):(f=m,d=b)}var u=!1,f,d,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var o=jw(e,l[0],l[1]);return Sw(function(){i.hasValue=!0,i.value=o},[o]),Ew(o),o};Hg.exports=Wg;var _w=Hg.exports;const Tw=Xi(_w),Kg={},{useDebugValue:Pw}=td,{useSyncExternalStoreWithSelector:Rw}=Tw;let Xh=!1;const Mw=e=>e;function Lw(e,t=Mw,r){(Kg?"production":void 0)!=="production"&&r&&!Xh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xh=!0);const n=Rw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Pw(n),n}const Iw=e=>{(Kg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?cw(e):e,r=(n,s)=>Lw(t,n,s);return Object.assign(r,t),r},Aw=e=>Iw,zw={};function Ow(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var l;const i=c=>c===null?null:JSON.parse(c,void 0),o=(l=r.getItem(s))!=null?l:null;return o instanceof Promise?o.then(i):i(o)},setItem:(s,l)=>r.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>r.removeItem(s)}}const tl=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return tl(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return tl(n)(r)}}}},Fw=(e,t)=>(r,n,s)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,x)=>({...x,...k}),...t},i=!1;const o=new Set,c=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...k)},n,s);const f=tl(l.serialize),d=()=>{const k=l.partialize({...n()});let x;const y=f({state:k,version:l.version}).then(v=>u.setItem(l.name,v)).catch(v=>{x=v});if(x)throw x;return y},h=s.setState;s.setState=(k,x)=>{h(k,x),d()};const m=e((...k)=>{r(...k),d()},n,s);let p;const b=()=>{var k;if(!u)return;i=!1,o.forEach(y=>y(n()));const x=((k=l.onRehydrateStorage)==null?void 0:k.call(l,n()))||void 0;return tl(u.getItem.bind(u))(l.name).then(y=>{if(y)return l.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==l.version){if(l.migrate)return l.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var v;return p=l.merge(y,(v=n())!=null?v:m),r(p,!0),d()}).then(()=>{x==null||x(p,void 0),i=!0,c.forEach(y=>y(p))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:k=>{l={...l,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:k=>(o.add(k),()=>{o.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},b(),p||m},Dw=(e,t)=>(r,n,s)=>{let l={storage:Ow(()=>localStorage),partialize:b=>b,version:0,merge:(b,k)=>({...k,...b}),...t},i=!1;const o=new Set,c=new Set;let u=l.storage;if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...b)},n,s);const f=()=>{const b=l.partialize({...n()});return u.setItem(l.name,{state:b,version:l.version})},d=s.setState;s.setState=(b,k)=>{d(b,k),f()};const h=e((...b)=>{r(...b),f()},n,s);s.getInitialState=()=>h;let m;const p=()=>{var b,k;if(!u)return;i=!1,o.forEach(y=>{var v;return y((v=n())!=null?v:h)});const x=((k=l.onRehydrateStorage)==null?void 0:k.call(l,(b=n())!=null?b:h))||void 0;return tl(u.getItem.bind(u))(l.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==l.version){if(l.migrate)return[!0,l.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[w,C]=y;if(m=l.merge(C,(v=n())!=null?v:h),r(m,!0),w)return f()}).then(()=>{x==null||x(m,void 0),m=n(),i=!0,c.forEach(y=>y(m))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:b=>{l={...l,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},l.skipHydration||p(),m||h},Bw=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((zw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Fw(e,t)):Dw(e,t),$w=Bw;function Yg(e,t){return function(){return e.apply(t,arguments)}}const{toString:Uw}=Object.prototype,{getPrototypeOf:Jd}=Object,{iterator:xo,toStringTag:Xg}=Symbol,yo=(e=>t=>{const r=Uw.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ir=e=>(e=e.toLowerCase(),t=>yo(t)===e),bo=e=>t=>typeof t===e,{isArray:rs}=Array,Ka=bo("undefined");function hl(e){return e!==null&&!Ka(e)&&e.constructor!==null&&!Ka(e.constructor)&&rr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qg=Ir("ArrayBuffer");function Hw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qg(e.buffer),t}const Ww=bo("string"),rr=bo("function"),Gg=bo("number"),ml=e=>e!==null&&typeof e=="object",Vw=e=>e===!0||e===!1,li=e=>{if(yo(e)!=="object")return!1;const t=Jd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xg in e)&&!(xo in e)},qw=e=>{if(!ml(e)||hl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Kw=Ir("Date"),Yw=Ir("File"),Xw=Ir("Blob"),Qw=Ir("FileList"),Gw=e=>ml(e)&&rr(e.pipe),Jw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rr(e.append)&&((t=yo(e))==="formdata"||t==="object"&&rr(e.toString)&&e.toString()==="[object FormData]"))},Zw=Ir("URLSearchParams"),[ej,tj,rj,nj]=["ReadableStream","Request","Response","Headers"].map(Ir),aj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),rs(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(hl(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function Jg(e,t){if(hl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zg=e=>!Ka(e)&&e!==Gn;function _u(){const{caseless:e,skipUndefined:t}=Zg(this)&&this||{},r={},n=(s,l)=>{const i=e&&Jg(r,l)||l;li(r[i])&&li(s)?r[i]=_u(r[i],s):li(s)?r[i]=_u({},s):rs(s)?r[i]=s.slice():(!t||!Ka(s))&&(r[i]=s)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&pl(arguments[s],n);return r}const sj=(e,t,r,{allOwnKeys:n}={})=>(pl(t,(s,l)=>{r&&rr(s)?e[l]=Yg(s,r):e[l]=s},{allOwnKeys:n}),e),lj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ij=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oj=(e,t,r,n)=>{let s,l,i;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)i=s[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&Jd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},cj=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},uj=e=>{if(!e)return null;if(rs(e))return e;let t=e.length;if(!Gg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},dj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jd(Uint8Array)),fj=(e,t)=>{const n=(e&&e[xo]).call(e);let s;for(;(s=n.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},hj=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},mj=Ir("HTMLFormElement"),pj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Qh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),gj=Ir("RegExp"),ex=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};pl(r,(s,l)=>{let i;(i=t(s,l,e))!==!1&&(n[l]=i||s)}),Object.defineProperties(e,n)},xj=e=>{ex(e,(t,r)=>{if(rr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(rr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yj=(e,t)=>{const r={},n=s=>{s.forEach(l=>{r[l]=!0})};return rs(e)?n(e):n(String(e).split(t)),r},bj=()=>{},vj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kj(e){return!!(e&&rr(e.append)&&e[Xg]==="FormData"&&e[xo])}const wj=e=>{const t=new Array(10),r=(n,s)=>{if(ml(n)){if(t.indexOf(n)>=0)return;if(hl(n))return n;if(!("toJSON"in n)){t[s]=n;const l=rs(n)?[]:{};return pl(n,(i,o)=>{const c=r(i,s+1);!Ka(c)&&(l[o]=c)}),t[s]=void 0,l}}return n};return r(e,0)},jj=Ir("AsyncFunction"),Nj=e=>e&&(ml(e)||rr(e))&&rr(e.then)&&rr(e.catch),tx=((e,t)=>e?setImmediate:t?((r,n)=>(Gn.addEventListener("message",({source:s,data:l})=>{s===Gn&&l===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Gn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rr(Gn.postMessage)),Sj=typeof queueMicrotask<"u"?queueMicrotask.bind(Gn):typeof process<"u"&&process.nextTick||tx,Cj=e=>e!=null&&rr(e[xo]),q={isArray:rs,isArrayBuffer:Qg,isBuffer:hl,isFormData:Jw,isArrayBufferView:Hw,isString:Ww,isNumber:Gg,isBoolean:Vw,isObject:ml,isPlainObject:li,isEmptyObject:qw,isReadableStream:ej,isRequest:tj,isResponse:rj,isHeaders:nj,isUndefined:Ka,isDate:Kw,isFile:Yw,isBlob:Xw,isRegExp:gj,isFunction:rr,isStream:Gw,isURLSearchParams:Zw,isTypedArray:dj,isFileList:Qw,forEach:pl,merge:_u,extend:sj,trim:aj,stripBOM:lj,inherits:ij,toFlatObject:oj,kindOf:yo,kindOfTest:Ir,endsWith:cj,toArray:uj,forEachEntry:fj,matchAll:hj,isHTMLForm:mj,hasOwnProperty:Qh,hasOwnProp:Qh,reduceDescriptors:ex,freezeMethods:xj,toObjectSet:yj,toCamelCase:pj,noop:bj,toFiniteNumber:vj,findKey:Jg,global:Gn,isContextDefined:Zg,isSpecCompliantForm:kj,toJSONObject:wj,isAsyncFn:jj,isThenable:Nj,setImmediate:tx,asap:Sj,isIterable:Cj};function ze(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}q.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const rx=ze.prototype,nx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nx[e]={value:e}});Object.defineProperties(ze,nx);Object.defineProperty(rx,"isAxiosError",{value:!0});ze.from=(e,t,r,n,s,l)=>{const i=Object.create(rx);q.toFlatObject(e,i,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ze.call(i,o,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Ej=null;function Tu(e){return q.isPlainObject(e)||q.isArray(e)}function ax(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function Gh(e,t,r){return e?e.concat(t).map(function(s,l){return s=ax(s),!r&&l?"["+s+"]":s}).join(r?".":""):t}function _j(e){return q.isArray(e)&&!e.some(Tu)}const Tj=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function vo(e,t,r){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!q.isUndefined(k[b])});const n=r.metaTokens,s=r.visitor||f,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(q.isDate(p))return p.toISOString();if(q.isBoolean(p))return p.toString();if(!c&&q.isBlob(p))throw new ze("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(p)||q.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function f(p,b,k){let x=p;if(p&&!k&&typeof p=="object"){if(q.endsWith(b,"{}"))b=n?b:b.slice(0,-2),p=JSON.stringify(p);else if(q.isArray(p)&&_j(p)||(q.isFileList(p)||q.endsWith(b,"[]"))&&(x=q.toArray(p)))return b=ax(b),x.forEach(function(v,w){!(q.isUndefined(v)||v===null)&&t.append(i===!0?Gh([b],w,l):i===null?b:b+"[]",u(v))}),!1}return Tu(p)?!0:(t.append(Gh(k,b,l),u(p)),!1)}const d=[],h=Object.assign(Tj,{defaultVisitor:f,convertValue:u,isVisitable:Tu});function m(p,b){if(!q.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(p),q.forEach(p,function(x,y){(!(q.isUndefined(x)||x===null)&&s.call(t,x,q.isString(y)?y.trim():y,b,h))===!0&&m(x,b?b.concat(y):[y])}),d.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Jh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Zd(e,t){this._pairs=[],e&&vo(e,this,t)}const sx=Zd.prototype;sx.append=function(t,r){this._pairs.push([t,r])};sx.toString=function(t){const r=t?function(n){return t.call(this,n,Jh)}:Jh;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Pj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lx(e,t,r){if(!t)return e;const n=r&&r.encode||Pj;q.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let l;if(s?l=s(t,r):l=q.isURLSearchParams(t)?t.toString():new Zd(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Zh{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rj=typeof URLSearchParams<"u"?URLSearchParams:Zd,Mj=typeof FormData<"u"?FormData:null,Lj=typeof Blob<"u"?Blob:null,Ij={isBrowser:!0,classes:{URLSearchParams:Rj,FormData:Mj,Blob:Lj},protocols:["http","https","file","blob","url","data"]},ef=typeof window<"u"&&typeof document<"u",Pu=typeof navigator=="object"&&navigator||void 0,Aj=ef&&(!Pu||["ReactNative","NativeScript","NS"].indexOf(Pu.product)<0),zj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oj=ef&&window.location.href||"http://localhost",Fj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ef,hasStandardBrowserEnv:Aj,hasStandardBrowserWebWorkerEnv:zj,navigator:Pu,origin:Oj},Symbol.toStringTag,{value:"Module"})),Bt={...Fj,...Ij};function Dj(e,t){return vo(e,new Bt.classes.URLSearchParams,{visitor:function(r,n,s,l){return Bt.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Bj(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $j(e){const t={},r=Object.keys(e);let n;const s=r.length;let l;for(n=0;n<s;n++)l=r[n],t[l]=e[l];return t}function ox(e){function t(r,n,s,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&q.isArray(s)?s.length:i,c?(q.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!o):((!s[i]||!q.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],l)&&q.isArray(s[i])&&(s[i]=$j(s[i])),!o)}if(q.isFormData(e)&&q.isFunction(e.entries)){const r={};return q.forEachEntry(e,(n,s)=>{t(Bj(n),s,r,0)}),r}return null}function Uj(e,t,r){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const gl={transitional:ix,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,l=q.isObject(t);if(l&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return s?JSON.stringify(ox(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Dj(t,this.formSerializer).toString();if((o=q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return vo(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||s?(r.setContentType("application/json",!1),Uj(t)):t}],transformResponse:[function(t){const r=this.transitional||gl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?ze.from(o,ze.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{gl.headers[e]={}});const Hj=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wj=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Hj[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},em=Symbol("internals");function ps(e){return e&&String(e).trim().toLowerCase()}function ii(e){return e===!1||e==null?e:q.isArray(e)?e.map(ii):String(e)}function Vj(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const qj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oc(e,t,r,n,s){if(q.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!q.isString(t)){if(q.isString(n))return t.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(t)}}function Kj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Yj(e,t){const r=q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,l,i){return this[n].call(this,t,s,l,i)},configurable:!0})})}let nr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function l(o,c,u){const f=ps(c);if(!f)throw new Error("header name must be a non-empty string");const d=q.findKey(s,f);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=ii(o))}const i=(o,c)=>q.forEach(o,(u,f)=>l(u,f,c));if(q.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(q.isString(t)&&(t=t.trim())&&!qj(t))i(Wj(t),r);else if(q.isObject(t)&&q.isIterable(t)){let o={},c,u;for(const f of t){if(!q.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[u=f[0]]=(c=o[u])?q.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=ps(t),t){const n=q.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Vj(s);if(q.isFunction(r))return r.call(this,s,n);if(q.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ps(t),t){const n=q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||oc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function l(i){if(i=ps(i),i){const o=q.findKey(n,i);o&&(!r||oc(n,n[o],o,r))&&(delete n[o],s=!0)}}return q.isArray(t)?t.forEach(l):l(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const l=r[n];(!t||oc(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const r=this,n={};return q.forEach(this,(s,l)=>{const i=q.findKey(n,l);if(i){r[i]=ii(s),delete r[l];return}const o=t?Kj(l):String(l).trim();o!==l&&delete r[l],r[o]=ii(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return q.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[em]=this[em]={accessors:{}}).accessors,s=this.prototype;function l(i){const o=ps(i);n[o]||(Yj(s,i),n[o]=!0)}return q.isArray(t)?t.forEach(l):l(t),this}};nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(nr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});q.freezeMethods(nr);function cc(e,t){const r=this||gl,n=t||r,s=nr.from(n.headers);let l=n.data;return q.forEach(e,function(o){l=o.call(r,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function cx(e){return!!(e&&e.__CANCEL__)}function ns(e,t,r){ze.call(this,e??"canceled",ze.ERR_CANCELED,t,r),this.name="CanceledError"}q.inherits(ns,ze,{__CANCEL__:!0});function ux(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ze("Request failed with status code "+r.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qj(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=n[l];i||(i=u),r[s]=c,n[s]=u;let d=l,h=0;for(;d!==s;)h+=r[d++],d=d%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),u-i<t)return;const m=f&&u-f;return m?Math.round(h*1e3/m):void 0}}function Gj(e,t){let r=0,n=1e3/t,s,l;const i=(u,f=Date.now())=>{r=f,s=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-r;d>=n?i(u,f):(s=u,l||(l=setTimeout(()=>{l=null,i(s)},n-d)))},()=>s&&i(s)]}const Di=(e,t,r=3)=>{let n=0;const s=Qj(50,250);return Gj(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,u=s(c),f=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&f?(o-i)/u:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},r)},tm=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},rm=e=>(...t)=>q.asap(()=>e(...t)),Jj=Bt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Bt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,Zj=Bt.hasStandardBrowserEnv?{write(e,t,r,n,s,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];q.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),q.isString(n)&&o.push(`path=${n}`),q.isString(s)&&o.push(`domain=${s}`),l===!0&&o.push("secure"),q.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function e2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function t2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dx(e,t,r){let n=!e2(t);return e&&(n||r==!1)?t2(e,t):t}const nm=e=>e instanceof nr?{...e}:e;function ia(e,t){t=t||{};const r={};function n(u,f,d,h){return q.isPlainObject(u)&&q.isPlainObject(f)?q.merge.call({caseless:h},u,f):q.isPlainObject(f)?q.merge({},f):q.isArray(f)?f.slice():f}function s(u,f,d,h){if(q.isUndefined(f)){if(!q.isUndefined(u))return n(void 0,u,d,h)}else return n(u,f,d,h)}function l(u,f){if(!q.isUndefined(f))return n(void 0,f)}function i(u,f){if(q.isUndefined(f)){if(!q.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function o(u,f,d){if(d in t)return n(u,f);if(d in e)return n(void 0,u)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,f,d)=>s(nm(u),nm(f),d,!0)};return q.forEach(Object.keys({...e,...t}),function(f){const d=c[f]||s,h=d(e[f],t[f],f);q.isUndefined(h)&&d!==o||(r[f]=h)}),r}const fx=e=>{const t=ia({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=nr.from(i),t.url=lx(dx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(r)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,d])=>{u.includes(f.toLowerCase())&&i.set(f,d)})}}if(Bt.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(t)),n||n!==!1&&Jj(t.url))){const c=s&&l&&Zj.read(l);c&&i.set(s,c)}return t},r2=typeof XMLHttpRequest<"u",n2=r2&&function(e){return new Promise(function(r,n){const s=fx(e);let l=s.data;const i=nr.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=s,f,d,h,m,p;function b(){m&&m(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function x(){if(!k)return;const v=nr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:v,config:e,request:k};ux(function(O){r(O),b()},function(O){n(O),b()},C),k=null}"onloadend"in k?k.onloadend=x:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(x)},k.onabort=function(){k&&(n(new ze("Request aborted",ze.ECONNABORTED,e,k)),k=null)},k.onerror=function(w){const C=w&&w.message?w.message:"Network Error",S=new ze(C,ze.ERR_NETWORK,e,k);S.event=w||null,n(S),k=null},k.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||ix;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new ze(w,C.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,e,k)),k=null},l===void 0&&i.setContentType(null),"setRequestHeader"in k&&q.forEach(i.toJSON(),function(w,C){k.setRequestHeader(C,w)}),q.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),o&&o!=="json"&&(k.responseType=s.responseType),u&&([h,p]=Di(u,!0),k.addEventListener("progress",h)),c&&k.upload&&([d,m]=Di(c),k.upload.addEventListener("progress",d),k.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(f=v=>{k&&(n(!v||v.type?new ns(null,e,k):v),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const y=Xj(s.url);if(y&&Bt.protocols.indexOf(y)===-1){n(new ze("Unsupported protocol "+y+":",ze.ERR_BAD_REQUEST,e));return}k.send(l||null)})},a2=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const l=function(u){if(!s){s=!0,o();const f=u instanceof Error?u:this.reason;n.abort(f instanceof ze?f:new ns(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,l(new ze(`timeout ${t} of ms exceeded`,ze.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>q.asap(o),c}},s2=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},l2=async function*(e,t){for await(const r of i2(e))yield*s2(r,t)},i2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},am=(e,t,r,n)=>{const s=l2(e,t);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){o(),c.close();return}let d=f.byteLength;if(r){let h=l+=d;r(h)}c.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},sm=64*1024,{isFunction:Ul}=q,o2=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:lm,TextEncoder:im}=q.global,om=(e,...t)=>{try{return!!e(...t)}catch{return!1}},c2=e=>{e=q.merge.call({skipUndefined:!0},o2,e);const{fetch:t,Request:r,Response:n}=e,s=t?Ul(t):typeof fetch=="function",l=Ul(r),i=Ul(n);if(!s)return!1;const o=s&&Ul(lm),c=s&&(typeof im=="function"?(p=>b=>p.encode(b))(new im):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=l&&o&&om(()=>{let p=!1;const b=new r(Bt.origin,{body:new lm,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!b}),f=i&&o&&om(()=>q.isReadableStream(new n("").body)),d={stream:f&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(b,k)=>{let x=b&&b[p];if(x)return x.call(b);throw new ze(`Response type '${p}' is not supported`,ze.ERR_NOT_SUPPORT,k)})});const h=async p=>{if(p==null)return 0;if(q.isBlob(p))return p.size;if(q.isSpecCompliantForm(p))return(await new r(Bt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(q.isArrayBufferView(p)||q.isArrayBuffer(p))return p.byteLength;if(q.isURLSearchParams(p)&&(p=p+""),q.isString(p))return(await c(p)).byteLength},m=async(p,b)=>{const k=q.toFiniteNumber(p.getContentLength());return k??h(b)};return async p=>{let{url:b,method:k,data:x,signal:y,cancelToken:v,timeout:w,onDownloadProgress:C,onUploadProgress:S,responseType:O,headers:A,withCredentials:Q="same-origin",fetchOptions:E}=fx(p),L=t||fetch;O=O?(O+"").toLowerCase():"text";let _=a2([y,v&&v.toAbortSignal()],w),D=null;const z=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let P;try{if(S&&u&&k!=="get"&&k!=="head"&&(P=await m(A,x))!==0){let te=new r(b,{method:"POST",body:x,duplex:"half"}),re;if(q.isFormData(x)&&(re=te.headers.get("content-type"))&&A.setContentType(re),te.body){const[N,Z]=tm(P,Di(rm(S)));x=am(te.body,sm,N,Z)}}q.isString(Q)||(Q=Q?"include":"omit");const B=l&&"credentials"in r.prototype,T={...E,signal:_,method:k.toUpperCase(),headers:A.normalize().toJSON(),body:x,duplex:"half",credentials:B?Q:void 0};D=l&&new r(b,T);let M=await(l?L(D,E):L(b,T));const J=f&&(O==="stream"||O==="response");if(f&&(C||J&&z)){const te={};["status","statusText","headers"].forEach(pe=>{te[pe]=M[pe]});const re=q.toFiniteNumber(M.headers.get("content-length")),[N,Z]=C&&tm(re,Di(rm(C),!0))||[];M=new n(am(M.body,sm,N,()=>{Z&&Z(),z&&z()}),te)}O=O||"text";let j=await d[q.findKey(d,O)||"text"](M,p);return!J&&z&&z(),await new Promise((te,re)=>{ux(te,re,{data:j,headers:nr.from(M.headers),status:M.status,statusText:M.statusText,config:p,request:D})})}catch(B){throw z&&z(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,p,D),{cause:B.cause||B}):ze.from(B,B&&B.code,p,D)}}},u2=new Map,hx=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,l=[n,s,r];let i=l.length,o=i,c,u,f=u2;for(;o--;)c=l[o],u=f.get(c),u===void 0&&f.set(c,u=o?new Map:c2(t)),f=u;return u};hx();const tf={http:Ej,xhr:n2,fetch:{get:hx}};q.forEach(tf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cm=e=>`- ${e}`,d2=e=>q.isFunction(e)||e===null||e===!1;function f2(e,t){e=q.isArray(e)?e:[e];const{length:r}=e;let n,s;const l={};for(let i=0;i<r;i++){n=e[i];let o;if(s=n,!d2(n)&&(s=tf[(o=String(n)).toLowerCase()],s===void 0))throw new ze(`Unknown adapter '${o}'`);if(s&&(q.isFunction(s)||(s=s.get(t))))break;l[o||"#"+i]=s}if(!s){const i=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(cm).join(`
`):" "+cm(i[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const mx={getAdapter:f2,adapters:tf};function uc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ns(null,e)}function um(e){return uc(e),e.headers=nr.from(e.headers),e.data=cc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mx.getAdapter(e.adapter||gl.adapter,e)(e).then(function(n){return uc(e),n.data=cc.call(e,e.transformResponse,n),n.headers=nr.from(n.headers),n},function(n){return cx(n)||(uc(e),n&&n.response&&(n.response.data=cc.call(e,e.transformResponse,n.response),n.response.headers=nr.from(n.response.headers))),Promise.reject(n)})}const px="1.13.2",ko={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ko[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const dm={};ko.transitional=function(t,r,n){function s(l,i){return"[Axios v"+px+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new ze(s(i," has been removed"+(r?" in "+r:"")),ze.ERR_DEPRECATED);return r&&!dm[i]&&(dm[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};ko.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function h2(e,t,r){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const l=n[s],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new ze("option "+l+" must be "+c,ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ze("Unknown option "+l,ze.ERR_BAD_OPTION)}}const oi={assertOptions:h2,validators:ko},zr=oi.validators;let ea=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Zh,response:new Zh}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ia(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:l}=r;n!==void 0&&oi.assertOptions(n,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1),s!=null&&(q.isFunction(s)?r.paramsSerializer={serialize:s}:oi.assertOptions(s,{encode:zr.function,serialize:zr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),oi.assertOptions(r,{baseUrl:zr.spelling("baseURL"),withXsrfToken:zr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&q.merge(l.common,l[r.method]);l&&q.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),r.headers=nr.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let f,d=0,h;if(!c){const p=[um.bind(this),void 0];for(p.unshift(...o),p.push(...u),h=p.length,f=Promise.resolve(r);d<h;)f=f.then(p[d++],p[d++]);return f}h=o.length;let m=r;for(;d<h;){const p=o[d++],b=o[d++];try{m=p(m)}catch(k){b.call(this,k);break}}try{f=um.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,h=u.length;d<h;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=ia(this.defaults,t);const r=dx(t.baseURL,t.url,t.allowAbsoluteUrls);return lx(r,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){ea.prototype[t]=function(r,n){return this.request(ia(n||{},{method:t,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request(ia(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}ea.prototype[t]=r(),ea.prototype[t+"Form"]=r(!0)});let m2=class gx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(s=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](s);n._listeners=null}),this.promise.then=s=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(s);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new ns(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new gx(function(s){t=s}),cancel:t}}};function p2(e){return function(r){return e.apply(null,r)}}function g2(e){return q.isObject(e)&&e.isAxiosError===!0}const Ru={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ru).forEach(([e,t])=>{Ru[t]=e});function xx(e){const t=new ea(e),r=Yg(ea.prototype.request,t);return q.extend(r,ea.prototype,t,{allOwnKeys:!0}),q.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return xx(ia(e,s))},r}const gt=xx(gl);gt.Axios=ea;gt.CanceledError=ns;gt.CancelToken=m2;gt.isCancel=cx;gt.VERSION=px;gt.toFormData=vo;gt.AxiosError=ze;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=p2;gt.isAxiosError=g2;gt.mergeConfig=ia;gt.AxiosHeaders=nr;gt.formToJSON=e=>ox(q.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=mx.getAdapter;gt.HttpStatusCode=Ru;gt.default=gt;const{Axios:b6,AxiosError:v6,CanceledError:k6,isCancel:w6,CancelToken:j6,VERSION:N6,all:S6,Cancel:C6,isAxiosError:E6,spread:_6,toFormData:T6,AxiosHeaders:P6,HttpStatusCode:R6,formToJSON:M6,getAdapter:L6,mergeConfig:I6}=gt,x2="EpubManagerDataCache",y2=1,pr="apiCache";class b2{constructor(){ls(this,"db",null);ls(this,"initPromise",null)}async init(){return this.db?Promise.resolve():this.initPromise?this.initPromise:(this.initPromise=new Promise((t,r)=>{const n=indexedDB.open(x2,y2);n.onerror=()=>{console.error("IndexedDB:",n.error),r(n.error)},n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=s=>{const l=s.target.result;if(!l.objectStoreNames.contains(pr)){const i=l.createObjectStore(pr,{keyPath:"key"});i.createIndex("timestamp","timestamp",{unique:!1}),i.createIndex("expiresAt","expiresAt",{unique:!1})}}}),this.initPromise)}generateKey(t,r){const n=r?JSON.stringify(r):"";return`${t}${n}`}async set(t,r,n,s=60*60*24*7*1e3){await this.init();const l=this.generateKey(t,n),i=Date.now(),o={key:l,data:r,timestamp:i,expiresAt:i+s};return new Promise((c,u)=>{const h=this.db.transaction([pr],"readwrite").objectStore(pr).put(o);h.onsuccess=()=>{c()},h.onerror=()=>{console.error("OfflineDataCache: ",h.error),u(h.error)}})}async get(t,r){await this.init();const n=this.generateKey(t,r);return new Promise((s,l)=>{const c=this.db.transaction([pr],"readonly").objectStore(pr).get(n);c.onsuccess=()=>{const u=c.result;if(!u){s(null);return}if(Date.now()>u.expiresAt){this.delete(t,r).catch(console.error),s(null);return}s(u.data)},c.onerror=()=>{console.error("OfflineDataCache: ",c.error),l(c.error)}})}async delete(t,r){await this.init();const n=this.generateKey(t,r);return new Promise((s,l)=>{const c=this.db.transaction([pr],"readwrite").objectStore(pr).delete(n);c.onsuccess=()=>{s()},c.onerror=()=>{console.error("OfflineDataCache: ",c.error),l(c.error)}})}async cleanExpired(){return await this.init(),new Promise((t,r)=>{const l=this.db.transaction([pr],"readwrite").objectStore(pr).index("expiresAt"),i=Date.now(),o=IDBKeyRange.upperBound(i),c=l.openCursor(o);c.onsuccess=u=>{const f=u.target.result;f?(f.delete(),f.continue()):t()},c.onerror=()=>{console.error("OfflineDataCache: ",c.error),r(c.error)}})}async clearAll(){return await this.init(),new Promise((t,r)=>{const l=this.db.transaction([pr],"readwrite").objectStore(pr).clear();l.onsuccess=()=>{t()},l.onerror=()=>{console.error("OfflineDataCache: ",l.error),r(l.error)}})}isOnline(){return navigator.onLine}}const ht=new b2;typeof window<"u"&&setInterval(()=>{ht.cleanExpired().catch(console.error)},60*60*1e3);const le=gt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),fm=localStorage.getItem("auth-storage");var hp;if(fm)try{const e=JSON.parse(fm);(hp=e.state)!=null&&hp.token&&(le.defaults.headers.common.Authorization=`Bearer ${e.state.token}`)}catch{}const v2=["/books","/books/recent","/books/recommended","/shelf/my","/reading/progress","/notes","/settings","/fonts","/profile","/reading/history","/user","/ip/blocked","/ip/attempts"],k2=(e,t)=>t.toLowerCase()!=="get"||["/auth","/login","/logout","/register","/verify","/upload"].some(n=>e.includes(n))?!1:(v2.some(n=>e.includes(n)),!0);le.interceptors.request.use(e=>(k2(e.url||"",e.method||"get")&&(e.__shouldCache=!0),e),e=>Promise.reject(e));le.interceptors.response.use(async e=>{const t=e.config;if(t.__shouldCache)try{await ht.set(t.url||"",e.data,t.params,60*60*24*7*1e3)}catch{}return e},async e=>{var t;if(e.config&&((t=e.config.method)==null?void 0:t.toLowerCase())==="get"){const r=e.config;try{const n=await ht.get(r.url||"",r.params);if(n)return Promise.resolve({data:n,status:200,statusText:"OK (Offline Cache)",headers:{},config:r})}catch{}}if(!ht.isOnline()&&(!e.response||e.code==="ERR_NETWORK")){const r=e.config,n=(r==null?void 0:r.url)||"";let s={};return n.includes("/books")?s={books:[],pagination:{total:0}}:n.includes("/notes")?s={notes:[]}:n.includes("/shelf")?s={books:[]}:n.includes("/reading/progress")||n.includes("/reading/history")?s={progresses:[],history:[]}:n.includes("/settings")?s={settings:{}}:n.includes("/fonts")?s={fonts:[]}:n.includes("/profile")||n.includes("/user")?s={user:null}:s={data:[]},Promise.resolve({data:s,status:200,statusText:"OK (Offline, No Cache)",headers:{},config:r||{}})}return Promise.reject(e)});const yx=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),At=Aw()($w(e=>({user:null,token:null,isAuthenticated:!1,login:(t,r)=>{e({token:t,user:r,isAuthenticated:!0}),le.defaults.headers.common.Authorization=`Bearer ${t}`},logout:()=>{e({token:null,user:null,isAuthenticated:!1}),delete le.defaults.headers.common.Authorization},setUser:t=>e({user:t})}),{name:"auth-storage"}));/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...u},f)=>g.createElement("svg",{ref:f,...w2,width:s,height:s,stroke:n,strokeWidth:i?Number(l)*24/Number(s):l,className:["lucide",`lucide-${j2(e)}`,o].join(" "),...u},[...t.map(([d,h])=>g.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=je("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=je("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=je("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=je("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=je("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=je("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=je("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=je("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=je("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=je("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=je("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=je("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=je("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=je("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=je("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=je("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=je("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=je("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=je("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=je("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=je("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=je("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=je("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=je("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=je("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=je("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=je("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=je("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=je("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=je("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=je("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=je("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=je("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=je("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=je("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Sx=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",hc=e=>e==="system"?Sx():e;function Cx(){const[e,t]=g.useState(()=>{const l=localStorage.getItem("theme");return l==="light"||l==="dark"||l==="system"?l:"system"}),[r,n]=g.useState(()=>hc(e));g.useEffect(()=>{const l=hc(e);n(l);const i=document.documentElement,o=document.body;i.classList.remove("light","dark"),o.classList.remove("dark"),l==="dark"?(i.classList.add("dark"),o.classList.add("dark")):i.classList.add("light"),localStorage.setItem("theme",e);const c=l==="dark"?"#1a1a1a":"#ffffff";let u=document.querySelector('meta[name="theme-color"]');u||(u=document.createElement("meta"),u.setAttribute("name","theme-color"),document.head.appendChild(u)),u.setAttribute("content",c),i.style.colorScheme=l==="dark"?"dark":"light"},[e]),g.useEffect(()=>{if(e!=="system")return;const l=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>{const o=hc("system");n(o);const c=document.documentElement,u=document.body;c.classList.remove("light","dark"),u.classList.remove("dark"),o==="dark"?(c.classList.add("dark"),u.classList.add("dark")):c.classList.add("light");const f=o==="dark"?"#1a1a1a":"#ffffff";let d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",f),c.style.colorScheme=o==="dark"?"dark":"light"};return l.addEventListener("change",i),()=>l.removeEventListener("change",i)},[e]);const s=g.useCallback(()=>{t(l=>l==="system"?Sx()==="dark"?"light":"dark":l==="dark"?"light":"dark")},[]);return{theme:e,effectiveTheme:r,setTheme:t,toggleTheme:s}}function Wt({children:e}){var L,_,D,z,P,B;const{isAuthenticated:t,user:r,logout:n}=At(),s=It(),l=ha(),[i,o]=g.useState(!1),{effectiveTheme:c,toggleTheme:u}=Cx(),f=()=>{n(),s("/login")},[d,h]=g.useState(null);g.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{const T=await le.get("/reading/progress?limit=1");T.data.progresses&&T.data.progresses.length>0&&h(T.data.progresses[0])}catch(T){console.error(":",T)}},b=t?[{path:"/books",label:"",icon:fc,onClick:null},{path:"/",label:"",icon:it,onClick:null},{path:"#",label:"",icon:oa,onClick:()=>{d&&d.book_id?s(`/reader/${d.book_id}`):s("/books")},isSpecial:!0},{path:"/notes",label:"",icon:ca,onClick:null},{path:"/profile",label:"",icon:al,onClick:null}]:[{path:"/books",label:"",icon:fc,onClick:null}],k=[...t?[{path:"/",label:"",icon:it}]:[],{path:"/books",label:"",icon:fc},...t?[{path:"/history",label:"",icon:ci},{path:"/notes",label:"",icon:ca},{path:"/ai-reading",label:"AI",icon:Cn}]:[]],x=t?[{path:"/settings",label:"",icon:al},{path:"/upload",label:"",icon:nn},...(r==null?void 0:r.role)==="admin"?[{path:"/books-management",label:"",icon:T2},{path:"/users",label:"",icon:No},{path:"/ip-management",label:"",icon:sn}]:[]]:[],[y,v]=g.useState(!1),w=g.useRef(null),[C,S]=g.useState(!1),O=g.useRef(null);g.useEffect(()=>{const T=M=>{w.current&&!w.current.contains(M.target)&&v(!1)};return y&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[y]),g.useEffect(()=>{const T=M=>{O.current&&!O.current.contains(M.target)&&S(!1)};return C&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[C]);const A=l.pathname==="/"||l.pathname==="/books"||l.pathname==="/login"||l.pathname==="/register"||l.pathname==="/upload"||l.pathname==="/history"||l.pathname==="/profile"||l.pathname==="/users"||l.pathname==="/ip-management"||l.pathname==="/notes"||l.pathname==="/ai-reading",Q=()=>l.pathname.startsWith("/profile/account")||l.pathname.startsWith("/settings")||l.pathname.startsWith("/users")||l.pathname.startsWith("/ip-management")?"/profile":l.pathname.startsWith("/notes")?"/notes":l.pathname.startsWith("/ai-reading")?"/profile":l.pathname.startsWith("/books/")?"/books":(l.pathname.startsWith("/reader/"),"/"),E=()=>l.pathname==="/"?"":l.pathname==="/books"||l.pathname.startsWith("/books/")?"":l.pathname==="/upload"?"":l.pathname==="/history"?"":l.pathname==="/settings"||l.pathname.startsWith("/settings")?"":l.pathname==="/profile/account"?"":l.pathname==="/profile"||l.pathname.startsWith("/profile")?"":l.pathname==="/users"?"":l.pathname==="/ip-management"?"":l.pathname==="/notes"||l.pathname.startsWith("/notes")?"":l.pathname==="/ai-reading"||l.pathname.startsWith("/ai-reading")?"AI":l.pathname.startsWith("/reader/")?"":l.pathname==="/login"?"":l.pathname==="/register"?"":"";return g.useEffect(()=>{if(!l.pathname.startsWith("/reader")){const T=c==="dark"?"#030712":"#f9fafb";document.documentElement.style.backgroundColor=T,document.body.style.backgroundColor=T}},[l.pathname,c]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-950",children:[a.jsxs("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50 shadow-sm lg:block hidden",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center justify-between",style:{height:"56px",marginTop:"-5px"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[!A&&a.jsxs("button",{onClick:()=>s(Q()),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"",children:[a.jsx(Lu,{className:"w-4 h-4"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-blue-600 dark:text-blue-400",children:[a.jsx(it,{className:"w-6 h-6"}),a.jsx("span",{children:E()})]})]}),a.jsx("nav",{className:"hidden lg:flex items-center gap-2",children:k.map(T=>{const M=T.icon,J=l.pathname===T.path||T.path==="/books"&&l.pathname.startsWith("/books")&&l.pathname!=="/books"||T.path==="/notes"&&l.pathname.startsWith("/notes")||T.path==="/ai-reading"&&l.pathname.startsWith("/ai-reading");return a.jsxs(Je,{to:T.path,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${J?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 font-medium":"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[a.jsx(M,{className:"w-4 h-4"}),a.jsx("span",{children:T.label})]},T.path)})}),a.jsx("div",{className:"hidden lg:flex items-center gap-4",children:t?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"relative",ref:O,children:[a.jsxs("button",{onClick:()=>S(!C),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:((_=(L=r==null?void 0:r.username)==null?void 0:L[0])==null?void 0:_.toUpperCase())||"U"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r==null?void 0:r.username}),a.jsx(nf,{className:`w-4 h-4 text-gray-600 dark:text-gray-400 transition-transform ${C?"rotate-180":""}`})]}),C&&a.jsxs("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50",children:[x.map(T=>{const M=T.icon,J=l.pathname===T.path||T.path==="/settings"&&l.pathname.startsWith("/settings")||T.path==="/upload"&&l.pathname==="/upload"||T.path==="/books-management"&&l.pathname==="/books-management"||T.path==="/users"&&l.pathname==="/users"||T.path==="/ip-management"&&l.pathname==="/ip-management";return a.jsxs(Je,{to:T.path,onClick:()=>S(!1),className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors ${J?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(M,{className:"w-4 h-4"}),a.jsx("span",{children:T.label})]},T.path)}),x.length>0&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),a.jsx("button",{onClick:()=>{u(),S(!1)},className:"flex items-center justify-center px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors w-full",title:c==="dark"?"":"",children:c==="dark"?a.jsx(Ou,{className:"w-5 h-5"}):a.jsx(zu,{className:"w-5 h-5"})}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:()=>{S(!1),f()},className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[a.jsx(Au,{className:"w-4 h-4"}),a.jsx("span",{children:""})]})]})]})}):a.jsxs(a.Fragment,{children:[a.jsx(Je,{to:"/login",className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:""}),a.jsx(Je,{to:"/register",className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:""})]})}),a.jsx("button",{className:"lg:hidden p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>o(!i),children:i?a.jsx(Ze,{className:"w-6 h-6"}):a.jsx(vx,{className:"w-6 h-6"})})]})}),i&&a.jsx("div",{className:"lg:hidden border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900",children:a.jsxs("nav",{className:"container mx-auto px-4 py-4 space-y-2",children:[k.map(T=>{const M=T.icon,J=l.pathname===T.path||T.path==="/books"&&l.pathname.startsWith("/books")&&l.pathname!=="/books";return a.jsxs(Je,{to:T.path,onClick:()=>o(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${J?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 font-medium":"text-gray-700 dark:text-gray-300"}`,children:[a.jsx(M,{className:"w-5 h-5"}),a.jsx("span",{children:T.label})]},T.path)}),t&&x.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-800",children:[a.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),x.map(T=>{const M=T.icon,J=l.pathname===T.path||T.path==="/settings"&&l.pathname.startsWith("/settings")||T.path==="/upload"&&l.pathname==="/upload"||T.path==="/books-management"&&l.pathname==="/books-management"||T.path==="/users"&&l.pathname==="/users"||T.path==="/ip-management"&&l.pathname==="/ip-management";return a.jsxs(Je,{to:T.path,onClick:()=>o(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${J?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 font-medium":"text-gray-700 dark:text-gray-300"}`,children:[a.jsx(M,{className:"w-5 h-5"}),a.jsx("span",{children:T.label})]},T.path)})]})}),t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-medium",children:((z=(D=r==null?void 0:r.username)==null?void 0:D[0])==null?void 0:z.toUpperCase())||"U"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r==null?void 0:r.username}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r==null?void 0:r.email})]})]})}),a.jsx("button",{onClick:()=>{u(),o(!1)},className:"flex items-center justify-center px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors w-full",title:c==="dark"?"":"",children:c==="dark"?a.jsx(Ou,{className:"w-6 h-6"}):a.jsx(zu,{className:"w-6 h-6"})}),a.jsxs("button",{onClick:()=>{o(!1),f()},className:"flex items-center gap-3 px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[a.jsx(Au,{className:"w-5 h-5"}),a.jsx("span",{children:""})]})]}):a.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800 space-y-2",children:[a.jsx(Je,{to:"/login",onClick:()=>o(!1),className:"block px-4 py-3 text-center text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:""}),a.jsx(Je,{to:"/register",onClick:()=>o(!1),className:"block px-4 py-3 text-center bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})]})})]}),a.jsx("header",{className:"lg:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-40 shadow-sm",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center justify-between",style:{height:"44px",marginTop:"-5px"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[!A&&a.jsx(Je,{to:Q(),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"",children:a.jsx(Lu,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold text-blue-600 dark:text-blue-400",children:[a.jsx(it,{className:"w-5 h-5"}),a.jsx("span",{children:E()})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:t&&a.jsxs(a.Fragment,{children:[a.jsx(Je,{to:"/ai-reading",className:`p-2 rounded-lg transition-colors ${l.pathname==="/ai-reading"||l.pathname.startsWith("/ai-reading")?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,title:"AI",children:a.jsx(Cn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800",children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs font-medium",children:((B=(P=r==null?void 0:r.username)==null?void 0:P[0])==null?void 0:B.toUpperCase())||"U"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 hidden sm:inline",children:r==null?void 0:r.username})]})]})})]})})}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-6 lg:py-8 overflow-y-auto hide-scrollbar",style:{paddingBottom:"calc(3.5rem + env(safe-area-inset-bottom, 0px))"},children:e}),t&&a.jsx("nav",{className:"lg:hidden fixed left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 z-50 shadow-lg",style:{bottom:0,paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:a.jsx("div",{className:"flex items-center justify-around",style:{height:"40px",paddingTop:"4px",paddingBottom:"4px"},children:b.map(T=>{const M=T.icon,J=!T.isSpecial&&(l.pathname===T.path||T.path==="/books"&&l.pathname.startsWith("/books")||T.path==="/"&&l.pathname==="/"||T.path==="/notes"&&l.pathname.startsWith("/notes")||T.path==="/profile"&&l.pathname.startsWith("/profile"));return T.isSpecial?a.jsx("button",{onClick:T.onClick,className:"flex items-center justify-center px-1.5 transition-all relative group",style:{marginTop:"-2px"},children:a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 6px 12px rgba(102, 126, 234, 0.35), 0 3px 6px rgba(118, 75, 162, 0.25)"},children:a.jsx(M,{className:"w-6 h-6 text-white drop-shadow-md"})})},T.path):a.jsxs(Je,{to:T.path,onClick:T.onClick||void 0,className:`flex flex-col items-center justify-center px-1.5 rounded-lg transition-all min-w-[50px] relative ${J?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,style:{paddingTop:"10px",paddingBottom:"4px"},children:[a.jsx(M,{className:`w-5 h-5 ${J?"scale-110":""} transition-transform`}),a.jsx("span",{className:"text-[10px] font-medium leading-tight mt-0.5",children:T.label})]},T.path)})})}),a.jsx("footer",{className:"hidden lg:block bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 py-6",children:a.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-gray-600 dark:text-gray-400",children:a.jsx("p",{children:" 2025 TTB. ."})})})]})}function H2(){const e=It(),{login:t}=At(),[r,n]=g.useState(null),[s,l]=g.useState(!1),[i,o]=g.useState(!1),[c,u]=g.useState({username:"",password:"",privateKey:"",captcha:""}),[f,d]=g.useState(""),[h,m]=g.useState(""),[p,b]=g.useState(!1),[k,x]=g.useState(!1),[y,v]=g.useState(!1),[w,C]=g.useState(!1),S=g.useRef(null);g.useEffect(()=>{(async()=>{try{const L=await le.get("/auth/system-config");n(L.data);const _=L.data.privateKeyRequiredForLogin&&L.data.hasPrivateKey;l(_),_||o(!0)}catch(L){console.error(":",L),R.error("")}})()},[]),g.useEffect(()=>{const E=localStorage.getItem("saved_username"),L=localStorage.getItem("saved_password"),_=localStorage.getItem("remember_me")==="true";E&&_&&(u(D=>({...D,username:E,password:L||""})),b(_))},[]);const O=async()=>{v(!0);try{const E=await fetch(`/api/auth/captcha?sessionId=${f||""}`,{method:"GET",headers:{"Cache-Control":"no-cache"}}),L=E.headers.get("x-captcha-session-id");L&&d(L);const _=await E.blob(),D=URL.createObjectURL(_);m(D)}catch(E){console.error(":",E),R.error("")}finally{v(!1)}};g.useEffect(()=>{i&&O()},[i]);const A=async E=>{var L,_;if(E.preventDefault(),!c.privateKey){R.error("");return}C(!0);try{await le.post("/auth/verify-private-key",{privateKey:c.privateKey}),o(!0),R.success("")}catch(D){const z=((_=(L=D.response)==null?void 0:L.data)==null?void 0:_.error)||"";R.error(z)}finally{C(!1)}},Q=async E=>{var L,_,D,z,P,B;E.preventDefault(),x(!0);try{const T=await le.post("/auth/login",{username:c.username,password:c.password,privateKey:s?c.privateKey:void 0,captcha:c.captcha,captchaSessionId:f,rememberMe:p});p?(localStorage.setItem("saved_username",c.username),localStorage.setItem("saved_password",c.password),localStorage.setItem("remember_me","true")):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password"),localStorage.removeItem("remember_me")),t(T.data.token,T.data.user),R.success(""),e("/")}catch(T){console.error(":",T),((_=(L=T.response)==null?void 0:L.data)==null?void 0:_.error)===""&&(O(),u(J=>({...J,captcha:""})));const M=((z=(D=T.response)==null?void 0:D.data)==null?void 0:z.error)||((B=(P=T.response)==null?void 0:P.data)==null?void 0:B.message)||T.message||"";R.error(M)}finally{x(!1)}};return r?s&&!i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ui,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:""})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"privateKey",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"privateKey",name:"privateKey",type:"password",required:!0,className:"input",placeholder:"",value:c.privateKey,onChange:E=>u({...c,privateKey:E.target.value}),autoFocus:!0}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("button",{type:"submit",disabled:w,className:"w-full btn btn-primary",children:w?"...":""})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(qr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:""}),r.registrationEnabled&&a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:[""," ",a.jsx(Je,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:""})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:Q,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"input",value:c.username,onChange:E=>u({...c,username:E.target.value}),autoFocus:!s})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"input",value:c.password,onChange:E=>u({...c,password:E.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"captcha",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{id:"captcha",name:"captcha",type:"text",required:!0,className:"input flex-1",placeholder:"",value:c.captcha,onChange:E=>u({...c,captcha:E.target.value}),maxLength:4}),a.jsxs("div",{className:"relative",children:[h?a.jsx("img",{ref:S,src:h,alt:"",className:"h-10 w-24 border border-gray-300 dark:border-gray-700 rounded cursor-pointer",onClick:O,title:""}):a.jsx("div",{className:"h-10 w-24 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:y?a.jsx(_t,{className:"w-4 h-4 animate-spin"}):a.jsx("span",{className:"text-xs text-gray-500",children:""})}),a.jsx("button",{type:"button",onClick:O,disabled:y,className:"absolute -top-1 -right-1 p-1 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50",title:"",children:a.jsx(_t,{className:`w-3 h-3 ${y?"animate-spin":""}`})})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:p,onChange:E=>b(E.target.checked)}),a.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:""})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:k||y,className:"w-full btn btn-primary",children:k?"...":""})})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_t,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"..."})]})})}function W2(){const e=It(),{login:t}=At(),[r,n]=g.useState(null),[s,l]=g.useState(!1),[i,o]=g.useState(!1),[c,u]=g.useState({username:"",email:"",password:"",confirmPassword:"",privateKey:""}),[f,d]=g.useState(!1),[h,m]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const x=await le.get("/auth/system-config");n(x.data);const y=x.data.privateKeyRequiredForRegister&&x.data.hasPrivateKey;l(y),y||o(!0)}catch(x){console.error(":",x),R.error("")}})()},[]);const p=async k=>{var x,y;if(k.preventDefault(),!c.privateKey){R.error("");return}m(!0);try{await le.post("/auth/verify-private-key",{privateKey:c.privateKey}),o(!0),R.success("")}catch(v){const w=((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.error)||"";R.error(w)}finally{m(!1)}},b=async k=>{var x,y,v;if(k.preventDefault(),c.password!==c.confirmPassword){R.error("");return}if(c.password.length<6){R.error("6");return}d(!0);try{const w=await le.post("/auth/register",{username:c.username,email:c.email,password:c.password,privateKey:s?c.privateKey:void 0}),C=((x=w.data.user)==null?void 0:x.role)==="admin";t(w.data.token,w.data.user),C?R.success(" ",{duration:5e3}):R.success(""),e("/")}catch(w){const C=((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.error)||"";R.error(C)}finally{d(!1)}};return r?r.registrationEnabled?s&&!i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ui,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:""})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"privateKey",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"privateKey",name:"privateKey",type:"password",required:!0,className:"input",placeholder:"",value:c.privateKey,onChange:k=>u({...c,privateKey:k.target.value}),autoFocus:!0}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:""})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>e("/login"),className:"flex-1 btn bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{type:"submit",disabled:h,className:"flex-1 btn btn-primary",children:h?"...":""})]})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(Fu,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:""}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:[""," ",a.jsx(Je,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:""})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"input",value:c.username,onChange:k=>u({...c,username:k.target.value}),autoFocus:!s})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"input",value:c.email,onChange:k=>u({...c,email:k.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"input",value:c.password,onChange:k=>u({...c,password:k.target.value})}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"6"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"input",value:c.confirmPassword,onChange:k=>u({...c,confirmPassword:k.target.value})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:f,className:"w-full btn btn-primary",children:f?"...":""})}),a.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("p",{className:"flex items-center justify-center gap-1",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]})})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(Mu,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),a.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsx(Je,{to:"/login",className:"inline-block btn btn-primary",children:""})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_t,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"..."})]})})}function Vr(e){if(!e)return null;if(e.startsWith("/books/"))try{return"/"+e.split("/").filter(n=>n).map(n=>{try{if(decodeURIComponent(n)!==n)return n}catch{}return encodeURIComponent(n)}).join("/")}catch(t){return console.error("[coverHelper] URL:",e,t),e}if(e.startsWith("/api/covers/"))return e;if(e.startsWith("http://")||e.startsWith("https://"))return`/api/covers/proxy?url=${encodeURIComponent(e)}`;if(e.startsWith("/"))return e.startsWith("/covers/")?`/api${e}`:`${e}`;if(e.includes("covers/")||e.includes("cover")){const t=e.split("/").pop()||e;return`/api/covers/${encodeURIComponent(t)}`}return`/api/covers/${encodeURIComponent(e)}`}const So=({onRefresh:e,threshold:t=80,maxDistance:r=120,topAreaHeight:n=120})=>{const[s,l]=g.useState(!1),[i,o]=g.useState(!1),[c,u]=g.useState(0),f=g.useRef(0),d=g.useRef(0),h=g.useRef(null),m=g.useRef(!1);return g.useEffect(()=>{const p=document.querySelector("main");if(!p)return;h.current=p;let b=0,k=0;const x=C=>{var z;if(m.current=!1,!h.current||h.current.scrollTop!==0)return;const S=C.touches[0],O=S.clientY,A=parseInt(getComputedStyle(document.documentElement).getPropertyValue("env(safe-area-inset-top)")||"0",10)||0,Q=44,E=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,L=E?60:20,_=A+Q+L,D=Math.max(_,n);O<=D&&(b=S.clientY,f.current=b,d.current=O,m.current=!0,console.log("[] :",{clientY:O,effectiveTopArea:D,scrollTop:(z=h.current)==null?void 0:z.scrollTop,isPWA:E,bufferArea:L}))},y=C=>{if(!h.current||i||!m.current)return;const O=C.touches[0].clientY-f.current,A=h.current.scrollTop;O>0&&A===0?(C.preventDefault(),k=Math.min(O*.5,r),u(k),l(!0),console.log("[] :",{diff:O,currentPullDistance:k,scrollTop:A})):(O<=0||A>0)&&(u(0),l(!1),m.current=!1)},v=async()=>{if(!m.current){u(0),l(!1),m.current=!1;return}if(!s||i){u(0),l(!1),m.current=!1;return}if(k>=t){o(!0),u(t);try{await e()}catch(C){console.error(":",C)}finally{setTimeout(()=>{o(!1),u(0),l(!1),m.current=!1},300)}}else u(0),l(!1),m.current=!1;k=0},w=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://");return p.addEventListener("touchstart",x,{passive:!0}),p.addEventListener("touchmove",y,{passive:!1}),p.addEventListener("touchend",v,{passive:!0}),w&&(window.addEventListener("touchstart",x,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",v,{passive:!0})),()=>{p.removeEventListener("touchstart",x),p.removeEventListener("touchmove",y),p.removeEventListener("touchend",v),w&&(window.removeEventListener("touchstart",x),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",v))}},[s,i,t,r,n,e]),{isPulling:s,isRefreshing:i,pullDistance:c}};function Co({pullDistance:e,isRefreshing:t,threshold:r=80}){if(e===0&&!t)return null;const s=Math.min(e/r,1)*360;return a.jsxs("div",{className:"fixed left-0 right-0 flex items-center justify-center z-30 pointer-events-none transition-all duration-200",style:{top:`calc(44px + env(safe-area-inset-top, 0px) + ${e}px)`,opacity:e>10?1:0},children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-full shadow-lg p-3 border border-gray-200 dark:border-gray-700",children:a.jsx(_t,{className:`w-6 h-6 text-blue-600 dark:text-blue-400 ${t?"animate-spin":""}`,style:{transform:t?void 0:`rotate(${s}deg)`,transition:t?void 0:"transform 0.1s ease-out"}})}),!t&&e>=r&&a.jsx("div",{className:"absolute -bottom-8 text-sm text-gray-600 dark:text-gray-400 font-medium",children:""})]})}function Ex(){const[e,t]=g.useState(navigator.onLine),[r,n]=g.useState(!navigator.onLine);g.useEffect(()=>{const l=()=>{console.log(": "),t(!0),r&&n(!1)},i=()=>{console.log(": "),t(!1),n(!0)};return window.addEventListener("online",l),window.addEventListener("offline",i),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",i)}},[r]);const s=g.useCallback(()=>r&&e?(n(!1),!0):!1,[r,e]);return{isOnline:e,wasOffline:r,checkAndResetOfflineFlag:s}}function V2(){const{isAuthenticated:e}=At(),t=It(),[r,n]=g.useState([]),[s,l]=g.useState([]),[i,o]=g.useState([]),[c,u]=g.useState([]),[f,d]=g.useState([]),[h,m]=g.useState(!0),[p,b]=g.useState(""),[k,x]=g.useState(""),[y,v]=g.useState(1),[w,C]=g.useState(0),[S,O]=g.useState("grid"),[A,Q]=g.useState("created_at"),[E,L]=g.useState("desc"),[_,D]=g.useState(!1),[z,P]=g.useState(!0),B=20,{isOnline:T,checkAndResetOfflineFlag:M}=Ex();g.useEffect(()=>{J().then(K=>{ht.isOnline()?te():m(!1)}).catch(()=>{ht.isOnline()?te():m(!1)})},[]),g.useEffect(()=>{M()&&(console.log(""),R.success("...",{duration:2e3}),setTimeout(()=>{te()},500))},[T]);const J=async()=>{var K;try{const oe=[ht.get("/api/books",{page:1,limit:B,sort:A,order:E}),ht.get("/api/books/recent",{limit:20}),ht.get("/api/books/recommended",{limit:20}),e&&ht.get("/api/reading/progress",{limit:20}),e&&ht.get("/api/books",{limit:20,scope:"private"})],[ce,be,$,ue,Ce]=await Promise.all(oe);let Te=!1;if(ce!=null&&ce.books&&(n(ce.books),C(((K=ce.pagination)==null?void 0:K.total)||0),Te=!0),be!=null&&be.books&&(l(be.books),Te=!0),$!=null&&$.books&&(o($.books),Te=!0),ue!=null&&ue.progresses){const ye=ue.progresses.map(Pe=>({id:Pe.book_id,title:Pe.title,author:Pe.author,cover_url:Pe.cover_url,file_type:Pe.file_type,rating:Pe.rating}));u(Array.from(new Map(ye.map(Pe=>[Pe.id,Pe])).values())),Te=!0}return Ce!=null&&Ce.books&&(d(Ce.books),Te=!0),Te}catch(oe){return console.warn(":",oe),!1}};g.useEffect(()=>{k||pe()},[y,k,A,E]),g.useEffect(()=>{if(!j()||!z||h)return;const K=()=>{const oe=window.pageYOffset||document.documentElement.scrollTop,ce=document.documentElement.scrollHeight,be=window.innerHeight;oe+be>=ce-100&&$e()};return window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)},[z,h,y]);const j=()=>window.innerWidth<=768,te=async()=>{var K,oe;if(!ht.isOnline()&&await J()){m(!1);return}m(!0);try{await Promise.all([pe(),ke(),Le(),e&&_e(),e&&Ge()])}catch(ce){if(console.error(":",ce),!ht.isOnline()&&await J()){m(!1);return}!ce.isCached&&!((oe=(K=ce.response)==null?void 0:K.data)!=null&&oe.data)&&ht.isOnline()&&R.error("")}finally{m(!1)}},re=async()=>{v(1),await te(),R.success("")},{isRefreshing:N,pullDistance:Z}=So({onRefresh:re}),pe=async()=>{var K;try{const oe=await le.get("/books",{params:{page:y,limit:B,search:k||void 0,sort:A,order:E}});n(y===1?oe.data.books||[]:ce=>[...ce,...oe.data.books||[]]),C(((K=oe.data.pagination)==null?void 0:K.total)||0),P((oe.data.books||[]).length===B)}catch(oe){console.error(":",oe),R.error("")}},ke=async()=>{try{const oe=(await le.get("/books/recent",{params:{limit:20}})).data.books||[],ce=Array.from(new Map(oe.map(be=>[be.id,be])).values());l(ce)}catch(K){console.error(":",K)}},Le=async()=>{try{const oe=(await le.get("/books/recommended",{params:{limit:20}})).data.books||[],ce=Array.from(new Map(oe.map(be=>[be.id,be])).values());o(ce)}catch(K){console.error(":",K)}},_e=async()=>{var K;try{const ce=((K=(await le.get("/reading/progress",{params:{limit:20}})).data.progresses)==null?void 0:K.map($=>({id:$.book_id,title:$.title,author:$.author,cover_url:$.cover_url,file_type:$.file_type,rating:$.rating})))||[],be=Array.from(new Map(ce.map($=>[$.id,$])).values());u(be)}catch(oe){console.error(":",oe)}},Ge=async()=>{try{const oe=(await le.get("/books",{params:{limit:20,scope:"private"}})).data.books||[],ce=Array.from(new Map(oe.map(be=>[be.id,be])).values());d(ce)}catch(K){console.error(":",K)}},$e=()=>{!z||h||v(K=>K+1)},ft=K=>{if(K.preventDefault(),!p.trim()){R.error("");return}t(`/search?q=${encodeURIComponent(p.trim())}&scope=all`)},me=({book:K})=>a.jsx(Je,{to:`/books/${K.id}`,className:"group block h-full",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[a.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 overflow-hidden relative flex-shrink-0 w-full",children:[(()=>{const oe=Vr(K.cover_url);return oe?a.jsx("img",{src:oe,alt:K.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300",style:{minWidth:"100%",minHeight:"100%"},onError:ce=>{const be=ce.target;be.style.display="none";const $=be.parentElement;$&&($.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center">
                        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                      </div>
                    `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})})})(),K.rating&&a.jsxs("div",{className:"absolute top-1 right-1 bg-black/60 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-full flex items-center gap-0.5",children:[a.jsx("span",{children:""}),a.jsx("span",{children:K.rating.toFixed(1)})]})]}),a.jsxs("div",{className:"p-1.5 flex-1 flex flex-col justify-between min-h-[48px]",children:[a.jsx("h3",{className:"font-semibold text-xs line-clamp-2 mb-0.5 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors break-words",title:K.title,children:K.title.length>20?`${K.title.substring(0,20)}...`:K.title}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 line-clamp-1 mt-auto",children:K.author||""})]})]})}),fe=({book:K})=>a.jsxs(Je,{to:`/books/${K.id}`,className:"group flex gap-3 sm:gap-4 p-3 sm:p-4 bg-white dark:bg-gray-800 rounded-lg hover:shadow-md transition-all border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"w-16 h-24 sm:w-20 sm:h-28 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded overflow-hidden aspect-[3/4]",children:(()=>{const oe=Vr(K.cover_url);return oe?a.jsx("img",{src:oe,alt:K.title,className:"w-full h-full object-cover object-center",style:{minWidth:"100%",minHeight:"100%"},onError:ce=>{const be=ce.target;be.style.display="none";const $=be.parentElement;$&&($.innerHTML=`
                    <div class="w-full h-full flex items-center justify-center">
                      <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                      </svg>
                    </div>
                  `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})})})()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base mb-1 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2 break-words",title:K.title,children:K.title.length>30?`${K.title.substring(0,30)}...`:K.title}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-2",children:K.author||""}),K.description&&a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 hidden sm:block",children:K.description}),K.rating&&a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[a.jsx("span",{className:"text-yellow-500 text-xs",children:""}),a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:K.rating.toFixed(1)})]})]})]}),se=({title:K,books:oe,loading:ce})=>{const be=g.useRef(null),$=ue=>{be.current&&be.current.scrollBy({left:ue==="left"?-300:300,behavior:"smooth"})};return ce||oe.length===0?null:a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-5 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"}),K]}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("button",{onClick:()=>$("left"),className:"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"",children:a.jsx(Ya,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>$("right"),className:"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"",children:a.jsx(Xa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{ref:be,className:"flex gap-3 sm:gap-4 md:gap-5 overflow-x-auto scrollbar-hide pb-2 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:oe.map(ue=>a.jsx("div",{className:"flex-shrink-0 w-32 sm:w-36 md:w-40 lg:w-44",children:a.jsx(me,{book:ue})},ue.id))})]})};return a.jsxs(a.Fragment,{children:[a.jsx(Co,{pullDistance:Z,isRefreshing:N}),a.jsxs("div",{className:"w-full pt-4 lg:pt-6",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 mb-4",children:a.jsx("form",{onSubmit:ft,className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(Lr,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent transition-all",value:p,onChange:K=>b(K.target.value)}),p&&a.jsx("button",{type:"button",onClick:()=>b(""),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-4 h-4"})})]}),a.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:""})]})})})}),h&&y===1?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[s.length>0&&a.jsx(se,{title:"",books:s}),e&&f.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-5 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),a.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:""})]}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("button",{onClick:()=>{const K=document.getElementById("private-books-scroll");K&&K.scrollBy({left:-300,behavior:"smooth"})},className:"p-1.5 rounded-lg bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-800/40 transition-colors",title:"",children:a.jsx(Ya,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),a.jsx("button",{onClick:()=>{const K=document.getElementById("private-books-scroll");K&&K.scrollBy({left:300,behavior:"smooth"})},className:"p-1.5 rounded-lg bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-800/40 transition-colors",title:"",children:a.jsx(Xa,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})})]})]}),a.jsx("div",{id:"private-books-scroll",className:"flex gap-3 sm:gap-4 md:gap-5 overflow-x-auto scrollbar-hide pb-2 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:f.map(K=>a.jsx("div",{className:"flex-shrink-0 w-32 sm:w-36 md:w-40 lg:w-44",children:a.jsx(Je,{to:`/books/${K.id}`,className:"group block h-full",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 border-2 border-purple-200 dark:border-purple-800 h-full flex flex-col",children:[a.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 overflow-hidden relative flex-shrink-0 w-full",children:[(()=>{const oe=Vr(K.cover_url);return oe?a.jsx("img",{src:oe,alt:K.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300",style:{minWidth:"100%",minHeight:"100%"},onError:ce=>{const be=ce.target;be.style.display="none";const $=be.parentElement;$&&($.innerHTML=`
                                      <div class="w-full h-full flex items-center justify-center">
                                        <svg class="w-12 h-12 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                        </svg>
                                      </div>
                                    `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-12 h-12 text-purple-400 dark:text-purple-500"})})})(),K.rating&&a.jsxs("div",{className:"absolute top-1 right-1 bg-purple-600/80 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-full flex items-center gap-0.5",children:[a.jsx("span",{children:""}),a.jsx("span",{children:K.rating.toFixed(1)})]})]}),a.jsxs("div",{className:"p-1.5 flex-1 flex flex-col justify-between min-h-[48px]",children:[a.jsx("h3",{className:"font-semibold text-xs line-clamp-2 mb-0.5 text-gray-900 dark:text-gray-100 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:K.title}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 line-clamp-1 mt-auto",children:K.author||""})]})]})})},K.id))})]}),i.length>0&&a.jsx(se,{title:"",books:i}),r.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>O("grid"),className:`p-2 rounded-lg transition-all ${S==="grid"?"bg-blue-600 text-white shadow-sm":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:"",children:a.jsx(jo,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>O("list"),className:`p-2 rounded-lg transition-all ${S==="list"?"bg-blue-600 text-white shadow-sm":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:"",children:a.jsx(af,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>D(!_),className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm",title:"",children:[a.jsx(rf,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 hidden sm:inline",children:[A==="created_at"&&(E==="desc"?"":""),A==="title"&&(E==="asc"?" A-Z":" Z-A"),A==="author"&&(E==="asc"?" A-Z":" Z-A"),A==="rating"&&(E==="desc"?"":"")]})]}),_&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>D(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-20",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase border-b border-gray-200 dark:border-gray-700",children:""}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(wo,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{Q("created_at"),L("desc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="created_at"&&E==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),""]}),a.jsxs("button",{onClick:()=>{Q("created_at"),L("asc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="created_at"&&E==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),""]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(it,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{Q("title"),L("asc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="title"&&E==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),"A-Z"]}),a.jsxs("button",{onClick:()=>{Q("title"),L("desc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="title"&&E==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),"Z-A"]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(it,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{Q("author"),L("asc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="author"&&E==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),"A-Z"]}),a.jsxs("button",{onClick:()=>{Q("author"),L("desc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="author"&&E==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),"Z-A"]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(Hi,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{Q("rating"),L("desc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="rating"&&E==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),""]}),a.jsxs("button",{onClick:()=>{Q("rating"),L("asc"),v(1),D(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${A==="rating"&&E==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),""]})]})]})]})]})]})]})}),S==="grid"?a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-1.5 sm:gap-2 md:gap-3",children:r.map(K=>a.jsx(me,{book:K},K.id))}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:r.map(K=>a.jsx(fe,{book:K},K.id))}),!j()&&w>B&&a.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>v(y-1),disabled:y===1,className:"btn btn-secondary",children:""}),a.jsxs("span",{className:"flex items-center px-4",children:[" ",y,"  /  ",Math.ceil(w/B)," "]}),a.jsx("button",{onClick:()=>v(y+1),disabled:y>=Math.ceil(w/B),className:"btn btn-secondary",children:""})]}),j()&&z&&a.jsx("div",{className:"text-center py-4",children:a.jsx("button",{onClick:$e,disabled:h,className:"btn btn-secondary",children:h?"...":""})})]})]})]})]})}function q2(){var xt;const{id:e}=Rg(),t=It(),{isAuthenticated:r,user:n}=At(),[s,l]=g.useState(null),[i,o]=g.useState([]),[c,u]=g.useState(null),[f,d]=g.useState(!0),[h,m]=g.useState(!1),[p,b]=g.useState(!1),[k,x]=g.useState({}),[y,v]=g.useState(!1),[w,C]=g.useState(!1),[S,O]=g.useState(!1),[A,Q]=g.useState(""),[E,L]=g.useState(!1),[_,D]=g.useState([]),[z,P]=g.useState(!1),[B,T]=g.useState(!1),[M,J]=g.useState(!1),[j,te]=g.useState(!1),[re,N]=g.useState(null),[Z,pe]=g.useState(!1),[ke,Le]=g.useState(!1),[_e,Ge]=g.useState("file"),[$e,ft]=g.useState(null),[me,fe]=g.useState(""),[se,K]=g.useState(!1),[oe,ce]=g.useState(null);g.useEffect(()=>{e&&($(),r&&(ue(),be()))},[e,r]);const be=async()=>{var X;try{const I=(await le.get("/settings")).data.settings||{};L(((X=I.email_push_enabled)==null?void 0:X.value)==="true")}catch(xe){console.error(":",xe)}},$=async()=>{try{const X=await le.get(`/books/${e}`),xe=X.data.book,I=X.data.formats||[];l(xe),o(I),x(xe),!c&&I.length>0&&u(xe.id);const G=!xe.cover_url||xe.cover_url==="cover"||xe.cover_url==="pdf-cover";r&&G&&(xe.file_type==="epub"||xe.file_type==="pdf")&&setTimeout(async()=>{var ge,Ee;try{const Ie=await le.post(`/books/${e}/extract-cover`);Ie.data.cover_url&&l({...xe,cover_url:Ie.data.cover_url})}catch(Ie){console.log(":",((Ee=(ge=Ie.response)==null?void 0:ge.data)==null?void 0:Ee.error)||Ie.message)}},1e3)}catch(X){console.error(":",X),X.statusText!=="OK (Offline Cache)"&&X.statusText!=="OK (Offline, No Cache)"&&navigator.onLine&&R.error("")}finally{d(!1)}},ue=async()=>{try{const X=await le.get(`/shelf/check/${e}`);m(X.data.inShelf)}catch(X){console.error(":",X)}},Ce=async()=>{var X,xe;try{await le.post("/shelf/add",{bookId:e}),m(!0),R.success("")}catch(I){R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}},Te=async()=>{var X,xe;try{await le.delete(`/shelf/remove/${e}`),m(!1),R.success("")}catch(I){R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}},ye=async()=>{var I,G;if(!s)return;const X=c||s.id,xe=i.find(ge=>ge.id===X)||s;try{const ge=((G=(I=xe.file_name)==null?void 0:I.split(".").pop())==null?void 0:G.toLowerCase())||xe.file_type,Ee=`/books/${xe.id}.${ge}`,{offlineStorage:Ie}=await ta(async()=>{const{offlineStorage:Ct}=await Promise.resolve().then(()=>_x);return{offlineStorage:Ct}},void 0);if(!await Ie.isBookCached(xe.id)){R.loading("...",{id:"downloading-book"});try{await Ie.downloadBook(xe.id,ge,Ee),R.success("",{id:"downloading-book"})}catch(Ct){console.error(":",Ct),R.error("",{id:"downloading-book"})}}}catch(ge){console.error(":",ge)}t(`/reader/${X}`)},Pe=async()=>{var X,xe;pe(!0);try{await le.put(`/books/${e}`,k),await $(),b(!1),R.success("")}catch(I){R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}finally{pe(!1)}},Be=()=>{s&&(x(s),b(!0))},W=g.useRef(0),ee=g.useRef(null),ve=g.useRef(0),Re=g.useRef(null),Fe=500,Ye=()=>{r&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.id)===(s==null?void 0:s.uploader_id))&&(Le(!0),Ge("file"),ft(null),fe(""),ce(null))},St=X=>{const xe=X.touches[0];W.current=Date.now(),ee.current={x:xe.clientX,y:xe.clientY},Re.current=setTimeout(()=>{Ye()},Fe)},ut=X=>{if(ee.current){const xe=X.touches[0],I=Math.abs(xe.clientX-ee.current.x),G=Math.abs(xe.clientY-ee.current.y);(I>10||G>10)&&Re.current&&(clearTimeout(Re.current),Re.current=null)}},Ne=X=>{Re.current&&(clearTimeout(Re.current),Re.current=null);const xe=Date.now();if(xe-W.current<300){const G=xe-ve.current;G<300&&G>0?(X.preventDefault(),Ye(),ve.current=0):ve.current=xe}ee.current=null},he=()=>{Re.current&&(clearTimeout(Re.current),Re.current=null),ee.current=null},U=X=>{var I;const xe=(I=X.target.files)==null?void 0:I[0];if(xe){if(!xe.type.startsWith("image/")){R.error("");return}if(xe.size>5*1024*1024){R.error("5MB");return}ft(xe);const G=new FileReader;G.onloadend=()=>{ce(G.result)},G.readAsDataURL(xe)}},Y=async()=>{var X,xe;if(e){if(_e==="file"&&!$e){R.error("");return}if(_e==="url"&&!me.trim()){R.error("URL");return}K(!0);try{if(_e==="file"&&$e){const I=new FormData;I.append("cover",$e);const G=await le.post(`/books/${e}/upload-cover`,I,{headers:{"Content-Type":"multipart/form-data"}});R.success(""),l({...s,cover_url:G.data.cover_url})}else if(_e==="url"&&me){const I=await le.post(`/books/${e}/cover-from-url`,{imageUrl:me});R.success(""),l({...s,cover_url:I.data.cover_url})}Le(!1),await $()}catch(I){console.error(":",I),R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}finally{K(!1)}}},F=async()=>{var xe,I,G,ge;const X=s;if(!(!X||X.file_type!=="epub"&&X.file_type!=="pdf")){v(!0);try{const Ee=await le.post(`/books/${e}/extract-cover`);if(Ee.data.success===!1){const Ie=Ee.data.error||Ee.data.message||"";console.error("[] :",Ie),Ee.data.hint&&console.error("[] :",Ee.data.hint),f||R.error(Ie);return}Ee.data.cover_url?(l({...X,cover_url:Ee.data.cover_url}),f||R.success("")):(console.warn("[] URL"),f||R.error("URL"))}catch(Ee){if(console.error("[] HTTP:",Ee),!f){const Ie=((I=(xe=Ee.response)==null?void 0:xe.data)==null?void 0:I.error)||((ge=(G=Ee.response)==null?void 0:G.data)==null?void 0:ge.message)||Ee.message||"";R.error(Ie)}}finally{v(!1)}}},H=async()=>{J(!0)},V=async()=>{var X,xe;J(!1);try{await le.delete(`/books/${e}`),R.success(""),t("/books")}catch(I){R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}},we=async()=>{var X,xe;try{const I=await le.get(`/books/${e}/download`,{responseType:"blob"}),G=window.URL.createObjectURL(new Blob([I.data])),ge=document.createElement("a");ge.href=G,ge.setAttribute("download",(s==null?void 0:s.file_name)||`${s==null?void 0:s.title}.${s==null?void 0:s.file_type}`),document.body.appendChild(ge),ge.click(),ge.remove(),window.URL.revokeObjectURL(G),R.success("")}catch(I){R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}},ne=async()=>{var X,xe;if(!A||!A.includes("@")){R.error("");return}try{await le.post(`/books/${e}/push`,{email:A}),R.success(""),C(!1),Q("")}catch(I){R.error(((xe=(X=I.response)==null?void 0:X.data)==null?void 0:xe.error)||"")}},ae=()=>!r||!n||!s?!1:n.role==="admin"||s.uploader_id===n.id,De=()=>!r||!n?!1:n.role==="admin"&&E,qe=async()=>{var X,xe,I,G;if(!(!e||!s)){P(!0),O(!0),D([]);try{const ge=await le.get(`/books/${e}/search-douban`);D(ge.data.results||[]),ge.data.results.length===0?R.error(""):R.success(` ${ge.data.results.length} `)}catch(ge){console.error(":",ge);const Ee=((xe=(X=ge.response)==null?void 0:X.data)==null?void 0:xe.error)||((G=(I=ge.response)==null?void 0:I.data)==null?void 0:G.message)||ge.message||"";Ee.includes("")||Ee.includes("API")?R.error("API",{duration:5e3}):Ee.includes("")||Ee.includes("")?R.error("APIAPI",{duration:5e3}):R.error(Ee,{duration:5e3})}finally{P(!1)}}},Xe=async X=>{if(e){if(X.image&&X.image.startsWith("http"))if(s!=null&&s.cover_url&&s.cover_url!=="cover"&&s.cover_url!=="pdf-cover"){N(X),te(!0);return}else{await Ke(X,!0);return}await Ke(X,!1)}},Ke=async(X,xe)=>{var I,G;if(e){T(!0);try{await le.post(`/books/${e}/apply-douban-info`,{...X,replaceCover:xe}),R.success(""),O(!1),D([]),te(!1),N(null),await $()}catch(ge){console.error(":",ge),R.error(((G=(I=ge.response)==null?void 0:I.data)==null?void 0:G.error)||"")}finally{T(!1)}}};return f?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pb-20 lg:pb-8",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 md:py-4 lg:py-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6 mb-4 md:mb-6",children:[a.jsx("div",{className:"md:col-span-4 lg:col-span-3",children:a.jsxs("div",{className:"w-full max-w-[140px] sm:max-w-[160px] md:max-w-[180px] lg:max-w-[200px] mx-auto md:mx-0",children:[a.jsx("div",{className:"group relative w-full aspect-[3/4] mb-3",onDoubleClick:Ye,onTouchStart:St,onTouchMove:ut,onTouchEnd:Ne,onTouchCancel:he,title:r&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.id)===s.uploader_id)?"":"",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-xl overflow-hidden shadow-lg ring-2 ring-white dark:ring-gray-800 transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:ring-blue-200 dark:hover:ring-blue-800 flex items-center justify-center p-1.5 cursor-pointer",children:(()=>{const X=Vr(s.cover_url);return X?a.jsx("img",{src:X,alt:s.title,className:"w-full h-full object-contain rounded-lg",style:{maxWidth:"100%",maxHeight:"100%",objectPosition:"center"},onError:xe=>{const I=xe.target;I.style.display="none";const G=I.parentElement;G&&(G.innerHTML=`
                              <div class="w-full h-full flex items-center justify-center">
                                <svg class="w-24 h-24 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                              </div>
                            `)}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-8 h-8 md:w-12 md:h-12 text-gray-400 dark:text-gray-500"})})})()})}),r&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.id)===s.uploader_id)&&a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{onClick:Be,className:"group px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-all duration-200 hover:shadow-md flex items-center gap-1.5 text-xs",title:"",children:[a.jsx(rl,{className:"w-3 h-3 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"font-medium",children:""})]})})]})}),a.jsx("div",{className:"md:col-span-8 lg:col-span-9",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"p-3 md:p-4 lg:p-6 border-b border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-lg md:text-2xl lg:text-3xl font-bold mb-2 md:mb-3 bg-gradient-to-r from-gray-900 via-blue-800 to-gray-900 dark:from-gray-100 dark:via-blue-200 dark:to-gray-100 bg-clip-text text-transparent leading-tight",children:s.title}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-wrap mb-2 md:mb-3",children:[a.jsx("p",{className:"text-sm md:text-lg lg:text-xl text-gray-600 dark:text-gray-400 font-medium",children:s.author||""}),s.rating&&a.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-0.5 md:py-1 bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/30 dark:to-yellow-800/30 rounded-lg border border-yellow-200 dark:border-yellow-800/50 shadow-sm",children:[a.jsx(Hi,{className:"w-3 h-3 md:w-4 md:h-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"font-bold text-yellow-700 dark:text-yellow-300 text-xs md:text-sm",children:s.rating.toFixed(1)})]}),s.category&&a.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-0.5 md:py-1 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-lg border border-blue-200 dark:border-blue-800/50 shadow-sm",children:[a.jsx(gm,{className:"w-3 h-3 md:w-4 md:h-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"font-semibold text-blue-700 dark:text-blue-300 text-xs md:text-sm",children:s.category})]}),s.is_public!==void 0&&a.jsx("div",{className:`flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-0.5 md:py-1 rounded-lg border shadow-sm ${s.is_public===1?"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 border-green-200 dark:border-green-800/50":"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 border-orange-200 dark:border-orange-800/50"}`,children:s.is_public===1?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-3 h-3 md:w-4 md:h-4 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300 text-xs md:text-sm",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"w-3 h-3 md:w-4 md:h-4 text-orange-600 dark:text-orange-400"}),a.jsx("span",{className:"font-semibold text-orange-700 dark:text-orange-300 text-xs md:text-sm",children:""})]})})]}),s.description&&a.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 leading-relaxed mt-2 md:mt-3 line-clamp-2 md:line-clamp-3",children:s.description})]})}),r&&a.jsxs("div",{className:"p-3 md:p-4 lg:p-6 space-y-3",children:[i.length>1&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-pink-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-800",children:[a.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.map(X=>a.jsx("button",{onClick:()=>u(X.id),className:`px-2.5 py-1 rounded-md font-medium text-xs transition-all duration-200 ${c===X.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md scale-105":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:X.file_type.toUpperCase()},X.id))})]}),a.jsxs("button",{onClick:ye,className:"w-full bg-gradient-to-r from-blue-600 via-blue-500 to-purple-600 hover:from-blue-700 hover:via-blue-600 hover:to-purple-700 text-white font-semibold text-sm md:text-base py-3 md:py-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-[1.01] active:scale-[0.99] flex items-center justify-center gap-2",children:[a.jsx(oa,{className:"w-4 h-4 md:w-5 md:h-5"}),a.jsxs("span",{children:["",i.length>1&&c?` (${(xt=i.find(X=>X.id===c))==null?void 0:xt.file_type.toUpperCase()})`:""]})]}),a.jsxs("div",{className:`grid gap-1.5 md:gap-2 ${ae()?"grid-cols-4":"grid-cols-3"}`,children:[h?a.jsxs("button",{onClick:Te,className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-red-300 dark:hover:border-red-700 text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 rounded-lg py-2 md:py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 hover:shadow-sm",title:"",children:[a.jsx(hm,{className:"w-3.5 h-3.5 md:w-4 md:h-4 fill-red-500 text-red-500 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"text-[9px] md:text-[10px] font-medium",children:""})]}):a.jsxs("button",{onClick:Ce,className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg py-2 md:py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 hover:shadow-sm",title:"",children:[a.jsx(hm,{className:"w-3.5 h-3.5 md:w-4 md:h-4 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"text-[9px] md:text-[10px] font-medium",children:""})]}),a.jsxs("button",{onClick:we,className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-700 text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 rounded-lg py-2 md:py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 hover:shadow-sm",title:"",children:[a.jsx(E2,{className:"w-3.5 h-3.5 md:w-4 md:h-4 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"text-[9px] md:text-[10px] font-medium",children:""})]}),a.jsxs("button",{onClick:qe,disabled:z,className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 text-gray-700 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 rounded-lg py-2 md:py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",title:"",children:[a.jsx(Lr,{className:`w-3.5 h-3.5 md:w-4 md:h-4 transition-transform ${z?"animate-spin":"group-hover:scale-110"}`}),a.jsx("span",{className:"text-[9px] md:text-[10px] font-medium",children:""})]}),ae()&&a.jsxs("button",{onClick:H,className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-red-300 dark:hover:border-red-700 text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 rounded-lg py-2 md:py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 hover:shadow-sm",title:"",children:[a.jsx(ar,{className:"w-3.5 h-3.5 md:w-4 md:h-4 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"text-[9px] md:text-[10px] font-medium",children:""})]})]}),(De()||(!s.cover_url||s.cover_url==="cover"||s.cover_url==="pdf-cover")&&(s.file_type==="epub"||s.file_type==="pdf"))&&a.jsxs("div",{className:"grid grid-cols-2 gap-1.5 md:gap-2",children:[De()&&a.jsxs("button",{onClick:()=>C(!0),className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700 text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-lg py-2 flex items-center justify-center gap-1.5 transition-all duration-200 hover:shadow-sm",title:"",children:[a.jsx(jx,{className:"w-3.5 h-3.5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"text-xs font-medium",children:""})]}),(!s.cover_url||s.cover_url==="cover"||s.cover_url==="pdf-cover")&&(s.file_type==="epub"||s.file_type==="pdf")&&a.jsxs("button",{onClick:F,disabled:y,className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-cyan-300 dark:hover:border-cyan-700 text-gray-700 dark:text-gray-300 hover:text-cyan-600 dark:hover:text-cyan-400 rounded-lg py-2 flex items-center justify-center gap-1.5 transition-all duration-200 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",title:"",children:[a.jsx(_t,{className:`w-3.5 h-3.5 transition-transform ${y?"animate-spin":"group-hover:scale-110"}`}),a.jsx("span",{className:"text-xs font-medium",children:""})]})]})]})]})})]}),a.jsx("div",{className:"mt-4 md:mt-6",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:a.jsxs("div",{className:"p-3 md:p-4 lg:p-5 space-y-2 md:space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-2 md:gap-3",children:[s.category&&a.jsxs("div",{className:"group flex items-center gap-2 p-2 md:p-3 bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-blue-900/20 dark:via-gray-800 dark:to-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800/50 hover:border-blue-300 dark:hover:border-blue-700 transition-all duration-200",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 flex items-center justify-center",children:a.jsx(gm,{className:"w-4 h-4 md:w-4.5 md:h-4.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[10px] md:text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5 uppercase tracking-wide",children:""}),a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100 truncate",children:s.category})]})]}),s.language&&a.jsxs("div",{className:"group flex items-center gap-2 p-2 md:p-3 bg-gradient-to-br from-green-50 via-white to-green-50 dark:from-green-900/20 dark:via-gray-800 dark:to-green-900/20 rounded-lg border border-green-100 dark:border-green-800/50 hover:border-green-300 dark:hover:border-green-700 transition-all duration-200",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-lg bg-gradient-to-br from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 flex items-center justify-center",children:a.jsx($i,{className:"w-4 h-4 md:w-4.5 md:h-4.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[10px] md:text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5 uppercase tracking-wide",children:""}),a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100",children:s.language==="zh"?"":s.language==="en"?"English":s.language==="ja"?"":s.language==="ko"?"":s.language==="fr"?"Franais":s.language==="de"?"Deutsch":s.language==="es"?"Espaol":s.language==="ru"?"":s.language})]})]}),s.publisher&&a.jsxs("div",{className:"group flex items-center gap-2 p-2 md:p-3 bg-gradient-to-br from-purple-50 via-white to-purple-50 dark:from-purple-900/20 dark:via-gray-800 dark:to-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800/50 hover:border-purple-300 dark:hover:border-purple-700 transition-all duration-200",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 flex items-center justify-center",children:a.jsx(it,{className:"w-4 h-4 md:w-4.5 md:h-4.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[10px] md:text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5 uppercase tracking-wide",children:""}),a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100 line-clamp-2",children:s.publisher})]})]}),s.publish_date&&a.jsxs("div",{className:"group flex items-center gap-2 p-2 md:p-3 bg-gradient-to-br from-orange-50 via-white to-orange-50 dark:from-orange-900/20 dark:via-gray-800 dark:to-orange-900/20 rounded-lg border border-orange-100 dark:border-orange-800/50 hover:border-orange-300 dark:hover:border-orange-700 transition-all duration-200",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 flex items-center justify-center",children:a.jsx(Ur,{className:"w-4 h-4 md:w-4.5 md:h-4.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[10px] md:text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5 uppercase tracking-wide",children:""}),a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100",children:s.publish_date})]})]}),a.jsxs("div",{className:"group flex items-center gap-2 p-2 md:p-3 bg-gradient-to-br from-indigo-50 via-white to-indigo-50 dark:from-indigo-900/20 dark:via-gray-800 dark:to-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800/50 hover:border-indigo-300 dark:hover:border-indigo-700 transition-all duration-200",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-600 dark:from-indigo-600 dark:to-indigo-700 flex items-center justify-center",children:a.jsx(rn,{className:"w-4 h-4 md:w-4.5 md:h-4.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[10px] md:text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5 uppercase tracking-wide",children:"ISBN"}),a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100 font-mono",children:s.isbn||a.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:""})})]})]}),a.jsxs("div",{className:"group flex items-center gap-2 p-2 md:p-3 bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-800 dark:via-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-lg bg-gradient-to-br from-gray-400 to-gray-500 dark:from-gray-600 dark:to-gray-700 flex items-center justify-center",children:a.jsx(rn,{className:"w-4 h-4 md:w-4.5 md:h-4.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[10px] md:text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5 uppercase tracking-wide",children:""}),a.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.length>1?a.jsx("div",{className:"flex flex-wrap gap-0.5",children:i.map(X=>a.jsx("span",{className:"inline-block px-1.5 py-0.5 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded font-mono uppercase text-[10px]",children:X.file_type},X.id))}):a.jsx("span",{className:"inline-block px-1.5 py-0.5 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded font-mono uppercase text-xs",children:s.file_type})})]})]})]}),s.tags&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx("div",{className:"w-1 h-4 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),a.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:""})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.tags.split(",").map((X,xe)=>a.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white rounded-full text-[10px] md:text-xs font-medium shadow-sm",children:X.trim()},xe))})]})]})})})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>C(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"email",className:"input w-full",placeholder:"example@kindle.com  example@gmail.com",value:A,onChange:X=>Q(X.target.value)}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Kindle@kindle.com"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:ne,className:"btn btn-primary flex-1",children:""}),a.jsx("button",{onClick:()=>{C(!1),Q("")},className:"btn btn-secondary",children:""})]})]})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>{O(!1),D([])},className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-6 h-6"})})]}),z?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(_t,{className:"w-8 h-8 animate-spin mx-auto text-blue-600 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"..."})]}):_.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:""})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[" ",_.length," "]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map((X,xe)=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[a.jsxs("div",{className:"flex gap-4",children:[X.image&&a.jsx("img",{src:X.image,alt:X.title,className:"w-20 h-28 object-cover rounded flex-shrink-0",onError:I=>{const G=I.target;G.style.display="none"}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 text-gray-900 dark:text-gray-100",children:X.title||""}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[X.author&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:""}),X.author]}),X.publisher&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:""}),X.publisher]}),X.pubdate&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:""}),X.pubdate]}),X.isbn&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"ISBN"}),X.isbn]}),X.rating&&a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(Hi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{children:X.rating.toFixed(1)})]})]}),X.summary&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 line-clamp-3",children:X.summary})]})]}),a.jsx("button",{onClick:()=>Xe(X),disabled:B,className:"w-full mt-4 btn btn-primary",children:B?a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"w-4 h-4 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(za,{className:"w-4 h-4"}),""]})})]},X.id||xe))})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{O(!1),D([])},className:"btn btn-secondary",children:""})})]})}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center flex-shrink-0",children:a.jsx(ar,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:""})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[a.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[" ",a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:["",s==null?void 0:s.title,""]})," "]}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:" "})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>J(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:""}),a.jsxs("button",{onClick:V,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[a.jsx(ar,{className:"w-4 h-4"}),""]})]})]})})}),j&&re&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:a.jsx(_t,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:""})]})]}),re.image&&a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx("img",{src:re.image,alt:"",className:"w-32 h-48 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700",onError:X=>{const xe=X.target;xe.style.display="none"}})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:""}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:""}),a.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1.5",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:""}),""]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:""}),""]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{te(!1),Ke(re,!1)},className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:""}),a.jsxs("button",{onClick:()=>{te(!1),Ke(re,!0)},className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[a.jsx(_t,{className:"w-4 h-4"}),""]})]})]})})}),p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between z-10",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(Ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:" *"}),a.jsx("input",{type:"text",className:"input",value:k.title||"",onChange:X=>x({...k,title:X.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.author||"",onChange:X=>x({...k,author:X.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"ISBN"}),a.jsx("input",{type:"text",className:"input",value:k.isbn||"",onChange:X=>x({...k,isbn:X.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.publisher||"",onChange:X=>x({...k,publisher:X.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.publish_date||"",onChange:X=>x({...k,publish_date:X.target.value}),placeholder:"YYYY-MM-DD"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.category||"",onChange:X=>x({...k,category:X.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.language||"",onChange:X=>x({...k,language:X.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",className:"input",value:k.rating||"",onChange:X=>x({...k,rating:parseFloat(X.target.value)||void 0})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.cover_url||"",onChange:X=>x({...k,cover_url:X.target.value}),placeholder:"/books/xxx/cover.jpg  https://example.com/cover.jpg"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["/books/...URLhttp://...",k.cover_url&&k.cover_url.startsWith("http")&&a.jsx("span",{className:"text-amber-600 dark:text-amber-400 ml-2",children:" URL"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("input",{type:"text",className:"input",value:k.tags||"",onChange:X=>x({...k,tags:X.target.value}),placeholder:""}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:", , "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"/"}),a.jsx("textarea",{className:"input",rows:8,value:k.description||"",onChange:X=>x({...k,description:X.target.value}),placeholder:"..."}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]})]}),a.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex gap-3",children:[a.jsx("button",{onClick:()=>b(!1),disabled:Z,className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium disabled:opacity-50",children:""}),a.jsx("button",{onClick:Pe,disabled:Z,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:Z?a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"w-4 h-4 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(za,{className:"w-4 h-4"}),""]})})]})]})}),ke&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>Le(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(Ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs("button",{onClick:()=>{Ge("file"),ce(null)},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${_e==="file"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(nn,{className:"w-4 h-4 inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>{Ge("url"),ce(null)},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${_e==="url"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(M2,{className:"w-4 h-4 inline mr-2"}),""]})]}),_e==="file"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-2",children:[a.jsx("div",{className:"flex items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors bg-gray-50 dark:bg-gray-900",children:oe?a.jsx("img",{src:oe,alt:"",className:"max-h-full max-w-full object-contain"}):a.jsxs("div",{className:"text-center",children:[a.jsx(nn,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:" JPGPNGWebP  5MB"})]})}),a.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"hidden"})]}),$e&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[": ",$e.name]})]}),_e==="url"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"URL"}),a.jsx("input",{type:"url",value:me,onChange:X=>fe(X.target.value),placeholder:"https://example.com/cover.jpg",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:" HTTP/HTTPS "})]})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[a.jsx("button",{onClick:()=>Le(!1),disabled:se,className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50",children:""}),a.jsx("button",{onClick:Y,disabled:se||_e==="file"&&!$e||_e==="url"&&!me,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:se?a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"w-4 h-4 animate-spin"}),_e==="file"?"...":"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(za,{className:"w-4 h-4"}),"",_e==="file"?"":""]})})]})]})})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})})}function xm(){It();const{isAuthenticated:e}=At(),[t,r]=g.useState([]),[n,s]=g.useState([]),[l,i]=g.useState(!0),[o,c]=g.useState(()=>{const z=localStorage.getItem("myShelfViewMode");return z==="grid"||z==="list"?z:"grid"});g.useEffect(()=>{localStorage.setItem("myShelfViewMode",o)},[o]);const[u,f]=g.useState("added_at"),[d,h]=g.useState("desc"),[m,p]=g.useState(!1),[b,k]=g.useState(""),{isOnline:x,checkAndResetOfflineFlag:y}=Ex();g.useEffect(()=>{v().then(z=>{ht.isOnline()?(w(),e&&C()):i(!1)}).catch(()=>{ht.isOnline()?(w(),e&&C()):i(!1)})},[u,d,e]),g.useEffect(()=>{y()&&(console.log(""),R.success("...",{duration:2e3}),setTimeout(()=>{w(),e&&C()},500))},[x]);const v=async()=>{try{const[z,P]=await Promise.all([ht.get("/api/shelf/my",{sort:u,order:d}),e&&ht.get("/api/reading/progress",{limit:20})]);let B=!1;if(z!=null&&z.books&&(r(z.books),B=!0),P!=null&&P.progresses){const T=P.progresses.map(M=>({id:M.book_id,title:M.title,author:M.author,cover_url:M.cover_url,file_type:M.file_type,rating:M.rating}));s(Array.from(new Map(T.map(M=>[M.id,M])).values())),B=!0}return B}catch(z){return console.warn(":",z),!1}},w=async()=>{var z,P;if(!ht.isOnline()&&await v()){i(!1);return}try{i(!0);const B=await le.get("/shelf/my",{params:{sort:u,order:d}});r(B.data.books||[])}catch(B){if(console.error(":",B),!ht.isOnline()&&await v()){i(!1);return}!B.isCached&&!((P=(z=B.response)==null?void 0:z.data)!=null&&P.data)&&ht.isOnline()&&R.error("")}finally{i(!1)}},C=async()=>{var z,P,B;try{const M=((z=(await le.get("/reading/progress",{params:{limit:20}})).data.progresses)==null?void 0:z.map(j=>({id:j.book_id,title:j.title,author:j.author,cover_url:j.cover_url,file_type:j.file_type,rating:j.rating})))||[],J=Array.from(new Map(M.map(j=>[j.id,j])).values());s(J)}catch(T){console.error(":",T),!T.isCached&&((B=(P=T.response)==null?void 0:P.data)!=null&&B.data)}},S=async z=>{var P,B;if(confirm(""))try{await le.delete(`/shelf/remove/${z}`),R.success(""),w()}catch(T){R.error(((B=(P=T.response)==null?void 0:P.data)==null?void 0:B.error)||"")}},O=async()=>{await Promise.all([w(),e&&C()]),R.success("")},{isRefreshing:A,pullDistance:Q}=So({onRefresh:O}),E=({book:z})=>a.jsxs("div",{className:"group relative",style:{width:"100%",height:"100%"},children:[a.jsx(Je,{to:`/books/${z.id}`,className:"block",style:{width:"100%",height:"100%"},children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 border border-gray-200 dark:border-gray-700 flex flex-col",style:{width:"100%",height:"100%"},children:[a.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 overflow-hidden relative flex-shrink-0 w-full",children:[(()=>{const P=Vr(z.cover_url);return P?a.jsx("img",{src:P,alt:z.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300",style:{minWidth:"100%",minHeight:"100%"},onError:B=>{const T=B.target;T.style.display="none";const M=T.parentElement;M&&(M.innerHTML=`
                        <div class="w-full h-full flex items-center justify-center">
                          <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                          </svg>
                        </div>
                      `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})})})(),z.rating&&a.jsxs("div",{className:"absolute top-1 right-1 bg-black/60 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-full flex items-center gap-0.5",children:[a.jsx("span",{children:""}),a.jsx("span",{children:z.rating.toFixed(1)})]})]}),a.jsxs("div",{className:"p-2 flex-1 flex flex-col justify-between min-h-[60px]",children:[a.jsx("h3",{className:"font-semibold text-xs leading-tight line-clamp-2 mb-1 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors break-words",title:z.title,children:z.title.length>20?`${z.title.substring(0,20)}...`:z.title}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 line-clamp-1 mt-auto",children:z.author||""})]})]})}),a.jsx("button",{onClick:P=>{P.preventDefault(),S(z.id)},className:"absolute top-2 right-2 p-1.5 bg-red-500/90 backdrop-blur-sm text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-lg z-10",title:"",children:a.jsx(ar,{className:"w-3 h-3"})})]}),L=({book:z})=>a.jsx(Je,{to:`/books/${z.id}`,className:"group block h-full",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[a.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 overflow-hidden relative flex-shrink-0 w-full",children:[(()=>{const P=Vr(z.cover_url);return P?a.jsx("img",{src:P,alt:z.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300",style:{minWidth:"100%",minHeight:"100%"},onError:B=>{const T=B.target;T.style.display="none";const M=T.parentElement;M&&(M.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center">
                        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                      </div>
                    `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})})})(),z.rating&&a.jsxs("div",{className:"absolute top-1 right-1 bg-black/60 backdrop-blur-sm text-white text-[10px] px-1.5 py-0.5 rounded-full flex items-center gap-0.5",children:[a.jsx("span",{children:""}),a.jsx("span",{children:z.rating.toFixed(1)})]})]}),a.jsxs("div",{className:"p-1.5 flex-1 flex flex-col justify-between min-h-[48px]",children:[a.jsx("h3",{className:"font-semibold text-xs line-clamp-2 mb-0.5 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors break-words",title:z.title,children:z.title.length>20?`${z.title.substring(0,20)}...`:z.title}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 line-clamp-1 mt-auto",children:z.author||""})]})]})}),_=({title:z,books:P})=>{const B=g.useRef(null),T=M=>{B.current&&B.current.scrollBy({left:M==="left"?-300:300,behavior:"smooth"})};return P.length===0?null:a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-5 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"}),z]}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("button",{onClick:()=>T("left"),className:"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"",children:a.jsx(Ya,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T("right"),className:"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"",children:a.jsx(Xa,{className:"w-4 h-4"})})]})]}),a.jsx("div",{ref:B,className:"flex gap-3 sm:gap-4 md:gap-5 overflow-x-auto scrollbar-hide pb-2 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:P.map(M=>a.jsx("div",{className:"flex-shrink-0 w-32 sm:w-36 md:w-40 lg:w-44",children:a.jsx(L,{book:M})},M.id))})]})},D=({book:z})=>a.jsxs("div",{className:"group relative flex gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg hover:shadow-md transition-all border border-gray-200 dark:border-gray-700",children:[a.jsxs(Je,{to:`/books/${z.id}`,className:"flex-1 flex gap-3",children:[a.jsx("div",{className:"w-16 h-24 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded overflow-hidden aspect-[3/4]",children:(()=>{const P=Vr(z.cover_url);return P?a.jsx("img",{src:P,alt:z.title,className:"w-full h-full object-cover object-center",style:{minWidth:"100%",minHeight:"100%"},onError:B=>{const T=B.target;T.style.display="none";const M=T.parentElement;M&&(M.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center">
                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                      </div>
                    `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})})})()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm mb-1 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2 break-words",title:z.title,children:z.title.length>30?`${z.title.substring(0,30)}...`:z.title}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:z.author||""}),z.rating&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-500 text-xs",children:""}),a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:z.rating.toFixed(1)})]})]})]}),a.jsx("button",{onClick:P=>{P.preventDefault(),S(z.id)},className:"p-2 bg-red-500/90 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"",children:a.jsx(ar,{className:"w-4 h-4"})})]});return l?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{pullDistance:Q,isRefreshing:A}),a.jsxs("div",{className:"w-full overflow-hidden pt-4 lg:pt-6",children:[e&&n.length>0&&a.jsx(_,{title:"",books:n}),a.jsx("div",{className:"mb-4",children:t.length>0&&a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded-lg transition-colors ${o==="grid"?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:"",children:a.jsx(jo,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded-lg transition-colors ${o==="list"?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:"",children:a.jsx(af,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm",title:"",children:[a.jsx(rf,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 hidden sm:inline",children:[u==="added_at"&&(d==="desc"?"":""),u==="title"&&(d==="asc"?" A-Z":" Z-A"),u==="author"&&(d==="asc"?" A-Z":" Z-A"),u==="rating"&&(d==="desc"?"":""),u==="created_at"&&(d==="desc"?"":"")]})]}),m&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-20",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase border-b border-gray-200 dark:border-gray-700",children:""}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(Ur,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{f("added_at"),h("desc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="added_at"&&d==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),""]}),a.jsxs("button",{onClick:()=>{f("added_at"),h("asc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="added_at"&&d==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),""]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(it,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{f("title"),h("asc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="title"&&d==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),"A-Z"]}),a.jsxs("button",{onClick:()=>{f("title"),h("desc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="title"&&d==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),"Z-A"]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(it,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{f("author"),h("asc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="author"&&d==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),"A-Z"]}),a.jsxs("button",{onClick:()=>{f("author"),h("desc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="author"&&d==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),"Z-A"]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(Hi,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{f("rating"),h("desc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="rating"&&d==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),""]}),a.jsxs("button",{onClick:()=>{f("rating"),h("asc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="rating"&&d==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),""]})]})]}),a.jsxs("div",{className:"px-3 py-1.5",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1",children:[a.jsx(wo,{className:"w-3 h-3"}),""]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>{f("created_at"),h("desc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="created_at"&&d==="desc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Jr,{className:"w-3 h-3"}),""]}),a.jsxs("button",{onClick:()=>{f("created_at"),h("asc"),p(!1)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs rounded transition-colors ${u==="created_at"&&d==="asc"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx(Zr,{className:"w-3 h-3"}),""]})]})]})]})]})]})]})}),t.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 rounded-full flex items-center justify-center",children:a.jsx(it,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-lg",children:""}),a.jsx(Je,{to:"/books",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg",children:""})]}):o==="grid"?a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-1.5 sm:gap-2 md:gap-2.5 lg:gap-3",children:t.map(z=>a.jsx(E,{book:z},z.id))}):a.jsx("div",{className:"space-y-2",children:t.map(z=>a.jsx(D,{book:z},z.id))})]})]})}function K2(){const[e,t]=g.useState([]),[r,n]=g.useState(null),[s,l]=g.useState(!0),[i,o]=g.useState(new Set),[c,u]=g.useState({}),[f,d]=g.useState(new Set);It(),g.useEffect(()=>{h(),m()},[]);const h=async()=>{try{const w=await le.get("/reading/history");t(w.data.history||[])}catch(w){console.error(":",w),w.statusText!=="OK (Offline Cache)"&&w.statusText!=="OK (Offline, No Cache)"&&navigator.onLine&&R.error("")}finally{l(!1)}},m=async()=>{try{const w=await le.get("/reading/history/stats/summary");n(w.data)}catch(w){console.error(":",w)}},p=async w=>{if(!c[w]){d(C=>new Set(C).add(w));try{const C=await le.get(`/reading/history/${w}`);C.data.sessions&&u(S=>({...S,[w]:C.data.sessions||[]}))}catch(C){console.error(":",C)}finally{d(C=>{const S=new Set(C);return S.delete(w),S})}}},b=w=>{const C=new Set(i);C.has(w)?C.delete(w):(C.add(w),p(w)),o(C)},k=async(w,C)=>{var S,O;if(C.stopPropagation(),!!confirm(""))try{await le.delete(`/reading/history/${w}`),R.success(""),t(A=>A.filter(Q=>Q.id!==w)),n(A=>A?{...A,totalBooks:A.totalBooks-1}:null)}catch(A){console.error(":",A),R.error(((O=(S=A.response)==null?void 0:S.data)==null?void 0:O.error)||"")}},x=w=>{const C=new Date(w),O=new Date().getTime()-C.getTime(),A=Math.floor(O/(1e3*60*60*24));return A===0?"":A===1?"":A<7?`${A}`:C.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})},y=w=>{if(w<60)return`${w}`;if(w<3600)return`${Math.floor(w/60)}`;{const C=Math.floor(w/3600),S=Math.floor(w%3600/60);return`${C}${S}`}},v=w=>new Date(w).toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"pb-safe pt-4 sm:pt-6",children:[r&&a.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-2 sm:gap-3",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 rounded-lg p-3 sm:p-4 transition-all hover:bg-blue-100 dark:hover:bg-blue-950/30",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-md bg-blue-500 dark:bg-blue-600 flex items-center justify-center flex-shrink-0",children:a.jsx(it,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:""})]}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.totalBooks})]})}),a.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 sm:p-4 transition-all hover:bg-orange-100 dark:hover:bg-orange-950/30",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-md bg-orange-500 dark:bg-orange-600 flex items-center justify-center flex-shrink-0",children:a.jsx(Ur,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:""})]}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:y(r.monthReadingTime)})]})}),a.jsx("div",{className:"bg-purple-50 dark:bg-purple-950/20 rounded-lg p-3 sm:p-4 transition-all hover:bg-purple-100 dark:hover:bg-purple-950/30",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-md bg-purple-500 dark:bg-purple-600 flex items-center justify-center flex-shrink-0",children:a.jsx(Ur,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:""})]}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:y(r.yearReadingTime)})]})})]}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:""})]}):a.jsx("div",{className:"space-y-4",children:e.map(w=>{const C=i.has(w.id),S=c[w.id]||[],O=f.has(w.id);return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Je,{to:`/books/${w.id}`,className:"w-20 h-28 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-lg overflow-hidden shadow-md",children:(()=>{const A=Vr(w.cover_url);return A?a.jsx("img",{src:A,alt:w.title,className:"w-full h-full object-cover",onError:Q=>{const E=Q.target;E.style.display="none";const L=E.parentElement;L&&(L.innerHTML=`
                                  <div class="w-full h-full flex items-center justify-center">
                                    <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                    </svg>
                                  </div>
                                `)}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})})})()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Je,{to:`/books/${w.id}`,children:a.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate",children:w.title})}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:w.author||""}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Ur,{className:"w-4 h-4"}),a.jsxs("span",{children:[": ",y(w.total_reading_time)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(O2,{className:"w-4 h-4"}),a.jsxs("span",{children:[": ",(w.total_progress*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(it,{className:"w-4 h-4"}),a.jsxs("span",{children:[": ",w.read_count,""]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(wo,{className:"w-4 h-4"}),a.jsx("span",{children:x(w.last_read_at)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b(w.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:C?a.jsxs(a.Fragment,{children:[a.jsx(bx,{className:"w-4 h-4"}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(nf,{className:"w-4 h-4"}),""]})}),a.jsxs("button",{onClick:A=>k(w.id,A),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:[a.jsx(ar,{className:"w-4 h-4"}),""]})]})]})]})}),C&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 p-4",children:O?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):S.length===0?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:""}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:[" (",S.length,")"]}),S.map(A=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:v(A.start_time)}),A.end_time&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[": ",v(A.end_time)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:y(A.duration)}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[": ",(A.progress_before*100).toFixed(1),"% "," ",(A.progress_after*100).toFixed(1),"%"]})]})]})},A.id))]})})]},w.history_id)})})]})}function Y2({book:e,settings:t,initialPosition:r,onSettingsChange:n,onProgressChange:s,onTOCChange:l,onClose:i}){const o=g.useRef(null),[c,u]=g.useState(!0),[f,d]=g.useState(null),[h]=g.useState("epubjs"),m=g.useRef(null),p=g.useRef(null),b=g.useRef(1),k=g.useRef(!1),x=g.useRef(!1),[y]=g.useState("default"),[v]=g.useState("paginated"),[w,C]=g.useState([]),S=g.useRef({lastPageTurnTime:0,isTurningPage:!1}),[O,A]=g.useState(!1),[Q,E]=g.useState(!1),L=g.useRef(null),_=500,D=g.useRef(null),z=g.useCallback(async()=>{var se,K;if(!e.file_path&&!e.file_name&&!e.id)return null;const me=((K=(se=e.file_name)==null?void 0:se.split(".").pop())==null?void 0:K.toLowerCase())||"epub";let fe;if(e.id)fe=`/books/${e.id}.${me}`;else if(e.file_path)e.file_path.startsWith("http://")||e.file_path.startsWith("https://")||e.file_path.startsWith("/")?fe=e.file_path:fe=`/books/${e.file_path}`;else return null;try{const{offlineStorage:oe}=await ta(async()=>{const{offlineStorage:ce}=await Promise.resolve().then(()=>_x);return{offlineStorage:ce}},void 0);if(e.id){const ce=await oe.getBook(e.id);if(ce)return oe.createBlobURL(ce);const be=await oe.downloadBook(e.id,me,fe);return oe.createBlobURL(be)}}catch{}return fe},[e.id,e.file_path,e.file_name]),P=g.useCallback(async me=>{var fe;if(!k.current){k.current=!0;try{if(!o.current)throw new Error("");const se=o.current;(se.offsetWidth===0||se.offsetHeight===0)&&(se.style.width="100%",se.style.height="100%");const K=se.offsetWidth||window.innerWidth,oe=se.offsetHeight||window.innerHeight,{default:ce}=await ta(async()=>{const{default:Ne}=await import("./index-B17s_-jd.js");return{default:Ne}},__vite__mapDeps([0,1])),be=ce(me,{openAs:"epub"});m.current=be,await be.ready,await be.loaded.navigation;const $=be.navigation,ue=be.spine,Ce=(($==null?void 0:$.toc)||[]).map((Ne,he)=>{let U=-1;try{const Y=ue.get(Ne.href);Y&&(U=Y.index)}catch{}return{id:Ne.id||`toc-${he}`,title:Ne.label||` ${he+1}`,href:Ne.href,level:Ne.level||1,chapterIndex:U>=0?U:he}});C(Ce),l(Ce);try{let Ne=0;const he=ue.items||[];if(he.length>0)Ne=he.length;else{try{let U=-1,Y=0;ue.each(F=>{Y++,F.index!==void 0&&F.index>U&&(U=F.index)}),U>=0?Ne=U+1:Y>0&&(Ne=Y)}catch{}Ne===0&&Ce.length>0&&(Ne=Ce.length)}Ne>0?b.current=Ne:b.current=1}catch(Ne){console.error("ReaderEPUBPro: ",Ne),b.current=Ce.length||1}const Te={width:K,height:oe,flow:v,spread:"none",allowScriptedContent:!1};y==="continuous"&&(Te.method="continuous");const ye=be.renderTo(se,Te);p.current=ye;const Pe={light:{bg:"#ffffff",text:"#000000"},dark:{bg:"#1a1a1a",text:"#ffffff"},sepia:{bg:"#f4e4bc",text:"#5c4b37"},green:{bg:"#c8e6c9",text:"#2e7d32"}}[t.theme],Be=()=>{switch(t.fontFamily){case"serif":return'"Songti SC", "SimSun", "", "STSong", serif';case"sans-serif":return'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif';case"monospace":return'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace';case"default":default:return'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'}},W={body:{"font-size":`${t.fontSize}px !important`,"line-height":`${t.lineHeight} !important`,"font-family":Be()+" !important",padding:`${t.margin}px !important`,"text-indent":`${t.textIndent}em !important`,"background-color":Pe.bg+" !important",color:Pe.text+" !important",margin:"0 !important","box-sizing":"border-box !important"}};ye.themes.default(W);const ee={};ye.hooks.content.register(Ne=>{var Y,F;const he=Ne.document;if(!he)return;try{const H=he.defaultView||he.parentWindow;if(H){const V=H.fetch;V&&(H.fetch=function(...ne){const ae=ne[0];return typeof ae=="string"&&(ae.includes("res://")||ae.includes("tt0011m")||ae.includes(".ttf")&&ae.includes("res://")||ae.startsWith("res://"))?Promise.reject(new Error("Blocked invalid font")):V.apply(this,ne)});const we=(F=(Y=H.XMLHttpRequest)==null?void 0:Y.prototype)==null?void 0:F.open;we&&(H.XMLHttpRequest.prototype.open=function(ne,ae,...De){if(!(typeof ae=="string"&&(ae.includes("res://")||ae.includes("tt0011m")||ae.includes(".ttf")&&ae.includes("res://")||ae.startsWith("res://"))))return we.apply(this,[ne,ae,...De])});try{const ne=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(ae,De){return ae.includes("@font-face")&&(ae.includes("res://")||ae.includes("tt0011m")||ae.includes("res:///"))?-1:ne.call(this,ae,De)}}catch{}}}catch{}const U=()=>{try{he.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]').forEach(ne=>{const ae=ne.getAttribute("href")||ne.href;if(ae&&(ae.includes("res://")||ae.includes("file://")||ae.includes("res:///")||ae.includes("tt0011m")||ae.includes(".ttf")&&ae.includes("res://")))try{ne.remove()}catch{}});const V=he.styleSheets;for(let ne=0;ne<V.length;ne++)try{const ae=V[ne];if(!ae.cssRules)continue;for(let De=ae.cssRules.length-1;De>=0;De--)try{const qe=ae.cssRules[De];if(qe.type===CSSRule.FONT_FACE_RULE){const Ke=qe.style.getPropertyValue("src");Ke&&(Ke.includes("res://")||Ke.includes("file://")||Ke.includes("res:///")||Ke.includes("tt0011m"))&&ae.deleteRule(De)}}catch{}}catch{}he.querySelectorAll("style").forEach(ne=>{if(ne.textContent){let ae=ne.textContent;ae=ae.replace(/@font-face\s*\{[^}]*src\s*:[^}]*res:\/\/[^}]*\}/gi,"/*  */"),ae=ae.replace(/@font-face\s*\{[^}]*src\s*:[^}]*tt0011m[^}]*\}/gi,"/*  */"),ae=ae.replace(/url\([^)]*res:\/\/[^)]*\)/gi,""),ae=ae.replace(/url\([^)]*tt0011m[^)]*\)/gi,""),ae!==ne.textContent&&(ne.textContent=ae)}})}catch{}};if(U(),!he.__epubFontObserver){const H=new MutationObserver(V=>{V.forEach(we=>{we.addedNodes.forEach(ne=>{if(ne.nodeType===Node.ELEMENT_NODE){if(ne.tagName==="LINK"||ne.tagName==="link"){const ae=ne.getAttribute("href")||ne.href;if(ae&&(ae.includes("res://")||ae.includes("file://")||ae.includes("res:///")||ae.includes("tt0011m")||ae.includes(".ttf")&&ae.includes("res://")))try{ne.remove()}catch{}}if((ne.tagName==="STYLE"||ne.tagName==="style")&&ne.textContent&&(ne.textContent.includes("@font-face")||ne.textContent.includes("res://")||ne.textContent.includes("tt0011m"))){let ae=ne.textContent;ae=ae.replace(/@font-face\s*\{[^}]*\}/gi,""),ae=ae.replace(/res:\/\/[^'"]*/gi,""),ae=ae.replace(/url\([^)]*res:\/\/[^)]*\)/gi,""),ae=ae.replace(/url\([^)]*tt0011m[^)]*\)/gi,""),ne.textContent=ae}}})}),U()});H.observe(he,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["href","src"]}),he.__epubFontObserver=H}he.body&&(he.body.style.setProperty("background-color",Pe.bg,"important"),he.body.style.setProperty("color",Pe.text,"important"))});let ve,Re=!1;if(r!=null&&r.currentLocation&&r.currentLocation.startsWith("epubcfi("))try{ve=ye.display(r.currentLocation),Re=!0}catch(Ne){if(console.error("ReaderEPUBPro:  CFI ",Ne),r.chapterIndex!==void 0){const he=ue.get(r.chapterIndex);ve=he?ye.display(he.href):ye.display(ue.get(0).href)}else ve=ye.display(ue.get(0).href)}else if((r==null?void 0:r.chapterIndex)!==void 0){const Ne=ue.get(r.chapterIndex);if(Ne)ve=ye.display(Ne.href);else{const he=ue.get(0);ve=ye.display(he.href)}}else{const Ne=ue.get(0);if(!Ne)throw new Error("");ve=ye.display(Ne.href)}await ve,await new Promise(Ne=>setTimeout(Ne,Re?800:500));const Fe=se.querySelector("iframe");if(Fe)try{const Ne=Fe.contentDocument||((fe=Fe.contentWindow)==null?void 0:fe.document)}catch{}let Ye=!0;const St=()=>b.current;ee.relocated=Ne=>{var ae,De,qe,Xe,Ke,xt,X,xe,I,G,ge,Ee,Ie;const he=((ae=Ne.start)==null?void 0:ae.index)??0,U=(De=Ne.start)==null?void 0:De.cfi,Y=((Xe=(qe=Ne.start)==null?void 0:qe.displayed)==null?void 0:Xe.page)||1,F=((xt=(Ke=Ne.start)==null?void 0:Ke.displayed)==null?void 0:xt.total)||1,H=St();let V=0;if(H>0&&he>=0)if(H===1&&he>0)try{const Ae=m.current;if(Ae&&Ae.spine){const Ct=Ae.spine;let vt=0;if(typeof Ct.length=="number")vt=Ct.length;else{const Pt=Ct.items||[];if(Pt.length>0)vt=Pt.length;else{let mr=-1;try{Ct.each(Yr=>{Yr.index!==void 0&&Yr.index>mr&&(mr=Yr.index)}),mr>=0&&(vt=mr+1)}catch{}}}if(vt>0&&vt>he)b.current=vt,V=Math.min(1,Math.max(0,(he+1)/vt));else{const Pt=(X=Ne.start)==null?void 0:X.percentage;Pt!=null&&!isNaN(Pt)&&Pt>0?(V=Math.min(1,Math.max(0,Pt)),console.warn("ReaderEPUBPro:   percentage ",{spineIndex:he,totalChapters:H,percentage:Pt,progress:V})):F>0&&Y>0?V=Math.min(1,Math.max(0,Y/F)):V=0}}else V=0}catch(Ae){console.error("ReaderEPUBPro: ",Ae),V=0}else if(he>=H){const Ae=(xe=Ne.start)==null?void 0:xe.percentage;Ae!=null&&!isNaN(Ae)&&Ae>0?V=Math.min(1,Math.max(0,Ae)):F>0&&Y>0?V=Math.min(1,Math.max(0,Y/F)):V=Math.min(1,Math.max(0,(he+1)/(he+1)))}else V=Math.min(1,Math.max(0,(he+1)/H));else{const Ae=(I=Ne.start)==null?void 0:I.percentage;Ae!=null&&!isNaN(Ae)&&Ae>0?V=Math.min(1,Math.max(0,Ae)):V=0}(isNaN(V)||V<0||V>1)&&(V=0);let we="";try{const Ae=m.current;if(Ae){const Ct=Ae.navigation,Pt=((Ct==null?void 0:Ct.toc)||[]).find(mr=>{try{const Yr=Ae.spine.get(mr.href);return Yr&&Yr.index===he}catch{return!1}});Pt&&(we=Pt.label||"")}}catch{}const ne={chapterIndex:he,currentPage:((ge=(G=Ne.start)==null?void 0:G.displayed)==null?void 0:ge.page)||1,totalPages:((Ie=(Ee=Ne.start)==null?void 0:Ee.displayed)==null?void 0:Ie.total)||1,progress:V,currentLocation:U,chapterTitle:we};Ye&&(Ye=!1),s(V,ne)},ye.on("relocated",ee.relocated),ee.keyup=Ne=>{Ne.key===t.keyboardShortcuts.prev||Ne.key==="ArrowLeft"?(Ne.preventDefault(),ye.prev()):(Ne.key===t.keyboardShortcuts.next||Ne.key==="ArrowRight")&&(Ne.preventDefault(),ye.next())},ye.on("keyup",ee.keyup),ye.__eventHandlers=ee,window.__readerPageTurn=async Ne=>{const he=Date.now(),U=300;if(!(he-S.current.lastPageTurnTime<U)&&!S.current.isTurningPage){S.current.isTurningPage=!0,S.current.lastPageTurnTime=he;try{Ne==="prev"?await ye.prev():await ye.next()}catch(Y){console.error("ReaderEPUBPro: ",Y)}finally{setTimeout(()=>{S.current.isTurningPage=!1},U)}}};const ut=()=>{if(ye&&se){const Ne=se.offsetWidth||window.innerWidth,he=se.offsetHeight||window.innerHeight;ye.resize(Ne,he)}};window.addEventListener("resize",ut),window.__epubGoToChapter=async Ne=>{if(ye)try{await ye.display(Ne),R.success("")}catch(he){console.error("ReaderEPUBPro: ",he),R.error("")}},p.current.__cleanup={handleResize:ut,rendition:ye,bookInstance:be},u(!1),x.current=!0}catch(se){console.error("ReaderEPUBPro: epubjs ",se),d(`: ${se.message||""}`),u(!1),R.error(`: ${se.message||""}`),x.current=!1}finally{k.current=!1}}},[e.id,r==null?void 0:r.currentLocation,r==null?void 0:r.chapterIndex,y,v,s,l]);g.useEffect(()=>{const me=p.current;if(!me)return;const fe={light:{bg:"#ffffff",text:"#000000"},dark:{bg:"#1a1a1a",text:"#ffffff"},sepia:{bg:"#f4e4bc",text:"#5c4b37"},green:{bg:"#c8e6c9",text:"#2e7d32"}}[t.theme],se=()=>{switch(t.fontFamily){case"serif":return'"Songti SC", "SimSun", "", "STSong", serif';case"sans-serif":return'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif';case"monospace":return'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace';case"default":default:return'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'}},K={body:{"font-size":`${t.fontSize}px !important`,"line-height":`${t.lineHeight} !important`,"font-family":se()+" !important",padding:`${t.margin}px !important`,"text-indent":`${t.textIndent}em !important`,"background-color":fe.bg+" !important",color:fe.text+" !important",margin:"0 !important","box-sizing":"border-box !important"},p:{"text-indent":`${t.textIndent}em !important`,"margin-bottom":"0.8em !important"}};try{me.themes.default(K),me.views().forEach(oe=>{if(oe&&oe.document){const ce=oe.document;if(ce.body){ce.body.style.setProperty("font-size",`${t.fontSize}px`,"important"),ce.body.style.setProperty("line-height",`${t.lineHeight}`,"important"),ce.body.style.setProperty("padding",`${t.margin}px`,"important"),ce.body.style.setProperty("background-color",fe.bg,"important"),ce.body.style.setProperty("color",fe.text,"important");let be='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif';switch(t.fontFamily){case"serif":be='"Songti SC", "SimSun", "", "STSong", serif';break;case"sans-serif":be='-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif';break;case"monospace":be='"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace';break}ce.body.style.setProperty("font-family",be,"important"),ce.querySelectorAll("p").forEach(ue=>{ue.style.setProperty("text-indent",`${t.textIndent}em`,"important")})}}}),setTimeout(async()=>{var oe;try{typeof me.resize=="function"&&await me.resize();const ce=me.currentLocation();(oe=ce==null?void 0:ce.start)!=null&&oe.cfi&&await me.display(ce.start.cfi)}catch(ce){console.error("ReaderEPUBPro: ",ce)}},100)}catch(oe){console.error("ReaderEPUBPro: ",oe)}},[t.theme,t.fontSize,t.fontFamily,t.lineHeight,t.margin,t.textIndent]),g.useEffect(()=>{const me=async()=>{if(!e.id&&!e.file_path){d(""),u(!1);return}u(!0),d(null);try{const se=await z();if(!se)throw new Error("URL");h==="epubjs"?await P(se):h==="readium"?(R("Readium ",{icon:""}),d("Readium "),u(!1)):h==="react-epub"?(R("React-EPUB ",{icon:""}),d("React-EPUB "),u(!1)):await P(se)}catch(se){console.error("ReaderEPUBPro: ",se),d(`: ${se.message||""}`),u(!1),R.error(`: ${se.message||""}`)}},fe=setTimeout(()=>{me()},100);return()=>{clearTimeout(fe)}},[e.id,e.file_path,h]),g.useEffect(()=>()=>{const me=()=>{try{const fe=p.current,se=m.current;if(fe&&fe.__cleanup)try{window.removeEventListener("resize",fe.__cleanup.handleResize)}catch{}if(fe){try{const K=fe.__eventHandlers;if(K)try{K.relocated&&typeof fe.removeListener=="function"?fe.removeListener("relocated",K.relocated):K.relocated&&typeof fe.off=="function"&&fe.off("relocated",K.relocated),K.keyup&&typeof fe.removeListener=="function"?fe.removeListener("keyup",K.keyup):K.keyup&&typeof fe.off=="function"&&fe.off("keyup",K.keyup)}catch{}typeof fe.destroy=="function"&&fe.destroy()}catch{}p.current=null}if(se){try{typeof se.destroy=="function"&&se.destroy()}catch{}m.current=null}delete window.__readerPageTurn,x.current=!1,k.current=!1}catch{}};delete window.__epubGoToChapter,typeof requestIdleCallback<"u"?requestIdleCallback(me,{timeout:1e3}):setTimeout(me,100)},[]);const B={light:{bg:"#ffffff",text:"#000000",border:"#e0e0e0"},dark:{bg:"#1a1a1a",text:"#ffffff",border:"#404040"},sepia:{bg:"#f4e4bc",text:"#5c4b37",border:"#d4c49c"},green:{bg:"#c8e6c9",text:"#2e7d32",border:"#a5d6a7"}}[t.theme];if(f)return a.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:B.bg},children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{style:{color:B.text},className:"mb-4",children:f}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg",style:{backgroundColor:B.border,color:B.text},children:""})]})});g.useEffect(()=>{const me=()=>{const se=navigator.userAgent.toLowerCase(),oe=["android","iphone","ipad","ipod","blackberry","windows phone"].some($=>se.includes($))||window.innerWidth<=768;A(oe);const ce=window.matchMedia("(display-mode: standalone)").matches,be=window.navigator.standalone===!0;E(ce||be)};me(),window.addEventListener("resize",me);const fe=window.matchMedia("(display-mode: standalone)");return fe.addEventListener("change",me),()=>{window.removeEventListener("resize",me),fe.removeEventListener("change",me)}},[]),g.useEffect(()=>()=>{L.current&&clearTimeout(L.current)},[]);const T=g.useRef(null),M=g.useRef({maxMoveX:0,maxMoveY:0,lastX:0,lastY:0}),J=g.useCallback(()=>{window.__toggleReaderNavigation&&window.__toggleReaderNavigation()},[]),j=g.useCallback(me=>{var Pe;if(c)return;const fe=(Pe=o.current)==null?void 0:Pe.getBoundingClientRect();if(!fe)return;const se=me.touches[0];if(!se)return;const K=se.clientX-fe.left,oe=se.clientY-fe.top,ce=fe.width,be=fe.height,$=ce*.3,ue=ce*.7,Ce=be*.3,Te=be*.7,ye=K>=$&&K<=ue&&oe>=Ce&&oe<=Te;T.current={x:se.clientX-fe.left,y:se.clientY-fe.top,clientX:se.clientX,clientY:se.clientY,time:Date.now()},M.current={maxMoveX:0,maxMoveY:0,lastX:se.clientX,lastY:se.clientY},O&&Q&&ye&&(L.current=setTimeout(()=>{J(),navigator.vibrate&&navigator.vibrate(50)},_))},[c,O,Q,J]),te=g.useCallback(me=>{if(!T.current){L.current&&(clearTimeout(L.current),L.current=null);return}const fe=me.touches[0];if(!fe)return;const se=Math.abs(fe.clientX-T.current.clientX),K=Math.abs(fe.clientY-T.current.clientY);Math.sqrt(se*se+K*K)>10&&L.current&&(clearTimeout(L.current),L.current=null),M.current.maxMoveX=Math.max(M.current.maxMoveX,se),M.current.maxMoveY=Math.max(M.current.maxMoveY,K),M.current.lastX=fe.clientX,M.current.lastY=fe.clientY,t.pageTurnMethod==="swipe"&&se>10&&se>K*1.5&&me.preventDefault()},[t.pageTurnMethod]),re=g.useCallback(()=>{if(!T.current)return null;const me=M.current.maxMoveX,fe=M.current.maxMoveY,se=M.current.lastX-T.current.clientX;if(me>50&&me>fe*1.5){if(se<-30)return"next";if(se>30)return"prev"}return null},[]),N=g.useCallback(me=>{const fe=me.target;if(fe.closest("button")||fe.closest("input"))return;const se=me.currentTarget.getBoundingClientRect(),K=me.clientX-se.left,oe=me.clientY-se.top,ce=se.width,be=se.height,$=ce*.3,ue=ce*.7,Ce=be*.3,Te=be*.7,ye=K>=$&&K<=ue&&oe>=Ce&&oe<=Te;D.current={x:K,y:oe,time:Date.now()},!O&&ye&&(L.current=setTimeout(()=>{J()},_))},[O,J]),Z=g.useCallback(me=>{if(D.current&&L.current){const fe=me.currentTarget.getBoundingClientRect(),se=me.clientX-fe.left,K=me.clientY-fe.top,oe=Math.abs(se-D.current.x),ce=Math.abs(K-D.current.y);(oe>10||ce>10)&&(clearTimeout(L.current),L.current=null)}},[]),pe=g.useCallback(()=>{L.current&&(clearTimeout(L.current),L.current=null),D.current=null},[]),ke=g.useCallback(me=>{var $;if(c||!p.current||t.pageTurnMethod!=="click"||!t.clickToTurn)return;const fe=Date.now(),se=300;if(fe-S.current.lastPageTurnTime<se||S.current.isTurningPage)return;const K=($=o.current)==null?void 0:$.getBoundingClientRect();if(!K)return;let oe,ce,be=!1;if("touches"in me.nativeEvent){be=!0;const ue=me.nativeEvent.touches[0]||me.nativeEvent.changedTouches[0];if(!ue)return;oe=ue.clientX-K.left,ce=ue.clientY-K.top}else oe=me.clientX-K.left,ce=me.clientY-K.top;if(be&&T.current){L.current&&(clearTimeout(L.current),L.current=null);const ue=fe-T.current.time,Ce=Math.sqrt(Math.pow(oe-T.current.x,2)+Math.pow(ce-T.current.y,2));if(Ce>50){T.current=null;return}if(ue<80){T.current=null;return}if(ue>800){T.current=null;return}if(Ce>15){T.current=null;return}T.current=null}if(t.pageTurnMethod==="click"||!be){const ue=K.width,Ce=K.height;S.current.isTurningPage=!0,S.current.lastPageTurnTime=fe,t.pageTurnMode==="horizontal"?oe<ue/2?p.current.prev():p.current.next():ce<Ce/2?p.current.prev():p.current.next(),setTimeout(()=>{S.current.isTurningPage=!1},se)}},[c,t.clickToTurn,t.pageTurnMode,t.pageTurnMethod,re]),Le=typeof window<"u"&&window.innerWidth>=1024,_e=()=>Le?t.readerWidth==="centered"?{width:"980px",maxWidth:"980px",margin:"0 auto"}:{width:"100%",maxWidth:"100%",margin:"0"}:{width:"100%",maxWidth:"100%",margin:"0"},Ge=()=>{const me=Le&&t.readerWidth==="centered",fe={light:{gradient:"linear-gradient(145deg, rgba(255, 255, 255, 0.938) 0%, rgba(248, 250, 252, 0.5) 50%, rgba(241, 245, 249, 0.7) 100%)",shadow:me?"0 20px 60px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.05), 0 2px 8px rgba(0, 0, 0, 0.03), inset 0 1px 0 rgba(255, 255, 255, 0.9), inset 0 -1px 0 rgba(0, 0, 0, 0.02)":"inset 0 0 40px rgba(0, 0, 0, 0.02), inset 0 1px 0 rgba(255, 255, 255, 0.3)",border:me?"1px solid rgba(226, 232, 240, 0.8)":"none",innerPadding:me?"24px":"16px"},dark:{gradient:"linear-gradient(145deg, rgba(28, 30, 34, 0.3) 0%, rgba(23, 25, 28, 0.5) 50%, rgba(18, 20, 23, 0.7) 100%)",shadow:me?"0 20px 60px rgba(0, 0, 0, 0.35), 0 8px 24px rgba(0, 0, 0, 0.25), 0 2px 8px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.08), inset 0 -1px 0 rgba(0, 0, 0, 0.4)":"inset 0 0 40px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.05)",border:me?"1px solid rgba(255, 255, 255, 0.08)":"none",innerPadding:me?"24px":"16px"},sepia:{gradient:"linear-gradient(145deg, rgba(250, 247, 240, 0.3) 0%, rgba(245, 238, 225, 0.5) 50%, rgba(240, 232, 215, 0.7) 100%)",shadow:me?"0 20px 60px rgba(92, 75, 55, 0.12), 0 8px 24px rgba(92, 75, 55, 0.08), 0 2px 8px rgba(92, 75, 55, 0.05), inset 0 1px 0 rgba(255, 248, 230, 0.9), inset 0 -1px 0 rgba(92, 75, 55, 0.05)":"inset 0 0 40px rgba(92, 75, 55, 0.03), inset 0 1px 0 rgba(255, 248, 230, 0.5)",border:me?"1px solid rgba(212, 196, 156, 0.4)":"none",innerPadding:me?"24px":"16px"},green:{gradient:"linear-gradient(145deg, rgba(245, 252, 245, 0.3) 0%, rgba(237, 247, 237, 0.5) 50%, rgba(232, 245, 233, 0.7) 100%)",shadow:me?"0 20px 60px rgba(46, 125, 50, 0.08), 0 8px 24px rgba(46, 125, 50, 0.05), 0 2px 8px rgba(46, 125, 50, 0.03), inset 0 1px 0 rgba(240, 255, 240, 0.9), inset 0 -1px 0 rgba(46, 125, 50, 0.03)":"inset 0 0 40px rgba(46, 125, 50, 0.02), inset 0 1px 0 rgba(240, 255, 240, 0.4)",border:me?"1px solid rgba(165, 214, 167, 0.4)":"none",innerPadding:me?"24px":"16px"}}[t.theme];return{background:fe.gradient,boxShadow:fe.shadow,borderRadius:me?"16px":"0",border:fe.border,padding:fe.innerPadding}},$e=_e(),ft=Ge();return a.jsx("div",{className:"relative h-full w-full overflow-hidden",style:{backgroundColor:B.bg,touchAction:"manipulation",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none",paddingLeft:"env(safe-area-inset-left, 0px)",paddingRight:"env(safe-area-inset-right, 0px)",boxSizing:"border-box",display:"flex",alignItems:"stretch",justifyContent:"center"},children:a.jsx("div",{className:"reader-background-texture relative h-full overflow-hidden","data-theme":t.theme,style:{...$e,...ft,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",backdropFilter:"blur(12px) saturate(1.08)",WebkitBackdropFilter:"blur(12px) saturate(1.08)",boxSizing:"border-box",overflow:"hidden",position:"relative"},children:a.jsxs("div",{ref:o,className:"reader-content-wrapper relative h-full w-full overflow-hidden",style:{borderRadius:Le&&t.readerWidth==="centered"?"12px":"0"},suppressHydrationWarning:!0,children:[c&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",style:{backgroundColor:B.bg},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:B.text}}),a.jsx("p",{style:{color:B.text},children:"..."})]})}),!c&&a.jsx("div",{onTouchStart:j,onTouchMove:te,onTouchEnd:ke,onMouseDown:N,onMouseMove:Z,onMouseUp:pe,onMouseLeave:pe,onClick:ke,style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"auto",touchAction:"pan-y",cursor:"pointer",backgroundColor:"transparent"},"aria-label":""})]})})})}let Or=null;async function X2(){if(Or)return Or;try{const e=await ta(()=>import("./pdf-CMOiduxT.js").then(t=>t.p),__vite__mapDeps([2,1]));if(Or=e.default||e,!Or&&window.pdfjsLib&&(Or=window.pdfjsLib),!Or)throw new Error("PDF.js");if(Or.GlobalWorkerOptions){const t=Or.version||"3.11.174";Or.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${t}/pdf.worker.min.js`}return Or}catch(e){throw console.error("PDF.js:",e),new Error("PDF.jspdfjs-dist")}}const Q2="EpubManagerDB",G2=1,gr="books";class J2{constructor(){ls(this,"db",null);ls(this,"initPromise",null)}async init(){return this.db?Promise.resolve():this.initPromise?this.initPromise:(this.initPromise=new Promise((t,r)=>{const n=indexedDB.open(Q2,G2);n.onerror=()=>{console.error("IndexedDB:",n.error),r(n.error)},n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=s=>{const l=s.target.result;if(!l.objectStoreNames.contains(gr)){const i=l.createObjectStore(gr,{keyPath:"bookId"});i.createIndex("fileType","fileType",{unique:!1}),i.createIndex("downloadedAt","downloadedAt",{unique:!1})}}}),this.initPromise)}async downloadBook(t,r,n){await this.init();const s=await this.getBook(t);if(s)return s;try{const l=await fetch(n);if(!l.ok)throw new Error(`: ${l.status} ${l.statusText}`);const i=await l.blob(),o=i.size,c={bookId:t,fileType:r,blob:i,downloadedAt:Date.now(),fileSize:o},f=this.db.transaction([gr],"readwrite").objectStore(gr);return await new Promise((d,h)=>{const m=f.put(c);m.onsuccess=()=>{d()},m.onerror=()=>{console.error("OfflineStorage: ",m.error),h(m.error)}}),i}catch(l){throw console.error("OfflineStorage: ",l),l}}async getBook(t){return await this.init(),new Promise((r,n)=>{const i=this.db.transaction([gr],"readonly").objectStore(gr).get(t);i.onsuccess=()=>{const o=i.result;o&&o.blob?r(o.blob):r(null)},i.onerror=()=>{console.error("OfflineStorage: ",i.error),n(i.error)}})}async isBookCached(t){return await this.getBook(t)!==null}async deleteBook(t){return await this.init(),new Promise((r,n)=>{const i=this.db.transaction([gr],"readwrite").objectStore(gr).delete(t);i.onsuccess=()=>{r()},i.onerror=()=>{console.error("OfflineStorage: ",i.error),n(i.error)}})}async getAllCachedBooks(){return await this.init(),new Promise((t,r)=>{const l=this.db.transaction([gr],"readonly").objectStore(gr).getAll();l.onsuccess=()=>{t(l.result)},l.onerror=()=>{console.error("OfflineStorage: ",l.error),r(l.error)}})}async getCacheSize(){return(await this.getAllCachedBooks()).reduce((r,n)=>r+(n.fileSize||0),0)}async clearAll(){return await this.init(),new Promise((t,r)=>{const l=this.db.transaction([gr],"readwrite").objectStore(gr).clear();l.onsuccess=()=>{t()},l.onerror=()=>{console.error("OfflineStorage: ",l.error),r(l.error)}})}createBlobURL(t){return URL.createObjectURL(t)}revokeBlobURL(t){URL.revokeObjectURL(t)}}const _r=new J2,_x=Object.freeze(Object.defineProperty({__proto__:null,offlineStorage:_r},Symbol.toStringTag,{value:"Module"}));function Z2(e,t=250){const r=e.getContext("2d");if(!r)return null;const n=e.width,s=e.height,i=r.getImageData(0,0,n,s).data,o=(m,p,b)=>m>t&&p>t&&b>t;let c=n,u=s,f=0,d=0;for(let m=0;m<s;m++)for(let p=0;p<n;p++){const b=(m*n+p)*4,k=i[b],x=i[b+1],y=i[b+2];o(k,x,y)||(p<c&&(c=p),p>f&&(f=p),m<u&&(u=m),m>d&&(d=m))}if(c>=n||u>=s)return null;const h=Math.min(n,s)*.02;return c=Math.max(0,c-h),u=Math.max(0,u-h),f=Math.min(n,f+h),d=Math.min(s,d+h),{left:c,top:u,right:f,bottom:d}}async function Tx(e,t,r=1){const n=[];for(let s=0;s<e.length;s++){const l=e[s],i={id:`toc-${r}-${s}`,title:l.title||` ${s+1}`,href:"",level:r};if(l.dest){try{let o;if(Array.isArray(l.dest))o=l.dest;else if(typeof l.dest=="string")try{o=await t.getDestination(l.dest)}catch{o=null}else o=l.dest;if(o&&Array.isArray(o)&&o.length>0){let c=o[0];if(typeof c=="string")try{const u=await t.getDestination(c);u&&Array.isArray(u)&&u.length>0&&(c=u[0])}catch{}if(c){if(c.num!==void 0){const u=c.num;i.href=`#page=${u}`}else if(typeof c=="object")try{const u=await t.getPageIndex(c);i.href=`#page=${u+1}`}catch{for(let f=1;f<o.length;f++)if(typeof o[f]=="number"){i.href=`#page=${o[f]+1}`;break}}}if(!i.href){for(let u=0;u<o.length;u++)if(typeof o[u]=="number"&&o[u]>=0){i.href=`#page=${o[u]+1}`;break}}}}catch{}!i.href&&l.dest&&(typeof l.dest=="string"?i.href=`#dest=${l.dest}`:i.href=`#dest=${JSON.stringify(l.dest)}`)}l.items&&l.items.length>0&&(i.children=await Tx(l.items,t,r+1)),n.push(i)}return n}function eN({book:e,settings:t,initialPosition:r,onSettingsChange:n,onProgressChange:s,onTOCChange:l,onClose:i}){const o=g.useRef(null),c=g.useRef(null),u=g.useRef(null),f=g.useRef(null),[d,h]=g.useState(!0),[m,p]=g.useState({}),[b,k]=g.useState(1),[x,y]=g.useState(0),[v,w]=g.useState(!1),[C,S]=g.useState(1.5),[O,A]=g.useState(!1),[Q,E]=g.useState(!0),[L,_]=g.useState(null),[D,z]=g.useState(!1),[P,B]=g.useState(!1),[T,M]=g.useState(!1),[J,j]=g.useState(""),[te,re]=g.useState(new Date),N=g.useRef(null),[Z,pe]=g.useState(0),[ke,Le]=g.useState("none"),[_e,Ge]=g.useState({width:0,height:0}),[$e,ft]=g.useState(!1),[me,fe]=g.useState(!1),se=g.useRef(null),K=500,oe=g.useRef(null),ce=g.useRef(null),be=g.useRef(null),$=g.useRef(null);g.useEffect(()=>{const U=()=>{const F=navigator.userAgent.toLowerCase(),V=["android","iphone","ipad","ipod","blackberry","windows phone"].some(ae=>F.includes(ae))||window.innerWidth<=768;ft(V);const we=window.matchMedia("(display-mode: standalone)").matches,ne=window.navigator.standalone===!0;fe(we||ne)};U(),window.addEventListener("resize",U);const Y=window.matchMedia("(display-mode: standalone)");return Y.addEventListener("change",U),()=>{window.removeEventListener("resize",U),Y.removeEventListener("change",U)}},[]),g.useEffect(()=>($.current=setInterval(()=>{re(new Date)},1e3),()=>{$.current&&clearInterval($.current)}),[]),g.useEffect(()=>()=>{ce.current&&clearTimeout(ce.current),be.current&&clearTimeout(be.current),se.current&&clearTimeout(se.current)},[]);const ue=async()=>{var F,H;const U=((H=(F=e.file_name)==null?void 0:F.split(".").pop())==null?void 0:H.toLowerCase())||"pdf",Y=`/books/${e.id}.${U}`;try{const V=await _r.getBook(e.id);if(V)return _r.createBlobURL(V);const we=await _r.downloadBook(e.id,U,Y);return _r.createBlobURL(we)}catch(V){return console.error("URL",V),Y}};g.useEffect(()=>{if(!e||!e.id)return;(async()=>{try{h(!0);const Y=await X2(),F=await ue(),V=await Y.getDocument({url:F,withCredentials:!1}).promise;u.current=V,y(V.numPages);try{const ne=(await V.getMetadata()).info||{};p({title:ne.Title,author:ne.Author,subject:ne.Subject,creator:ne.Creator,producer:ne.Producer,creationDate:ne.CreationDate,modificationDate:ne.ModDate})}catch{}try{const we=await V.getOutline();if(we&&we.length>0){const ne=await Tx(we,V);l(ne)}else l([])}catch{l([])}h(!1)}catch(Y){console.error("PDF",Y),R.error(`: ${Y.message||""}`),h(!1)}})()},[e==null?void 0:e.id,e==null?void 0:e.file_name,l]),g.useEffect(()=>{const U=()=>{if(o.current){const F=o.current.getBoundingClientRect(),H={width:F.width||window.innerWidth,height:F.height||window.innerHeight-140};Ge(H)}else{const F={width:window.innerWidth,height:window.innerHeight-140};Ge(F)}},Y=setTimeout(()=>{U()},100);if(o.current){const F=new ResizeObserver(()=>{U()});return F.observe(o.current),window.addEventListener("resize",U),()=>{clearTimeout(Y),F.disconnect(),window.removeEventListener("resize",U)}}return()=>{clearTimeout(Y)}},[]);const Ce=g.useCallback(async(U,Y)=>{var F;if(!(!u.current||!c.current))try{if(f.current){try{f.current.cancel()}catch{}f.current=null}const H=u.current,V=c.current,we=V.getContext("2d");if(!we)throw new Error("Canvas");const ne=await H.getPage(U),ae=Y!==void 0?Y:C,De=_e.width>0?_e.width:window.innerWidth,qe=_e.height>0?_e.height:window.innerHeight-140,Xe=2,Ke=ne.getViewport({scale:Xe}),xt=document.createElement("canvas");xt.width=Ke.width,xt.height=Ke.height;const X=xt.getContext("2d");if(X&&(await ne.render({canvasContext:X,viewport:Ke}).promise,Q)){const Ae=Z2(xt);if(Ae){_(Ae);const Ct=Ae.right-Ae.left,vt=Ae.bottom-Ae.top,Pt=(De-t.margin*2)/Ct,mr=(qe-t.margin*2)/vt,Sf=Math.min(Pt,mr)*Xe,Lo=ne.getViewport({scale:Sf});V.width=Lo.width,V.height=Lo.height,we.clearRect(0,0,V.width,V.height);const Cf=ne.render({canvasContext:we,viewport:Lo});f.current=Cf,await Cf.promise,f.current=null;const vl=Sf/Xe,Ay=Ae.left*vl,zy=Ae.top*vl,kl=Ct*vl,wl=vt*vl,jl=document.createElement("canvas");jl.width=kl,jl.height=wl;const Ef=jl.getContext("2d");Ef&&(Ef.drawImage(V,Ay,zy,kl,wl,0,0,kl,wl),V.width=kl,V.height=wl,we.clearRect(0,0,V.width,V.height),we.drawImage(jl,0,0));return}}const xe=ne.getViewport({scale:ae});let I=ae;xe.width>De-t.margin*2&&(I=(De-t.margin*2)/ne.view[2]*ae);const G=ne.getViewport({scale:I});V.height=G.height,V.width=G.width;const ge={canvasContext:we,viewport:G},Ee=ne.render(ge);f.current=Ee,await Ee.promise,f.current=null}catch(H){if(f.current=null,H.name==="RenderingCancelledException"||(F=H.message)!=null&&F.includes("cancelled"))return;console.error("PDF",H),R.error(`: ${H.message||""}`)}},[C,_e,t.margin,Q]);g.useEffect(()=>{b>0&&b<=x&&!d&&Ce(b)},[b,C,_e,Ce,x,d]),g.useEffect(()=>()=>{if(f.current){try{f.current.cancel()}catch{}f.current=null}},[]),g.useEffect(()=>{if(x>0&&r){const U=r.currentPage||1;U>=1&&U<=x&&k(U)}},[x,r]);const Te=g.useCallback(()=>{z(!0),ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{z(!1)},3e3)},[]),ye=g.useCallback(U=>{v||x===0||(w(!0),Le(U),setTimeout(()=>{U==="next"?b<x?k(b+1):R(""):b>1?k(b-1):R(""),setTimeout(()=>{Le("none"),w(!1)},300)},50))},[v,x,b]),Pe=g.useCallback(U=>{const Y=Math.max(1,Math.min(U,x));k(Y),M(!1),j(""),R(` ${Y} `)},[x]);g.useEffect(()=>(window.__pdfGoToPage=U=>{Pe(U)},window.__pdfHandleTOCClick=U=>{if(U.startsWith("#page=")){const Y=U.match(/#page=(\d+)/);if(Y){const F=parseInt(Y[1],10);Pe(F)}}else U.startsWith("#dest=")&&R.error("")},()=>{delete window.__pdfGoToPage,delete window.__pdfHandleTOCClick}),[Pe]);const Be=g.useCallback(U=>{S(U==="in"?Y=>Math.min(3,Y+.25):U==="out"?Y=>Math.max(.5,Y-.25):1.5)},[]),W=g.useCallback(async()=>{if(o.current)try{O?(document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen(),A(!1)):(o.current.requestFullscreen?await o.current.requestFullscreen():o.current.webkitRequestFullscreen?await o.current.webkitRequestFullscreen():o.current.mozRequestFullScreen?await o.current.mozRequestFullScreen():o.current.msRequestFullscreen&&await o.current.msRequestFullscreen(),A(!0))}catch(U){console.error("",U)}},[O]);g.useEffect(()=>{const U=()=>{const Y=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement);A(Y)};return document.addEventListener("fullscreenchange",U),document.addEventListener("webkitfullscreenchange",U),document.addEventListener("mozfullscreenchange",U),document.addEventListener("MSFullscreenChange",U),()=>{document.removeEventListener("fullscreenchange",U),document.removeEventListener("webkitfullscreenchange",U),document.removeEventListener("mozfullscreenchange",U),document.removeEventListener("MSFullscreenChange",U)}},[]),g.useEffect(()=>{if(x===0)return;const U=Math.min(1,Math.max(0,b/x));be.current&&clearTimeout(be.current),be.current=setTimeout(()=>{s(U,{currentPage:b,totalPages:x,progress:U})},500)},[b,x,s]);const ee=g.useCallback(U=>{const Y=U.touches[0],F=U.currentTarget.getBoundingClientRect(),H=Y.clientX-F.left,V=Y.clientY-F.top,we=F.width,ne=F.height,ae=we*.3,De=we*.7,qe=ne*.3,Xe=ne*.7,Ke=H>=ae&&H<=De&&V>=qe&&V<=Xe;N.current={x:Y.clientX,y:Y.clientY,time:Date.now(),distance:0},$e&&me&&Ke&&(se.current=setTimeout(()=>{Te(),navigator.vibrate&&navigator.vibrate(50)},K))},[$e,me,Te]),ve=g.useCallback(U=>{if(!N.current||U.touches.length!==1){se.current&&(clearTimeout(se.current),se.current=null);return}const Y=U.touches[0],F=Y.clientX-N.current.x,H=Y.clientY-N.current.y,V=Math.sqrt(F*F+H*H);N.current.distance=V,V>10&&se.current&&(clearTimeout(se.current),se.current=null),t.pageTurnMethod==="swipe"&&Math.abs(F)>Math.abs(H)&&Math.abs(F)>10&&(U.preventDefault(),pe(Math.max(-100,Math.min(100,F))))},[t.pageTurnMethod]),Re=g.useCallback(U=>{if(se.current&&(clearTimeout(se.current),se.current=null),!N.current)return;const Y=U.changedTouches[0],F=Y.clientX-N.current.x,H=Y.clientY-N.current.y,V=Date.now()-N.current.time,we=N.current.distance,ne=Math.sqrt(F*F+H*H),ae=ne>50&&V<300&&we<200;if(t.pageTurnMethod==="swipe"&&ae)U.touches.length===0&&U.changedTouches.length===1&&Math.abs(F)>Math.abs(H)&&(F>0?ye("prev"):ye("next"));else if(t.pageTurnMethod==="click"&&t.clickToTurn&&!ae&&ne<10){const De=U.target;if(!De.closest("button")&&!De.closest("input")){const qe=U.currentTarget.getBoundingClientRect(),Xe=Y.clientX-qe.left,Ke=Y.clientY-qe.top,xt=qe.width,X=qe.height;t.pageTurnMode==="horizontal"?Xe<xt/3?ye("prev"):Xe>xt*2/3&&ye("next"):Ke<X/3?ye("prev"):Ke>X*2/3&&ye("next")}}pe(0),N.current=null},[t,ye]),Fe=g.useCallback(U=>{if(U.ctrlKey||U.metaKey){U.preventDefault(),U.deltaY>0?Be("out"):Be("in");return}const Y=o.current;if(!Y)return;const F=Y.getBoundingClientRect(),H=U.clientY-F.top<50,V=F.bottom-U.clientY<50;H&&U.deltaY<0?(U.preventDefault(),ye("prev")):V&&U.deltaY>0&&(U.preventDefault(),ye("next"))},[Be,ye]),Ye=g.useCallback(U=>{const Y=U.target;if(Y.closest("button")||Y.closest("input"))return;const F=U.currentTarget.getBoundingClientRect(),H=U.clientX-F.left,V=U.clientY-F.top,we=F.width,ne=F.height,ae=we*.3,De=we*.7,qe=ne*.3,Xe=ne*.7,Ke=H>=ae&&H<=De&&V>=qe&&V<=Xe;oe.current={x:H,y:V,time:Date.now()},!$e&&Ke&&(se.current=setTimeout(()=>{Te()},K))},[$e,Te]),St=g.useCallback(U=>{if(oe.current&&se.current){const Y=U.currentTarget.getBoundingClientRect(),F=U.clientX-Y.left,H=U.clientY-Y.top,V=Math.abs(F-oe.current.x),we=Math.abs(H-oe.current.y);(V>10||we>10)&&(clearTimeout(se.current),se.current=null)}},[]),ut=g.useCallback(()=>{se.current&&(clearTimeout(se.current),se.current=null),oe.current=null},[]),Ne=g.useCallback(U=>{const Y=U.target;if(Y.closest("button")||Y.closest("input")||t.pageTurnMethod!=="click"||!t.clickToTurn)return;const F=U.currentTarget.getBoundingClientRect(),H=U.clientX-F.left,V=F.width;if(t.pageTurnMode==="horizontal")H<V/3?ye("prev"):H>V*2/3&&ye("next");else{const we=U.clientY-F.top,ne=F.height;we<ne/3?ye("prev"):we>ne*2/3&&ye("next")}},[t,ye]);g.useEffect(()=>{const U=Y=>{Y.target instanceof HTMLInputElement||Y.target instanceof HTMLTextAreaElement||(Y.key==="ArrowLeft"||Y.key==="ArrowUp"?(Y.preventDefault(),ye("prev")):Y.key==="ArrowRight"||Y.key==="ArrowDown"?(Y.preventDefault(),ye("next")):Y.key==="Escape"?(z(!1),M(!1),O&&W()):Y.key==="f"||Y.key==="F"?(Y.ctrlKey||Y.metaKey)&&(Y.preventDefault(),W()):Y.key==="+"||Y.key==="="?(Y.ctrlKey||Y.metaKey)&&(Y.preventDefault(),Be("in")):Y.key==="-"?(Y.ctrlKey||Y.metaKey)&&(Y.preventDefault(),Be("out")):Y.key==="0"?(Y.ctrlKey||Y.metaKey)&&(Y.preventDefault(),Be("reset")):(Y.key==="g"||Y.key==="G")&&(Y.ctrlKey||Y.metaKey)&&(Y.preventDefault(),M(!0)))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[ye,W,Be,O]),g.useEffect(()=>(window.__readerPageTurn=U=>{ye(U)},()=>{delete window.__readerPageTurn}),[ye]);const he={light:{bg:"#ffffff",text:"#000000",border:"#e0e0e0"},dark:{bg:"#1a1a1a",text:"#ffffff",border:"#404040"},sepia:{bg:"#f4e4bc",text:"#5c4b37",border:"#d4c49c"},green:{bg:"#c8e6c9",text:"#2e7d32",border:"#a5d6a7"}}[t.theme];return d?a.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:he.bg},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:he.text}}),a.jsx("p",{style:{color:he.text},children:"PDF..."})]})}):a.jsxs("div",{ref:o,className:"relative h-full w-full overflow-auto",style:{backgroundColor:he.bg},onTouchStart:ee,onTouchMove:ve,onTouchEnd:Re,onMouseDown:Ye,onMouseMove:St,onMouseUp:ut,onMouseLeave:ut,onWheel:Fe,onClick:Ne,children:[a.jsx("div",{className:`flex items-center justify-center w-full min-h-full ${$e?"py-4":"pb-4"}`,style:{transform:`translateX(${Z}px)`,transition:Z===0&&ke==="none"?"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none",paddingBottom:D?"100px":"20px"},children:x>0&&a.jsx("div",{className:"flex flex-col items-center",children:a.jsx("canvas",{ref:c,className:"shadow-lg",style:{maxWidth:"100%",height:"auto",display:"block"}})})}),a.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-30 transition-all duration-300 ${D?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"}`,style:{backgroundColor:he.bg,borderTop:`1px solid ${he.border}`,paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:a.jsxs("div",{className:"px-4 py-3",children:[a.jsx("div",{className:"w-full h-1 rounded-full mb-3",style:{backgroundColor:he.border},children:a.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${b/x*100}%`,backgroundColor:t.theme==="dark"?"#4a9eff":"#1890ff"}})}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>ye("prev"),disabled:b<=1,className:"p-2 rounded-lg transition-colors disabled:opacity-50",style:{backgroundColor:b>1?"rgba(0,0,0,0.05)":"transparent",color:he.text},"aria-label":"",children:a.jsx(Ya,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>ye("next"),disabled:b>=x,className:"p-2 rounded-lg transition-colors disabled:opacity-50",style:{backgroundColor:b<x?"rgba(0,0,0,0.05)":"transparent",color:he.text},"aria-label":"",children:a.jsx(Xa,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Be("out"),className:"p-2 rounded-lg transition-colors hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10",style:{color:he.text},"aria-label":"",children:a.jsx(U2,{className:"w-5 h-5"})}),a.jsxs("span",{className:"text-xs",style:{color:he.text,opacity:.7},children:[Math.round(C*100),"%"]}),a.jsx("button",{onClick:()=>Be("in"),className:"p-2 rounded-lg transition-colors hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10",style:{color:he.text},"aria-label":"",children:a.jsx($2,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{E(!Q),setTimeout(()=>{u.current&&Ce(b)},100),R(Q?"":"")},className:`p-2 rounded-lg transition-colors hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10 ${Q?"bg-blue-500 bg-opacity-20":""}`,style:{color:Q?"#1890ff":he.text},"aria-label":"",title:"",children:a.jsx(C2,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>B(!0),className:"p-2 rounded-lg transition-colors hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10",style:{color:he.text},"aria-label":"",title:"",children:a.jsx(al,{className:"w-5 h-5"})}),a.jsx("button",{onClick:W,className:"p-2 rounded-lg transition-colors hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10",style:{color:he.text},"aria-label":O?"":"",children:O?a.jsx(I2,{className:"w-5 h-5"}):a.jsx(L2,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:he.text,opacity:.7},children:[a.jsx("span",{className:"truncate max-w-[30%]",children:m.title||e.title||e.file_name}),a.jsxs("span",{className:"mx-2",children:[b," / ",x]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ur,{className:"w-3 h-3"}),te.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})]})]})]})}),T&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full mx-4",style:{backgroundColor:he.bg,color:he.text},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:""}),a.jsx("button",{onClick:()=>M(!1),children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",max:x,value:J,onChange:U=>j(U.target.value),onKeyPress:U=>{if(U.key==="Enter"){const Y=parseInt(J);isNaN(Y)||Pe(Y)}},placeholder:`1-${x}`,className:"flex-1 px-4 py-2 border rounded-lg",style:{backgroundColor:he.bg,color:he.text,borderColor:he.border},autoFocus:!0}),a.jsx("button",{onClick:()=>{const U=parseInt(J);isNaN(U)||Pe(U)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:t.theme==="dark"?"#4a9eff":"#1890ff",color:"#ffffff"},children:""})]}),a.jsx("p",{className:"text-xs mt-2",style:{color:he.text,opacity:.7},children:": Ctrl+G (Windows/Linux)  Cmd+G (Mac)"})]})}),P&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center sm:justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-2xl p-6 max-w-md w-full mx-4 max-h-[85vh] overflow-y-auto",style:{backgroundColor:he.bg,color:he.text},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:""}),a.jsx("button",{onClick:()=>B(!1),children:a.jsx(Ze,{className:"w-5 h-5"})})]}),Object.keys(m).length>0&&a.jsxs("div",{className:"mb-4 p-4 rounded-lg",style:{backgroundColor:he.border,opacity:.3},children:[a.jsx("h3",{className:"font-semibold mb-2",children:""}),m.title&&a.jsxs("p",{className:"text-sm mb-1",children:[a.jsx("span",{className:"font-medium",children:":"})," ",m.title]}),m.author&&a.jsxs("p",{className:"text-sm mb-1",children:[a.jsx("span",{className:"font-medium",children:":"})," ",m.author]}),m.subject&&a.jsxs("p",{className:"text-sm mb-1",children:[a.jsx("span",{className:"font-medium",children:":"})," ",m.subject]}),m.creator&&a.jsxs("p",{className:"text-sm mb-1",children:[a.jsx("span",{className:"font-medium",children:":"})," ",m.creator]})]}),a.jsx("div",{className:"mb-4 p-4 rounded-lg",style:{backgroundColor:he.border,opacity:.1},children:a.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:""}),a.jsx("div",{className:"text-xs mt-1",style:{color:he.text,opacity:.6},children:"PDF"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:Q,onChange:U=>{E(U.target.checked),setTimeout(()=>{u.current&&Ce(b)},100)},className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 rounded-full peer peer-checked:bg-blue-600 peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 transition-colors",style:{backgroundColor:Q?"#1890ff":"#ccc"}}),a.jsx("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform peer-checked:translate-x-5",style:{transform:Q?"translateX(20px)":"translateX(0)"}})]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:["",Q&&a.jsx("span",{className:"text-xs ml-2",style:{color:he.text,opacity:.5},children:"()"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:C,onChange:U=>{const Y=parseFloat(U.target.value);S(Y)},className:"flex-1",disabled:Q}),a.jsxs("span",{className:"text-sm w-16 text-right",children:[Math.round(C*100),"%"]})]})]}),L&&Q&&a.jsxs("div",{className:"mb-4 p-3 rounded-lg text-xs",style:{backgroundColor:he.border,opacity:.1},children:[a.jsx("div",{className:"font-medium mb-1",children:""}),a.jsx("div",{style:{color:he.text,opacity:.6},children:""})]})]})})]})}function tN({book:e,settings:t,initialPosition:r,onSettingsChange:n,onProgressChange:s,onTOCChange:l,onClose:i}){const o=g.useRef(null),c=g.useRef(null),[u,f]=g.useState(!0),[d,h]=g.useState([]),[m,p]=g.useState(""),[b,k]=g.useState([]),[x,y]=g.useState(0),[v,w]=g.useState(0),[C,S]=g.useState(!1),[O,A]=g.useState(!1),[Q,E]=g.useState(!1),[L,_]=g.useState(""),[D,z]=g.useState([]),[P,B]=g.useState(-1),[T,M]=g.useState([]),[J,j]=g.useState(!1),[te,re]=g.useState(new Date),[N,Z]=g.useState([]),pe=g.useRef(null),[ke,Le]=g.useState(0),[_e,Ge]=g.useState("none"),[$e,ft]=g.useState({width:0,height:0}),me=g.useRef(null),fe=g.useRef(null),se=g.useRef(null);g.useEffect(()=>(se.current=setInterval(()=>{re(new Date)},1e3),()=>{se.current&&clearInterval(se.current)}),[]),g.useEffect(()=>(window.__txtGoToPage=F=>{const H=b.find(V=>V.pageNumber===F);if(H){const V=b.indexOf(H);y(V),R.success("")}else R.error("")},()=>{delete window.__txtGoToPage}),[b]);const K=async()=>{var V,we;const F=((we=(V=e.file_name)==null?void 0:V.split(".").pop())==null?void 0:we.toLowerCase())||"txt",H=`/books/${e.id}.${F}`;try{const ne=await _r.getBook(e.id);if(ne)return _r.createBlobURL(ne);const ae=await _r.downloadBook(e.id,F,H);return _r.createBlobURL(ae)}catch(ne){return console.error("URL",ne),H}};g.useEffect(()=>{if(!e||!e.id)return;(async()=>{try{f(!0);const H=await K(),V=await fetch(H);if(!V.ok)throw new Error(`: ${V.status} ${V.statusText}`);const ne=(await V.text()).replace(/\r\n/g,`
`).replace(/\r/g,`
`),ae=ne.split(`
`);p(ne),h(ae),oe(),f(!1)}catch(H){console.error("TXT",H),R.error(`: ${H.message||""}`),f(!1)}})()},[e==null?void 0:e.id,e==null?void 0:e.file_name]);const oe=g.useCallback(()=>{try{const F=localStorage.getItem(`bookmarks-${e.id}`);if(F){const H=JSON.parse(F);M(H)}}catch(F){console.error("",F)}},[e.id]);g.useEffect(()=>{const F=async()=>{try{const V=await(await ta(async()=>{const{default:we}=await Promise.resolve().then(()=>yx);return{default:we}},void 0)).default.get(`/notes/book/${e.id}`);Z(V.data.notes||[])}catch(H){console.error(":",H)}};e.id&&F()},[e.id]);const ce=g.useCallback(F=>{try{localStorage.setItem(`bookmarks-${e.id}`,JSON.stringify(F)),M(F)}catch(H){console.error("",H)}},[e.id]);g.useEffect(()=>{const F=()=>{if(o.current){const V=o.current.getBoundingClientRect(),we={width:V.width||window.innerWidth,height:V.height||window.innerHeight-140};ft(we)}else{const V={width:window.innerWidth,height:window.innerHeight-140};ft(V)}},H=setTimeout(()=>{F()},100);if(o.current){const V=new ResizeObserver(()=>{F()});return V.observe(o.current),window.addEventListener("resize",F),()=>{clearTimeout(H),V.disconnect(),window.removeEventListener("resize",F)}}return()=>{clearTimeout(H)}},[]);const be=g.useCallback(()=>{if(d.length===0)return;const F=$e.height>0?$e.height:window.innerHeight-140,H=$e.width>0?$e.width:window.innerWidth;if(F<=0)return;const V=[],we=F-80;let ne=[],ae=0,De=1;const qe=document.createElement("div");if(qe.style.cssText=`
      position: absolute;
      visibility: hidden;
      width: ${H-t.margin*2}px;
      top: -9999px;
      left: -9999px;
      ${$()}
      white-space: pre-wrap;
      word-wrap: break-word;
    `,document.body.appendChild(qe),d.forEach((Xe,Ke)=>{qe.textContent=Xe||" ";const xt=qe.offsetHeight;if(ae+xt>we&&ne.length>0){const X=ne.join(`
`);V.push({pageNumber:De++,startLine:Ke-ne.length,endLine:Ke-1,content:X}),ne=[Xe],ae=xt}else ne.push(Xe),ae+=xt}),ne.length>0){const Xe=ne.join(`
`);V.push({pageNumber:De++,startLine:d.length-ne.length,endLine:d.length-1,content:Xe})}if(document.body.removeChild(qe),k(V),w(V.length),V.length>0)if(r&&r.currentPage){const Xe=Math.min(r.currentPage-1,V.length-1);y(Math.max(0,Xe))}else y(0)},[d,$e,t,r]);g.useEffect(()=>{be()},[be]);const $=g.useCallback(()=>{const F={light:{bg:"#ffffff",text:"#000000"},dark:{bg:"#1a1a1a",text:"#ffffff"},sepia:{bg:"#f4e4bc",text:"#5c4b37"},green:{bg:"#c8e6c9",text:"#2e7d32"}}[t.theme],H={default:'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif',serif:'"Songti SC", "SimSun", "", "STSong", serif',"sans-serif":'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif',monospace:'"Courier New", "Monaco", "Consolas", monospace'}[t.fontFamily]||'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif';return`
      background-color: ${F.bg};
      color: ${F.text};
      font-family: ${H};
      font-size: ${t.fontSize}px;
      line-height: ${t.lineHeight};
      padding: ${t.margin}px;
    `},[t]),ue=g.useCallback(()=>{const F={light:{bg:"#ffffff",text:"#000000"},dark:{bg:"#1a1a1a",text:"#ffffff"},sepia:{bg:"#f4e4bc",text:"#5c4b37"},green:{bg:"#c8e6c9",text:"#2e7d32"}}[t.theme],H={default:'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif',serif:'"Songti SC", "SimSun", "", "STSong", serif',"sans-serif":'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif',monospace:'"Courier New", "Monaco", "Consolas", monospace'}[t.fontFamily]||'-apple-system, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "", "WenQuanYi Micro Hei", sans-serif';return{backgroundColor:F.bg,color:F.text,fontFamily:H,fontSize:`${t.fontSize}px`,lineHeight:t.lineHeight,padding:`${t.margin}px`}},[t]),Ce=g.useCallback(()=>{A(!0),me.current&&clearTimeout(me.current),me.current=setTimeout(()=>{A(!1)},3e3)},[]),Te=g.useCallback(F=>{C||b.length===0||(S(!0),Ge(F),setTimeout(()=>{F==="next"?x<b.length-1?y(x+1):R(""):x>0?y(x-1):R(""),setTimeout(()=>{Ge("none"),S(!1)},300)},50))},[C,b.length,x]);g.useEffect(()=>{if(b.length===0||v===0)return;const F=b[x];if(!F)return;const H=Math.min(1,Math.max(0,F.pageNumber/v));fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{const V={currentPage:F.pageNumber,totalPages:v,progress:H,scrollTop:0};s(H,V)},500)},[x,b,v,s]);const ye=g.useCallback(F=>{if(!F.trim()){z([]),B(-1);return}const H=[],V=new RegExp(F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");d.forEach((we,ne)=>{let ae;for(;(ae=V.exec(we))!==null;)H.push({lineIndex:ne,charIndex:ae.index,match:ae[0]})}),z(H),B(H.length>0?0:-1),H.length>0?R.success(` ${H.length} `):R("")},[d]),Pe=g.useCallback(F=>{if(F<0||F>=D.length)return;const H=D[F],V=b.find(we=>we.startLine<=H.lineIndex&&we.endLine>=H.lineIndex);if(V){const we=b.indexOf(V);y(we),B(F),E(!1),Ce()}},[D,b,Ce]),Be=g.useCallback(()=>{if(D.length===0)return;const F=(P+1)%D.length;Pe(F)},[D,P,Pe]),W=g.useCallback(()=>{if(D.length===0)return;const F=P<=0?D.length-1:P-1;Pe(F)},[D,P,Pe]),ee=g.useCallback((F,H)=>{if(!H.trim())return F;const V=new RegExp(`(${H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return F.replace(V,'<mark style="background-color: yellow; color: black;">$1</mark>')},[]);g.useCallback((F,H)=>{if(!F||N.length===0)return F;const V=N.filter(ne=>ne.page_number===H);if(V.length===0)return F;let we=F;return V.forEach(ne=>{if(ne.selected_text&&ne.selected_text.trim()){const De=ne.selected_text.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),qe=new RegExp(`(${De})`,"gi");qe.test(we)&&(we=we.replace(qe,Xe=>`<mark class="note-highlight" style="background-color: #ffeb3b; color: #000; border-bottom: 2px solid #ff9800; cursor: pointer; position: relative;" title="${ne.content.substring(0,30)}...">${Xe}</mark>`))}}),we},[N]);const ve=g.useCallback(()=>{const F=b[x];if(!F)return;const H=F.content.substring(0,50).replace(/\n/g," "),V={pageNumber:F.pageNumber,lineIndex:F.startLine,preview:H,createdAt:Date.now()};if(T.some(ae=>ae.pageNumber===F.pageNumber)){R("");return}const ne=[...T,V].sort((ae,De)=>ae.pageNumber-De.pageNumber);ce(ne),R.success("")},[b,x,T,ce]),Re=g.useCallback(F=>{const H=T.filter(V=>V.pageNumber!==F);ce(H),R.success("")},[T,ce]),Fe=g.useCallback(F=>{const H=b.find(V=>V.pageNumber===F);if(H){const V=b.indexOf(H);y(V),j(!1),Ce()}},[b,Ce]),Ye=g.useMemo(()=>{const F=b[x];return F?T.some(H=>H.pageNumber===F.pageNumber):!1},[b,x,T]),St=g.useCallback(F=>{const H=F.touches[0];pe.current={x:H.clientX,y:H.clientY,time:Date.now()},Ce()},[Ce]),ut=g.useCallback(F=>{if(!pe.current)return;const H=F.touches[0],V=H.clientX-pe.current.x,we=H.clientY-pe.current.y;Math.abs(V)>Math.abs(we)&&Math.abs(V)>10&&(F.preventDefault(),Le(Math.max(-100,Math.min(100,V))))},[]),Ne=g.useCallback(F=>{if(!pe.current)return;const V=F.changedTouches[0].clientX-pe.current.x,we=Date.now()-pe.current.time;Math.abs(V)>50&&we<300&&(V>0?Te("prev"):Te("next")),Le(0),pe.current=null},[Te]),he=g.useCallback(F=>{const H=F.target;if(H.closest("button")||H.closest("a")||H.closest("input"))return;const V=F.currentTarget.getBoundingClientRect(),we=F.clientX-V.left,ne=V.width;if(t.clickToTurn)if(t.pageTurnMode==="horizontal")we<ne/3?Te("prev"):we>ne*2/3?Te("next"):Ce();else{const ae=F.clientY-V.top,De=V.height;ae<De/3?Te("prev"):ae>De*2/3?Te("next"):Ce()}else Ce()},[t,Te,Ce]);g.useEffect(()=>{const F=H=>{var V;if(H.target instanceof HTMLInputElement||H.target instanceof HTMLTextAreaElement){if(H.key==="Enter"&&Q){H.preventDefault(),ye(L);return}if(H.key==="Escape"&&Q){H.preventDefault(),E(!1);return}return}H.key==="ArrowLeft"||H.key==="ArrowUp"?(H.preventDefault(),Te("prev")):H.key==="ArrowRight"||H.key==="ArrowDown"?(H.preventDefault(),Te("next")):H.key==="Escape"?(A(!1),E(!1),j(!1)):H.key==="f"||H.key==="F"?(H.ctrlKey||H.metaKey)&&(H.preventDefault(),E(!0)):(H.key==="b"||H.key==="B")&&(H.ctrlKey||H.metaKey)&&(H.preventDefault(),Ye?Re(((V=b[x])==null?void 0:V.pageNumber)||0):ve())};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[Te,Q,L,ye,Ye,b,x,ve,Re]);const U=b[x],Y={light:{bg:"#ffffff",text:"#000000",border:"#e0e0e0"},dark:{bg:"#1a1a1a",text:"#ffffff",border:"#404040"},sepia:{bg:"#f4e4bc",text:"#5c4b37",border:"#d4c49c"},green:{bg:"#c8e6c9",text:"#2e7d32",border:"#a5d6a7"}}[t.theme];return u?a.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:Y.bg},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:Y.text}}),a.jsx("p",{style:{color:Y.text},children:"..."})]})}):a.jsxs("div",{ref:o,className:"relative h-full w-full overflow-hidden",style:{backgroundColor:Y.bg},onTouchStart:St,onTouchMove:ut,onTouchEnd:Ne,onClick:he,children:[a.jsx("div",{ref:c,className:"h-full w-full overflow-hidden relative",style:{transform:`translateX(${ke}px)`,transition:ke===0&&_e==="none"?"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none",paddingBottom:O?"80px":"0"},children:U?a.jsx("div",{className:"h-full w-full overflow-y-auto",style:{padding:"40px 20px",backgroundColor:Y.bg},children:a.jsx("div",{className:"txt-content",style:{...ue(),maxWidth:"900px",margin:"0 auto",minHeight:"100%",whiteSpace:"pre-wrap",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:Q&&L?ee(U.content,L):U.content.replace(/\n/g,"<br/>")}})}):b.length===0?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{style:{color:Y.text},children:"..."})})}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{style:{color:Y.text},children:""})})})}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 z-30 transition-all duration-300 ${O?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"}`,style:{backgroundColor:Y.bg,borderTop:`1px solid ${Y.border}`,paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:a.jsxs("div",{className:"px-4 py-3",children:[a.jsx("div",{className:"w-full h-1 rounded-full mb-3",style:{backgroundColor:Y.border},children:a.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${((U==null?void 0:U.pageNumber)||1)/v*100}%`,backgroundColor:t.theme==="dark"?"#4a9eff":"#1890ff"}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:Y.text,opacity:.7},children:[a.jsx("span",{className:"truncate max-w-[30%]",children:e.title||e.file_name}),a.jsxs("span",{className:"mx-2",children:[(U==null?void 0:U.pageNumber)||0," / ",v]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ur,{className:"w-3 h-3"}),te.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[a.jsx("button",{onClick:()=>{E(!0),Ce()},className:"p-2 rounded-lg hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10 transition-colors","aria-label":"",children:a.jsx(Lr,{className:"w-4 h-4",style:{color:Y.text}})}),a.jsx("button",{onClick:()=>{j(!0),Ce()},className:"p-2 rounded-lg hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10 transition-colors","aria-label":"",children:a.jsx(dc,{className:"w-4 h-4",style:{color:Y.text}})}),a.jsx("button",{onClick:Ye?()=>Re((U==null?void 0:U.pageNumber)||0):ve,className:"p-2 rounded-lg hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10 transition-colors","aria-label":Ye?"":"",children:Ye?a.jsx(S2,{className:"w-4 h-4",style:{color:"#ff9800"}}):a.jsx(dc,{className:"w-4 h-4",style:{color:Y.text}})})]})]})}),Q&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center sm:justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-2xl p-6 max-w-md w-full mx-4 max-h-[85vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:""}),a.jsx("button",{onClick:()=>E(!1),children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("input",{type:"text",value:L,onChange:F=>_(F.target.value),onKeyPress:F=>{F.key==="Enter"&&ye(L)},placeholder:"...",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})}),D.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[" ",D.length," "]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:W,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300",children:""}),a.jsx("button",{onClick:Be,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300",children:""})]})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:D.map((F,H)=>{var V;return a.jsxs("button",{onClick:()=>Pe(H),className:`w-full text-left px-4 py-2 rounded-lg transition-colors mb-1 ${H===P?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsxs("div",{className:"text-sm font-medium",children:[" ",F.lineIndex+1," "]}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:(V=d[F.lineIndex])==null?void 0:V.substring(Math.max(0,F.charIndex-20),F.charIndex+50)})]},H)})})]}),a.jsx("button",{onClick:()=>ye(L),className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:""})]})}),J&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center sm:justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-2xl p-6 max-w-md w-full mx-4 max-h-[85vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:""}),a.jsx("button",{onClick:()=>j(!1),children:a.jsx(Ze,{className:"w-5 h-5"})})]}),T.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(dc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:""})]}):a.jsx("div",{className:"space-y-2",children:T.map((F,H)=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsxs("button",{onClick:()=>Fe(F.pageNumber),className:"flex-1 text-left",children:[a.jsxs("div",{className:"font-medium",children:[" ",F.pageNumber," "]}),a.jsx("div",{className:"text-sm text-gray-500 truncate mt-1",children:F.preview})]}),a.jsx("button",{onClick:()=>Re(F.pageNumber),className:"ml-2 p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded",children:a.jsx(Ze,{className:"w-4 h-4"})})]},H))})]})}),a.jsx("style",{children:`
        .txt-content {
          ${$()}
        }
        .txt-content mark {
          background-color: yellow;
          color: black;
          padding: 2px 0;
        }
      `})]})}function rN({book:e,position:t,settings:r,onSettingsChange:n,isVisible:s,onToggleTOC:l,onToggleSettings:i,onToggleNotes:o,onPageTurn:c,onMouseEnter:u,onMouseLeave:f}){const[d,h]=g.useState(new Date),[m,p]=g.useState(34);g.useEffect(()=>{const x=()=>{if(!r.showBottomInfoBar){p(0);return}const y=window.innerWidth,v=y<768?34:y<1024?42:48;p(v)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[r.showBottomInfoBar]),g.useEffect(()=>{const x=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(x)},[]);const b={light:{bg:"#ffffff",text:"#000000",border:"#e0e0e0",hover:"rgba(0, 0, 0, 0.05)"},dark:{bg:"#1a1a1a",text:"#ffffff",border:"#404040",hover:"rgba(255, 255, 255, 0.1)"},sepia:{bg:"#f4e4bc",text:"#5c4b37",border:"#d4c49c",hover:"rgba(0, 0, 0, 0.05)"},green:{bg:"#c8e6c9",text:"#2e7d32",border:"#a5d6a7",hover:"rgba(0, 0, 0, 0.05)"}}[r.theme],k=Math.round(t.progress*100);return a.jsxs("div",{className:`fixed left-0 right-0 z-40 transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"}`,style:{bottom:r.showBottomInfoBar?`calc(${m}px + clamp(10px, env(safe-area-inset-bottom, 10px), 34px))`:"0",left:"0",right:"0",backgroundColor:b.bg,borderTop:`1px solid ${b.border}`,boxShadow:s?"0 -2px 8px rgba(0, 0, 0, 0.08)":"none",paddingBottom:r.showBottomInfoBar?"0px":"clamp(10px, env(safe-area-inset-bottom, 10px), 34px)",margin:"0"},onMouseEnter:u,onMouseLeave:f,children:[a.jsx("div",{className:"px-3 pt-2 pb-1.5",children:a.jsx("div",{className:"w-full h-0.5 rounded-full overflow-hidden",style:{backgroundColor:b.border},children:a.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${k}%`,backgroundColor:r.theme==="dark"?"#4a9eff":"#1890ff"}})})}),a.jsxs("div",{className:"flex items-center justify-between px-3 py-1 text-xs",style:{color:b.text,opacity:.75,fontSize:"10px"},children:[a.jsx("span",{className:"truncate max-w-[30%] font-medium",children:e.title||e.file_name}),a.jsxs("span",{className:"mx-2",children:[" ",t.currentPage," / ",t.totalPages," "]}),a.jsx("span",{children:d.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("div",{className:"flex items-center justify-around px-1 pb-2 pt-0.5",children:[a.jsxs("button",{onClick:l,className:"flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors",style:{color:b.text},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=b.hover},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:[a.jsx(oa,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""})]}),a.jsxs("button",{onClick:i,className:"flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors",style:{color:b.text},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=b.hover},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:[a.jsx(Nx,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""})]}),o&&a.jsxs("button",{onClick:o,className:"flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors",style:{color:b.text},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=b.hover},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:[a.jsx(ca,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""})]}),a.jsxs("button",{onClick:()=>{const x=["light","dark","sepia","green"],v=(x.indexOf(r.theme)+1)%x.length;n({...r,theme:x[v]})},className:"flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors",style:{color:b.text},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=b.hover},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:[a.jsx(A2,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""})]}),a.jsxs("button",{onClick:()=>c("prev"),className:"flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors",style:{color:b.text},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=b.hover},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:[a.jsx(Ya,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""})]}),a.jsxs("button",{onClick:()=>c("next"),className:"flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors",style:{color:b.text},onMouseEnter:x=>{x.currentTarget.style.backgroundColor=b.hover},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},"aria-label":"",children:[a.jsx(Xa,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""})]})]})]})}const nN=e=>e<768?34:e<1024?42:48;function aN({book:e,position:t,settings:r}){const[n,s]=g.useState(new Date),[l,i]=g.useState(!1),[o,c]=g.useState(!1);g.useEffect(()=>{const p=()=>{const b=window.innerWidth;i(b<768),c(b>=768&&b<1024)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),g.useEffect(()=>{const p=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(p)},[]);const u={light:{bg:"#ffffff",text:"#000000",border:"#e0e0e0"},dark:{bg:"#1a1a1a",text:"#ffffff",border:"#404040"},sepia:{bg:"#f4e4bc",text:"#5c4b37",border:"#d4c49c"},green:{bg:"#c8e6c9",text:"#2e7d32",border:"#a5d6a7"}}[r.theme],d=((p,b=20)=>p.length<=b?p:p.substring(0,b)+"...")(e.title||e.file_name,20),m=l?{containerPadding:"0px",contentHeight:"24px",fontSize:"11px",pageNumberSize:"11.5px",timeSize:"11px",horizontalPadding:"12px",verticalPadding:"5px"}:o?{containerPadding:"0px",contentHeight:"30px",fontSize:"12px",pageNumberSize:"13px",timeSize:"12px",horizontalPadding:"16px",verticalPadding:"7px"}:{containerPadding:"0px",contentHeight:"32px",fontSize:"13px",pageNumberSize:"14px",timeSize:"13px",horizontalPadding:"24px",verticalPadding:"8px"};return a.jsx("div",{className:"fixed left-0 right-0 z-20",style:{bottom:"0",left:"0",right:"0",backgroundColor:u.bg,borderTop:`1px solid ${u.border}`,boxShadow:"0 -1px 3px rgba(0, 0, 0, 0.05)",margin:"0",paddingBottom:"clamp(10px, env(safe-area-inset-bottom, 10px), 34px)"},children:a.jsxs("div",{className:"flex items-center justify-between",style:{padding:m.containerPadding,paddingLeft:m.horizontalPadding,paddingRight:m.horizontalPadding,paddingTop:m.verticalPadding,paddingBottom:m.verticalPadding,color:u.text,fontSize:m.fontSize,height:m.contentHeight,minHeight:m.contentHeight},children:[a.jsx("div",{className:"flex-shrink-0 truncate",style:{opacity:.65,fontWeight:400,maxWidth:l?"35%":o?"40%":"45%",letterSpacing:"0.02em"},title:e.title||e.file_name,children:d}),a.jsxs("div",{className:"flex-shrink-0 text-center",style:{opacity:.75,fontWeight:500,fontSize:m.pageNumberSize,letterSpacing:"0.01em"},children:[t.currentPage," / ",t.totalPages]}),a.jsx("div",{className:"flex-shrink-0",style:{opacity:.65,fontWeight:400,fontSize:m.timeSize,letterSpacing:"0.02em"},children:n.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1})})]})})}function sN({toc:e,currentChapter:t,onClose:r,onChapterSelect:n}){const s=(l,i,o=0)=>{var c;return a.jsxs("div",{children:[a.jsx("button",{onClick:()=>n(i,l.href),className:`w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${i===t?"bg-blue-100 dark:bg-blue-900":""}`,style:{paddingLeft:`${o*20+16}px`},children:a.jsx("span",{className:"text-sm",children:l.title})}),(c=l.children)==null?void 0:c.map((u,f)=>s(u,f,o+1))]},l.id||i)};return a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-end sm:items-center sm:justify-center",children:a.jsxs("div",{className:"w-full sm:w-96 h-full sm:h-auto sm:max-h-[80vh] bg-white dark:bg-gray-800 rounded-t-lg sm:rounded-lg shadow-lg flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold",children:""}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:""}):a.jsx("div",{className:"py-2",children:e.map((l,i)=>s(l,i))})})]})})}function lN({settings:e,bookType:t,onSettingsChange:r,onClose:n}){const s=(i,o)=>{const c={...e,[i]:o,keyboardShortcuts:{...e.keyboardShortcuts}};r(c)},l={light:{bg:"#ffffff",text:"#000000",border:"#e0e0e0"},dark:{bg:"#1a1a1a",text:"#ffffff",border:"#404040"},sepia:{bg:"#f4e4bc",text:"#5c4b37",border:"#d4c49c"},green:{bg:"#c8e6c9",text:"#2e7d32",border:"#a5d6a7"}}[e.theme];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center md:justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.65)",backdropFilter:"blur(8px)",animation:"fadeIn 0.2s ease-out"},onClick:n,children:a.jsxs("div",{className:"w-full md:w-[90vw] lg:w-[80vw] xl:w-[70vw] max-w-5xl h-[90vh] md:h-auto md:max-h-[85vh] rounded-t-3xl md:rounded-3xl flex flex-col animate-slide-up overflow-hidden",style:{backgroundColor:l.bg,color:l.text,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1)"},onClick:i=>i.stopPropagation(),children:[a.jsx("div",{className:"flex justify-center pt-3 pb-2 md:hidden shrink-0",children:a.jsx("div",{className:"w-10 h-1 rounded-full",style:{backgroundColor:l.border,opacity:.4}})}),a.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-2.5 md:py-3 border-b shrink-0",style:{borderColor:l.border,background:e.theme==="dark"?"linear-gradient(to bottom, rgba(255,255,255,0.03), transparent)":"linear-gradient(to bottom, rgba(0,0,0,0.02), transparent)"},children:[a.jsx("h2",{className:"text-base md:text-lg font-bold",children:""}),a.jsx("button",{onClick:n,className:"p-1.5 md:p-2 rounded-full transition-all hover:scale-110 hover:rotate-90",style:{color:l.text,backgroundColor:e.theme==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=e.theme==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.08)"},onMouseLeave:i=>{i.currentTarget.style.backgroundColor=e.theme==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)"},"aria-label":"",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-3 md:py-4 hide-scrollbar",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},children:[(t==="epub"||t==="txt")&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-4 pb-3 border-b",style:{borderColor:l.border},children:[a.jsxs("div",{className:"text-xs font-bold mb-3 flex items-center gap-2",style:{opacity:.5,letterSpacing:"0.05em"},children:[a.jsx("div",{className:"w-1 h-3 rounded-full bg-gradient-to-b from-blue-500 to-blue-600"}),""]}),a.jsxs("div",{className:"mb-4 md:mb-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-semibold",children:""}),a.jsxs("span",{className:"text-sm font-bold px-2.5 py-0.5 rounded-md",style:{color:"#fff",background:e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)",boxShadow:"0 2px 8px rgba(24, 144, 255, 0.3)"},children:[e.fontSize,"px"]})]}),a.jsx("input",{type:"range",min:"12",max:"32",value:e.fontSize,onChange:i=>s("fontSize",parseInt(i.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${e.theme==="dark"?"#4a9eff":"#1890ff"} 0%, ${e.theme==="dark"?"#4a9eff":"#1890ff"} ${(e.fontSize-12)/20*100}%, ${l.border} ${(e.fontSize-12)/20*100}%, ${l.border} 100%)`}}),a.jsxs("div",{className:"flex justify-between text-[10px] mt-1",style:{opacity:.5},children:[a.jsx("span",{children:"12px "}),a.jsx("span",{children:"32px "})]})]}),a.jsxs("div",{className:"mb-4 md:mb-5",children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:""}),a.jsx("div",{className:"grid grid-cols-4 gap-1.5 md:gap-2",children:[{value:"default",label:""},{value:"serif",label:""},{value:"sans-serif",label:""},{value:"monospace",label:""}].map(i=>a.jsx("button",{onClick:()=>s("fontFamily",i.value),className:`px-2 py-2 md:px-3 md:py-2.5 rounded-lg border transition-all ${e.fontFamily===i.value?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.fontFamily===i.value?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.fontFamily===i.value?"transparent":l.border,color:e.fontFamily===i.value?"#fff":l.text},children:a.jsx("span",{className:"text-xs md:text-sm font-semibold",children:i.label})},i.value))})]}),a.jsxs("div",{className:"mb-4 md:mb-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-semibold",children:""}),a.jsx("span",{className:"text-sm font-bold px-2.5 py-0.5 rounded-md",style:{color:"#fff",background:e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)",boxShadow:"0 2px 8px rgba(24, 144, 255, 0.3)"},children:e.lineHeight.toFixed(1)})]}),a.jsx("input",{type:"range",min:"1.2",max:"3.0",step:"0.1",value:e.lineHeight,onChange:i=>s("lineHeight",parseFloat(i.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${e.theme==="dark"?"#4a9eff":"#1890ff"} 0%, ${e.theme==="dark"?"#4a9eff":"#1890ff"} ${(e.lineHeight-1.2)/1.8*100}%, ${l.border} ${(e.lineHeight-1.2)/1.8*100}%, ${l.border} 100%)`}}),a.jsxs("div",{className:"flex justify-between text-[10px] mt-1",style:{opacity:.5},children:[a.jsx("span",{children:"1.2 "}),a.jsx("span",{children:"3.0 "})]})]}),a.jsxs("div",{className:"mb-4 md:mb-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-semibold",children:""}),a.jsxs("span",{className:"text-sm font-bold px-2.5 py-0.5 rounded-md",style:{color:"#fff",background:e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)",boxShadow:"0 2px 8px rgba(24, 144, 255, 0.3)"},children:[e.margin,"px"]})]}),a.jsx("input",{type:"range",min:"10",max:"50",value:e.margin,onChange:i=>s("margin",parseInt(i.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${e.theme==="dark"?"#4a9eff":"#1890ff"} 0%, ${e.theme==="dark"?"#4a9eff":"#1890ff"} ${(e.margin-10)/40*100}%, ${l.border} ${(e.margin-10)/40*100}%, ${l.border} 100%)`}}),a.jsxs("div",{className:"flex justify-between text-[10px] mt-1",style:{opacity:.5},children:[a.jsx("span",{children:"10px "}),a.jsx("span",{children:"50px "})]})]}),a.jsxs("div",{className:"mb-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-semibold",children:""}),a.jsxs("span",{className:"text-sm font-bold px-2.5 py-0.5 rounded-md",style:{color:"#fff",background:e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)",boxShadow:"0 2px 8px rgba(24, 144, 255, 0.3)"},children:[e.textIndent,"em"]})]}),a.jsx("input",{type:"range",min:"0",max:"4",step:"0.5",value:e.textIndent,onChange:i=>s("textIndent",parseFloat(i.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${e.theme==="dark"?"#4a9eff":"#1890ff"} 0%, ${e.theme==="dark"?"#4a9eff":"#1890ff"} ${e.textIndent/4*100}%, ${l.border} ${e.textIndent/4*100}%, ${l.border} 100%)`}}),a.jsxs("div",{className:"flex justify-between text-[10px] mt-1",style:{opacity:.5},children:[a.jsx("span",{children:"0em "}),a.jsx("span",{children:"4em "})]})]})]})}),a.jsxs("div",{className:"mb-4 pb-3 border-b",style:{borderColor:l.border},children:[a.jsxs("div",{className:"text-xs font-bold mb-3 flex items-center gap-2",style:{opacity:.5,letterSpacing:"0.05em"},children:[a.jsx("div",{className:"w-1 h-3 rounded-full bg-gradient-to-b from-green-500 to-green-600"}),""]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:""}),a.jsx("div",{className:"grid grid-cols-4 gap-1.5 md:gap-2",children:[{value:"light",label:"",preview:"#ffffff",border:"#e5e7eb"},{value:"dark",label:"",preview:"#1a1a1a",border:"#374151"},{value:"sepia",label:"",preview:"#f4e4bc",border:"#d4c49c"},{value:"green",label:"",preview:"#c8e6c9",border:"#a5d6a7"}].map(i=>a.jsxs("button",{onClick:()=>s("theme",i.value),className:`px-2 py-2 rounded-lg transition-all flex flex-col items-center gap-1.5 ${e.theme===i.value?"shadow-lg scale-[1.05]":"hover:scale-[1.02]"}`,style:{backgroundColor:i.preview,border:e.theme===i.value?"2px solid #1890ff":`1px solid ${i.border}`,boxShadow:e.theme===i.value?"0 0 0 3px rgba(24, 144, 255, 0.2), 0 4px 12px rgba(0, 0, 0, 0.15)":"none"},children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg shadow-md flex items-center justify-center text-xl",style:{backgroundColor:i.preview,border:`2px solid ${i.border}`,color:i.value==="light"?"#000":i.value==="dark"?"#fff":"#5c4b37"},children:"Aa"}),a.jsx("span",{className:"text-[10px] md:text-xs font-semibold",style:{color:i.value==="light"?"#000":i.value==="dark"?"#fff":"#5c4b37"},children:i.label})]},i.value))})]})]}),a.jsxs("div",{className:"mb-4 pb-3 border-b",style:{borderColor:l.border},children:[a.jsxs("div",{className:"text-xs font-bold mb-3 flex items-center gap-2",style:{opacity:.5,letterSpacing:"0.05em"},children:[a.jsx("div",{className:"w-1 h-3 rounded-full bg-gradient-to-b from-orange-500 to-orange-600"}),""]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-1.5 md:gap-2",children:[a.jsx("button",{onClick:()=>s("pageTurnMethod","swipe"),className:`px-3 py-2.5 md:py-3 rounded-lg border transition-all ${e.pageTurnMethod==="swipe"?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.pageTurnMethod==="swipe"?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.pageTurnMethod==="swipe"?"transparent":l.border,color:e.pageTurnMethod==="swipe"?"#fff":l.text},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold mb-0.5",children:""}),a.jsx("div",{className:"text-[10px] md:text-xs",style:{opacity:e.pageTurnMethod==="swipe"?.9:.6},children:"  "})]})}),a.jsx("button",{onClick:()=>s("pageTurnMethod","click"),className:`px-3 py-2.5 md:py-3 rounded-lg border transition-all ${e.pageTurnMethod==="click"?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.pageTurnMethod==="click"?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.pageTurnMethod==="click"?"transparent":l.border,color:e.pageTurnMethod==="click"?"#fff":l.text},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold mb-0.5",children:""}),a.jsx("div",{className:"text-[10px] md:text-xs",style:{opacity:e.pageTurnMethod==="click"?.9:.6},children:""})]})})]})]}),e.pageTurnMethod==="click"&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-1.5 md:gap-2",children:[a.jsx("button",{onClick:()=>s("pageTurnMode","horizontal"),className:`px-3 py-2.5 rounded-lg border transition-all ${e.pageTurnMode==="horizontal"?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.pageTurnMode==="horizontal"?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.pageTurnMode==="horizontal"?"transparent":l.border,color:e.pageTurnMode==="horizontal"?"#fff":l.text},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold mb-0.5",children:""}),a.jsx("div",{className:"text-[10px]",style:{opacity:e.pageTurnMode==="horizontal"?.9:.6},children:"/"})]})}),a.jsx("button",{onClick:()=>s("pageTurnMode","vertical"),className:`px-3 py-2.5 rounded-lg border transition-all ${e.pageTurnMode==="vertical"?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.pageTurnMode==="vertical"?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.pageTurnMode==="vertical"?"transparent":l.border,color:e.pageTurnMode==="vertical"?"#fff":l.text},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold mb-0.5",children:""}),a.jsx("div",{className:"text-[10px]",style:{opacity:e.pageTurnMode==="vertical"?.9:.6},children:"/"})]})})]})]}),a.jsx("div",{className:"mb-0",children:a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 rounded-lg border",style:{borderColor:l.border,background:e.showBottomInfoBar?e.theme==="dark"?"linear-gradient(135deg, rgba(74, 158, 255, 0.12) 0%, rgba(37, 99, 235, 0.08) 100%)":"linear-gradient(135deg, rgba(24, 144, 255, 0.08) 0%, rgba(13, 95, 191, 0.05) 100%)":e.theme==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold block",children:""}),a.jsx("div",{className:"text-[10px] mt-0.5",style:{opacity:.6},children:"    "})]}),a.jsx("button",{onClick:()=>s("showBottomInfoBar",!e.showBottomInfoBar),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-all shadow-md ${e.showBottomInfoBar?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gray-300 dark:bg-gray-600"}`,"aria-label":"",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${e.showBottomInfoBar?"translate-x-6":"translate-x-1"}`})})]})})]}),a.jsxs("div",{className:"mb-4 hidden md:block",children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>s("readerWidth","centered"),className:`px-3 py-2.5 rounded-lg border transition-all ${e.readerWidth==="centered"?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.readerWidth==="centered"?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.readerWidth==="centered"?"transparent":l.border,color:e.readerWidth==="centered"?"#fff":l.text},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold mb-0.5",children:""}),a.jsx("div",{className:"text-[10px]",style:{opacity:e.readerWidth==="centered"?.9:.6},children:"980px "})]})}),a.jsx("button",{onClick:()=>s("readerWidth","full"),className:`px-3 py-2.5 rounded-lg border transition-all ${e.readerWidth==="full"?"shadow-lg scale-[1.02]":"hover:scale-[1.02]"}`,style:{background:e.readerWidth==="full"?e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)":e.theme==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)",borderColor:e.readerWidth==="full"?"transparent":l.border,color:e.readerWidth==="full"?"#fff":l.text},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-bold mb-0.5",children:""}),a.jsx("div",{className:"text-[10px]",style:{opacity:e.readerWidth==="full"?.9:.6},children:""})]})})]})]}),t==="pdf"&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-semibold",children:"PDF"}),a.jsxs("span",{className:"text-sm font-bold px-2.5 py-0.5 rounded-md",style:{color:"#fff",background:e.theme==="dark"?"linear-gradient(135deg, #4a9eff 0%, #2563eb 100%)":"linear-gradient(135deg, #1890ff 0%, #0d5fbf 100%)",boxShadow:"0 2px 8px rgba(24, 144, 255, 0.3)"},children:[(e.fontSize/10).toFixed(1),"x"]})]}),a.jsx("input",{type:"range",min:"0.5",max:"3.0",step:"0.1",value:e.fontSize/10,onChange:i=>s("fontSize",parseFloat(i.target.value)*10),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${e.theme==="dark"?"#4a9eff":"#1890ff"} 0%, ${e.theme==="dark"?"#4a9eff":"#1890ff"} ${(e.fontSize/10-.5)/2.5*100}%, ${l.border} ${(e.fontSize/10-.5)/2.5*100}%, ${l.border} 100%)`}}),a.jsxs("div",{className:"flex justify-between text-[10px] mt-1",style:{opacity:.5},children:[a.jsx("span",{children:"0.5x "}),a.jsx("span",{children:"3.0x "})]})]})]})]})})}function iN({bookId:e,currentPage:t,currentChapterIndex:r,selectedText:n,isVisible:s,onClose:l,onNoteClick:i}){const[o,c]=g.useState([]),[u,f]=g.useState(!1),[d,h]=g.useState(!1),[m,p]=g.useState(!1),[b,k]=g.useState(null),[x,y]=g.useState(""),[v,w]=g.useState("");g.useEffect(()=>{s&&e&&C()},[s,e]),g.useEffect(()=>{d&&n&&w(n)},[d,n]);const C=async()=>{var L,_;try{f(!0);const D=await le.get(`/notes/book/${e}`);c(D.data.notes||[])}catch(D){console.error(":",D),R.error(((_=(L=D.response)==null?void 0:L.data)==null?void 0:_.error)||"")}finally{f(!1)}},S=async()=>{var L,_;if(!x.trim()){R.error("");return}try{await le.post("/notes",{bookId:e,content:x,pageNumber:t,chapterIndex:r,selectedText:v||null}),R.success(""),h(!1),y(""),w(""),C()}catch(D){console.error(":",D),R.error(((_=(L=D.response)==null?void 0:L.data)==null?void 0:_.error)||"")}},O=async()=>{var L,_;if(!b||!x.trim()){R.error("");return}try{await le.put(`/notes/${b.id}`,{content:x,selectedText:v||null}),R.success(""),p(!1),k(null),y(""),w(""),C()}catch(D){console.error(":",D),R.error(((_=(L=D.response)==null?void 0:L.data)==null?void 0:_.error)||"")}},A=async L=>{var _,D;if(confirm(""))try{await le.delete(`/notes/${L}`),R.success(""),C()}catch(z){console.error(":",z),R.error(((D=(_=z.response)==null?void 0:_.data)==null?void 0:D.error)||"")}},Q=L=>{k(L),y(L.content),w(L.selected_text||""),p(!0)},E=()=>{y(""),w(n||""),h(!0)};return s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:l}),a.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-full max-w-md bg-white dark:bg-gray-800 shadow-xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[a.jsx(ca,{className:"w-5 h-5"}),""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:E,className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"",children:a.jsx(kx,{className:"w-5 h-5"})}),a.jsx("button",{onClick:l,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded-lg transition-colors",children:a.jsx(Ze,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})]}):a.jsx("div",{className:"space-y-3",children:o.map(L=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>i==null?void 0:i(L),children:[L.selected_text&&a.jsxs("div",{className:"mb-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm text-gray-600 dark:text-gray-400 italic border-l-2 border-blue-500",children:['"',L.selected_text,'"']}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2 line-clamp-3 whitespace-pre-wrap",children:L.content}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{children:[L.page_number&&` ${L.page_number} `,L.page_number&&L.chapter_index!==void 0&&"  ",L.chapter_index!==void 0&&` ${L.chapter_index+1}`]}),a.jsx("span",{children:new Date(L.created_at).toLocaleDateString("zh-CN")})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:_=>{_.stopPropagation(),Q(L)},className:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"",children:a.jsx(rl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:_=>{_.stopPropagation(),A(L.id)},className:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"",children:a.jsx(ar,{className:"w-4 h-4"})})]})]},L.id))})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold",children:""}),a.jsx("button",{onClick:()=>{h(!1),y(""),w("")},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),v&&a.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm text-gray-600 dark:text-gray-400 italic border-l-2 border-blue-500",children:['"',v,'"']}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:" *"}),a.jsx("textarea",{placeholder:"...",value:x,onChange:L=>y(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 resize-none",rows:6,autoFocus:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{h(!1),y(""),w("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:""}),a.jsxs("button",{onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(nl,{className:"w-4 h-4"}),""]})]})]})})}),m&&b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold",children:""}),a.jsx("button",{onClick:()=>{p(!1),k(null),y(""),w("")},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),v&&a.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm text-gray-600 dark:text-gray-400 italic border-l-2 border-blue-500",children:['"',v,'"']}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:" *"}),a.jsx("textarea",{placeholder:"...",value:x,onChange:L=>y(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 resize-none",rows:6,autoFocus:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{p(!1),k(null),y(""),w("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:""}),a.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(nl,{className:"w-4 h-4"}),""]})]})]})})})]}):null}function oN({selectedText:e,position:t,onAddNote:r,onClose:n}){const s=g.useRef(null),[l,i]=g.useState(t);return g.useEffect(()=>{if(!s.current)return;const c=s.current.getBoundingClientRect(),u=window.innerWidth,f=window.innerHeight;let d=t.x,h=t.y;d+c.width>u&&(d=u-c.width-10),d<10&&(d=10),h+c.height>f&&(h=t.y-c.height-10),h<10&&(h=10),i({x:d,y:h})},[t]),a.jsxs("div",{ref:s,className:"fixed z-50 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex items-center gap-2 p-2",style:{left:`${l.x}px`,top:`${l.y}px`},children:[a.jsxs("button",{onClick:()=>{r(e),n()},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors text-sm",title:"",children:[a.jsx(ca,{className:"w-4 h-4"}),""]}),a.jsx("button",{onClick:n,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded transition-colors",title:"",children:a.jsx(Ze,{className:"w-4 h-4"})})]})}function cN({config:e}){const[t,r]=g.useState(!1),[n,s]=g.useState(!1),[l,i]=g.useState(!1),[o,c]=g.useState(!1),[u,f]=g.useState(""),[d,h]=g.useState(null),[m,p]=g.useState(!1),[,b]=g.useState([]),[k,x]=g.useState({currentPage:1,totalPages:1,progress:0}),[y,v]=g.useState([]),[w,C]=g.useState(34),S=g.useRef(null),O=g.useRef(null),[A,Q]=g.useState(!1);g.useEffect(()=>{const re=()=>{const N=navigator.userAgent.toLowerCase(),Z=/iphone|ipad|ipod/.test(N),pe=/android/.test(N),ke=Z||pe||window.innerWidth<=768;Q(ke)};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),g.useEffect(()=>{const re=()=>{const N=nN(window.innerWidth);C(N)};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),g.useEffect(()=>()=>{S.current&&clearTimeout(S.current)},[]);const E=g.useCallback(()=>{r(!0),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{r(!1)},3e3)},[]),L=g.useCallback(()=>{r(!1),S.current&&clearTimeout(S.current)},[]),_=g.useCallback(()=>{t?(L(),i(!1)):(E(),i(!1))},[t,E,L]),D=g.useCallback(re=>{var $e;if(re.target!==re.currentTarget)return;const N=($e=O.current)==null?void 0:$e.getBoundingClientRect();if(!N)return;const Z=re.clientX-N.left,pe=re.clientY-N.top,ke=N.width*.3,Le=N.width*.7,_e=N.height*.3,Ge=N.height*.7;Z>=ke&&Z<=Le&&pe>=_e&&pe<=Ge&&_()},[_]),z=g.useCallback((re,N)=>{x(N),e.onProgressChange(re,N)},[e]),P=g.useCallback(re=>{var N;f(re),c(!0),p(!1),(N=window.getSelection())==null||N.removeAllRanges()},[]),B=g.useCallback(re=>{window.__readerPageTurn&&window.__readerPageTurn(re)},[]),T=()=>{switch(e.book.file_type){case"epub":return a.jsx(Y2,{book:e.book,settings:e.settings,initialPosition:e.initialPosition,onSettingsChange:e.onSettingsChange,onProgressChange:z,onTOCChange:v,onClose:e.onClose});case"pdf":return a.jsx(eN,{book:e.book,settings:e.settings,initialPosition:e.initialPosition,onSettingsChange:e.onSettingsChange,onProgressChange:z,onTOCChange:v,onClose:e.onClose});case"txt":return a.jsx(tN,{book:e.book,settings:e.settings,initialPosition:e.initialPosition,onSettingsChange:e.onSettingsChange,onProgressChange:z,onTOCChange:v,onClose:e.onClose});default:return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg mb-2",children:""}),a.jsx("p",{className:"text-sm text-gray-500",children:e.book.file_type})]})})}},M={light:{bg:"#ffffff",text:"#000000"},dark:{bg:"#1a1a1a",text:"#ffffff"},sepia:{bg:"#f4e4bc",text:"#5c4b37"},green:{bg:"#c8e6c9",text:"#2e7d32"}}[e.settings.theme];g.useEffect(()=>{const re=document.documentElement.style.backgroundColor,N=document.body.style.backgroundColor;return document.documentElement.style.backgroundColor=M.bg,document.body.style.backgroundColor=M.bg,()=>{document.documentElement.style.backgroundColor=re,document.body.style.backgroundColor=N}},[M.bg]),g.useEffect(()=>(window.__toggleReaderNavigation=_,()=>{delete window.__toggleReaderNavigation}),[_]),g.useEffect(()=>{const re=async()=>{try{const Z=await(await ta(async()=>{const{default:pe}=await Promise.resolve().then(()=>yx);return{default:pe}},void 0)).default.get(`/notes/book/${e.book.id}`);b(Z.data.notes||[])}catch(N){console.error(":",N)}};e.book.id&&re()},[e.book.id]),g.useEffect(()=>{const re=Z=>{const pe=window.getSelection();if(!pe||pe.isCollapsed){p(!1);return}const ke=pe.toString().trim();if(!ke){p(!1);return}const _e=pe.getRangeAt(0).getBoundingClientRect();f(ke),h({x:_e.left+_e.width/2,y:_e.top-10}),p(!0)},N=Z=>{if(!Z.target.closest(".text-selection-toolbar")){const pe=window.getSelection();pe&&pe.isCollapsed&&p(!1)}};return document.addEventListener("mouseup",re),document.addEventListener("click",N),()=>{document.removeEventListener("mouseup",re),document.removeEventListener("click",N)}},[]);const J=()=>A?"clamp(20px, env(safe-area-inset-top, 20px), 44px)":"0px",j=()=>A?J():"0px",te=()=>"48px";return a.jsxs("div",{ref:O,className:"relative flex flex-col overflow-hidden",onClick:D,style:{backgroundColor:M.bg,color:M.text,width:"100%",height:"100vh",minHeight:"100vh",paddingTop:J()},children:[a.jsx("div",{className:"absolute left-0 right-0 z-30",style:{top:j(),height:"48px",minHeight:"48px",backgroundColor:M.bg,borderBottom:`1px solid ${e.settings.theme==="dark"?"#404040":"#e0e0e0"}`},children:a.jsxs("div",{className:"flex items-center justify-between px-4 h-full",style:{minHeight:"48px"},children:[a.jsx("button",{onClick:e.onClose,className:"p-2 hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10 rounded-lg transition-colors","aria-label":"",children:a.jsx(Lu,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 text-center px-4",children:[a.jsx("h1",{className:"text-sm font-medium truncate max-w-xs mx-auto",children:e.book.title||e.book.file_name}),(()=>{if(k.chapterTitle)return a.jsx("p",{className:"text-xs opacity-70 mt-1 truncate max-w-xs mx-auto",children:k.chapterTitle});const re=(Z,pe)=>{for(const ke of Z){if(ke.chapterIndex===pe)return ke;if(ke.children&&ke.children.length>0){const Le=re(ke.children,pe);if(Le)return Le}}return null};let N="";if(k.chapterIndex!==void 0&&k.chapterIndex>=0){const Z=re(y,k.chapterIndex);if(Z)N=Z.title;else{const pe=y[k.chapterIndex];pe&&(N=pe.title)}}return N?a.jsx("p",{className:"text-xs opacity-70 mt-1 truncate max-w-xs mx-auto",children:N}):null})()]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:()=>{t?(L(),i(!1)):(E(),i(!1))},className:"p-2 hover:bg-opacity-10 hover:bg-black dark:hover:bg-white dark:hover:bg-opacity-10 rounded-lg transition-colors","aria-label":"",children:a.jsx(al,{className:"w-5 h-5"})})})]})}),a.jsx("div",{className:"flex-1 relative overflow-hidden w-full",style:{minHeight:0,paddingTop:te(),paddingBottom:e.settings.showBottomInfoBar?t?`calc(${w}px + 82px + clamp(10px, env(safe-area-inset-bottom, 10px), 34px))`:`calc(${w}px + clamp(10px, env(safe-area-inset-bottom, 10px), 34px))`:t?"calc(82px + clamp(10px, env(safe-area-inset-bottom, 10px), 34px))":"clamp(10px, env(safe-area-inset-bottom, 10px), 34px)"},children:T()}),e.settings.showBottomInfoBar&&a.jsx(aN,{book:e.book,position:k,settings:e.settings}),a.jsx(rN,{book:e.book,position:k,settings:e.settings,onSettingsChange:e.onSettingsChange,isVisible:t,onToggleTOC:()=>{s(!n),E()},onToggleSettings:()=>{i(!l),t?L():E()},onToggleNotes:()=>{c(!o),E()},onPageTurn:B,onMouseEnter:()=>{S.current&&clearTimeout(S.current)},onMouseLeave:()=>{t&&(S.current=setTimeout(()=>{L()},3e3))}}),n&&a.jsx(sN,{toc:y,currentChapter:k.chapterIndex||0,onClose:()=>s(!1),onChapterSelect:(re,N)=>{if(e.book.file_type==="pdf"&&N)window.__pdfHandleTOCClick&&window.__pdfHandleTOCClick(N);else if(e.book.file_type==="epub"&&N)window.__epubGoToChapter&&window.__epubGoToChapter(N);else if(e.book.file_type==="txt"&&N){const Z=N.match(/page=(\d+)/);if(Z&&window.__txtGoToPage){const pe=parseInt(Z[1],10);window.__txtGoToPage(pe)}}s(!1)}}),l&&a.jsx(lN,{settings:e.settings,bookType:e.book.file_type,onSettingsChange:e.onSettingsChange,onClose:()=>i(!1)}),o&&a.jsx(iN,{bookId:e.book.id,currentPage:k.currentPage,currentChapterIndex:k.chapterIndex,selectedText:u,isVisible:o,onClose:()=>{c(!1),f("")},onNoteClick:re=>{c(!1)}}),m&&d&&a.jsx("div",{className:"text-selection-toolbar",children:a.jsx(oN,{selectedText:u,position:d,onAddNote:P,onClose:()=>{var re;p(!1),(re=window.getSelection())==null||re.removeAllRanges()}})})]})}const gn={fontSize:18,fontFamily:"default",lineHeight:1.8,theme:"light",brightness:100,margin:20,textIndent:2,pageTurnMode:"vertical",pageTurnMethod:"click",clickToTurn:!0,showBottomInfoBar:!0,readerWidth:"centered",keyboardShortcuts:{prev:"ArrowLeft",next:"ArrowRight"}};function uN(){const{bookId:e}=Rg(),t=It(),{isAuthenticated:r}=At(),[n,s]=g.useState(null),[l,i]=g.useState(!0),[o,c]=g.useState(gn),[u,f]=g.useState(),[d,h]=g.useState(null),m=async()=>{try{const x=localStorage.getItem("reading-settings");if(x)try{const y=JSON.parse(x),v={...gn,...y,keyboardShortcuts:{...gn.keyboardShortcuts,...y.keyboardShortcuts||{}}};c(v)}catch(y){console.error("ReaderNew: ",y),c(gn)}else c(gn)}catch(x){console.error("ReaderNew: ",x),c(gn)}},p=async x=>{const y={...gn,...x,keyboardShortcuts:{...gn.keyboardShortcuts,...x.keyboardShortcuts||{}}};c(y);try{localStorage.setItem("reading-settings",JSON.stringify(y))}catch(v){console.error("ReaderNew: ",v)}};g.useEffect(()=>{(async()=>{if(e)try{i(!0);const v=(await le.get(`/books/${e}`)).data.book;if(!v){R.error(""),setTimeout(()=>t(-1),1e3);return}if(s(v),await m(),r)try{const w=await le.post("/reading/history/session",{bookId:e,startTime:new Date().toISOString()});w.data.sessionId&&h(w.data.sessionId)}catch(w){console.error("ReaderNew: ",w)}if(r)try{const w=await le.get(`/reading/progress/${e}`);if(w.data.progress){const C=w.data.progress,S={chapterIndex:C.chapter_index||0,currentPage:C.current_page||1,totalPages:C.total_pages||1,scrollTop:C.scroll_top||0,progress:C.progress||0};C.current_position&&(S.currentLocation=C.current_position),f(S)}}catch(w){console.error("ReaderNew: ",w)}else try{const w=localStorage.getItem(`reading-position-${e}`);if(w){const C=JSON.parse(w);C.position&&f(C.position)}}catch(w){console.error("ReaderNew: localStorage",w)}i(!1)}catch(y){console.error(":",y),R.error(`: ${y.message||""}`),i(!1)}})()},[e,r,t]),g.useEffect(()=>()=>{r&&d&&e&&(async()=>{var y;try{let v=0;try{v=((y=(await le.get(`/reading/progress/${e}`)).data)==null?void 0:y.progress)||0}catch{}await le.put(`/reading/history/session/${d}`,{endTime:new Date().toISOString(),progressAfter:v})}catch(v){console.error("ReaderNew: ",v)}})().catch(()=>{})},[r,d,e]);const b=async(x,y)=>{if(e&&!(typeof x!="number"||isNaN(x)||x<0||x>1))if(r)try{await le.post("/reading/progress",{bookId:e,progress:x,currentPosition:y.currentLocation||null,currentPage:y.currentPage||1,totalPages:y.totalPages||1,chapterIndex:y.chapterIndex||0,scrollTop:y.scrollTop||0,clientTimestamp:new Date().toISOString()})}catch(v){console.error("ReaderNew: ",v);try{localStorage.setItem(`reading-position-${e}`,JSON.stringify({progress:x,position:y,timestamp:Date.now()}))}catch(w){console.error("ReaderNew: localStorage",w)}}else try{localStorage.setItem(`reading-position-${e}`,JSON.stringify({progress:x,position:y,timestamp:Date.now()}))}catch(v){console.error("ReaderNew: localStorage",v)}};if(l)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{children:"..."})]})});if(!n)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-500 mb-4",children:""}),a.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})});const k={book:n,settings:o,initialPosition:u,onSettingsChange:p,onProgressChange:b,onClose:()=>t(-1)};return a.jsx(cN,{config:k})}function dN(){const{isAuthenticated:e}=At(),[t,r]=g.useState(!1),[n,s]=g.useState(""),[l,i]=g.useState(!1),[o,c]=g.useState([]),[u,f]=g.useState(!1),[d,h]=g.useState({current:0,total:0}),[m,p]=g.useState([]),[b,k]=g.useState(!1),[x,y]=g.useState({current:0,total:0}),[v,w]=g.useState(!0),[C,S]=g.useState(!0),[O,A]=g.useState(!0),[Q,E]=g.useState(!0),[L,_]=g.useState(""),[D,z]=g.useState(!1),[P,B]=g.useState([]),[T,M]=g.useState(!1),[J,j]=g.useState(!1);g.useEffect(()=>{e&&T&&te()},[e,T]);const te=async()=>{j(!0);try{const $=await le.get("/scan/import-history?limit=50");B($.data.history||[])}catch($){console.error(":",$)}finally{j(!1)}},re=async()=>{var $,ue;if(window.confirm(""))try{await le.delete("/scan/import-history"),B([]),R.success("")}catch(Ce){R.error(((ue=($=Ce.response)==null?void 0:$.data)==null?void 0:ue.error)||"")}},N=async $=>{var Ce,Te,ye;const ue=(Ce=$.target.files)==null?void 0:Ce[0];if(ue){r(!0);try{const Pe=new FormData;Pe.append("file",ue),Pe.append("isPublic",String(Q)),Pe.append("autoConvertTxt",String(v)),Pe.append("autoConvertMobi",String(C)),Pe.append("category",L),await le.post("/books/upload",Pe,{headers:{"Content-Type":"multipart/form-data"}}),R.success(""),$.target.value="",T&&te()}catch(Pe){R.error(((ye=(Te=Pe.response)==null?void 0:Te.data)==null?void 0:ye.error)||"")}finally{r(!1)}}},Z=$=>{const ue=$.target.files;if(!ue||ue.length===0)return;const Ce=Array.from(ue).map(Te=>{var ye;return{file:Te,name:Te.name,size:Te.size,ext:((ye=Te.name.split(".").pop())==null?void 0:ye.toLowerCase())||"",selected:!0}});p(Te=>[...Te,...Ce]),R.success(` ${ue.length} `),$.target.value=""},pe=$=>{const ue=[...m];ue[$].selected=!ue[$].selected,p(ue)},ke=()=>{const $=m.every(ue=>ue.selected);p(m.map(ue=>({...ue,selected:!$})))},Le=async()=>{var Te,ye,Pe,Be;const $=m.filter(W=>W.selected);if($.length===0){R.error("");return}k(!0),y({current:0,total:$.length});let ue=0,Ce=0;try{for(let W=0;W<$.length;W++){const ee=$[W];try{y({current:W+1,total:$.length});const ve=new FormData;ve.append("file",ee.file),ve.append("isPublic",String(Q)),ve.append("autoConvertTxt",String(v)),ve.append("autoConvertMobi",String(C)),ve.append("category",L),await le.post("/books/upload",ve,{headers:{"Content-Type":"multipart/form-data"}}),ue++,R.success(` ${ee.name}`,{duration:2e3})}catch(ve){console.error(` ${ee.name}:`,ve),Ce++,R.error(` ${ee.name}: ${((ye=(Te=ve.response)==null?void 0:Te.data)==null?void 0:ye.error)||""}`,{duration:3e3})}}ue>0&&R.success(` ${ue} `),Ce>0&&R.error(` ${Ce} `),p(m.filter(W=>!W.selected)),T&&te()}catch(W){R.error(((Be=(Pe=W.response)==null?void 0:Pe.data)==null?void 0:Be.error)||"")}finally{k(!1),y({current:0,total:0})}},_e=$=>{p(m.filter((ue,Ce)=>Ce!==$))},Ge=async()=>{var $,ue,Ce,Te,ye;if(!n.trim()){R.error("");return}i(!0),c([]);try{let Pe=n.trim();Pe=Pe.replace(/^['"]|['"]$/g,"").trim();const Be=await le.post("/scan/scan-list",{scanPath:Pe}),W=(Be.data.files||[]).map(ve=>({...ve,selected:!0}));c(W);const ee=Be.data.errors||0;ee>0?R.success(` ${W.length} ${ee} `,{duration:4e3}):R.success(` ${W.length} `)}catch(Pe){const Be=((ue=($=Pe.response)==null?void 0:$.data)==null?void 0:ue.error)||((Te=(Ce=Pe.response)==null?void 0:Ce.data)==null?void 0:Te.message)||"";console.error(":",(ye=Pe.response)==null?void 0:ye.data),R.error(Be)}finally{i(!1)}},$e=$=>{const ue=[...o];ue[$].selected=!ue[$].selected,c(ue)},ft=()=>{const $=o.every(ue=>ue.selected);c(o.map(ue=>({...ue,selected:!$})))},me=async()=>{var ye,Pe;const $=o.filter(Be=>Be.selected);if($.length===0){R.error("");return}f(!0),h({current:0,total:$.length});let ue=0,Ce=0,Te=0;try{for(let Be=0;Be<$.length;Be++){const W=$[Be];try{h({current:Be+1,total:$.length});const ee=await le.post("/scan/import-batch",{files:[{path:W.path,name:W.name}],autoConvertTxt:v,autoConvertMobi:C,autoFetchDouban:O,isPublic:Q,category:L,deleteSource:D});ee.data.imported>0&&(ue+=ee.data.imported),ee.data.skipped>0&&(Ce+=ee.data.skipped),ee.data.failed>0&&(Te+=ee.data.failed)}catch(ee){console.error(` ${W.name}:`,ee),Te++}}ue>0&&R.success(` ${ue} `),Ce>0&&R(` ${Ce} `,{icon:""}),Te>0&&R.error(` ${Te} `),c(o.filter(Be=>!Be.selected)),T&&te()}catch(Be){R.error(((Pe=(ye=Be.response)==null?void 0:ye.data)==null?void 0:Pe.error)||"")}finally{f(!1),h({current:0,total:0})}},fe=$=>$<1024?$+" B":$<1024*1024?($/1024).toFixed(2)+" KB":($/(1024*1024)).toFixed(2)+" MB",se=$=>new Date($).toLocaleString("zh-CN");if(!e)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})});const K=o.filter($=>$.selected).length,oe=m.filter($=>$.selected).length,ce=$=>{switch($){case"success":return a.jsx(Bi,{className:"w-4 h-4 text-green-500"});case"skipped":return a.jsx(Wi,{className:"w-4 h-4 text-yellow-500"});case"error":return a.jsx(Wi,{className:"w-4 h-4 text-red-500"});default:return null}},be=$=>{switch($){case"success":return"text-green-600 dark:text-green-400";case"skipped":return"text-yellow-600 dark:text-yellow-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}};return a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""})]}),a.jsxs("button",{onClick:()=>M(!T),className:"btn btn-secondary flex items-center gap-2",children:[a.jsx(ci,{className:"w-4 h-4"}),T?"":""]})]}),a.jsxs("div",{className:"card bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-pink-900/20 border-2 border-blue-200 dark:border-blue-700 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:a.jsx(rn,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:L,onChange:$=>_($.target.value),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white appearance-none cursor-pointer transition-all hover:border-blue-400",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:O,onChange:$=>A($.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" "})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:Q,onChange:$=>E($.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" "})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7",children:Q?" ":" "})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:$=>w($.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" TXTEPUB"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7",children:"TXTEPUB"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:$=>S($.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" MOBIEPUB"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7",children:"MOBIEPUB Calibre"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:D,onChange:$=>z($.target.checked),className:"w-5 h-5 rounded border-gray-300 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors",children:" "})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-7",children:D?" ":" "})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(nn,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(nn,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:" EPUB, PDF, TXT, MOBI"})]}),a.jsx("input",{type:"file",className:"hidden",accept:".epub,.pdf,.txt,.mobi",onChange:N,disabled:t})]})]}),t&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(xs,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"..."})]})]})]}),a.jsxs("div",{className:"card bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-2 border-purple-200 dark:border-purple-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(rn,{className:"w-6 h-6 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-purple-300 dark:border-purple-700 rounded-lg cursor-pointer hover:border-purple-500 transition-colors bg-white dark:bg-gray-800",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(rn,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),a.jsx("input",{type:"file",className:"hidden",accept:".epub,.pdf,.txt,.mobi",multiple:!0,onChange:Z,disabled:b})]})]}),m.length>0&&a.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:a.jsxs("p",{children:["  ",m.length," "]})})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Iu,{className:"w-6 h-6 text-green-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"input flex-1",placeholder:": /app/scan",value:n,onChange:$=>s($.target.value),onKeyPress:$=>{$.key==="Enter"&&Ge()}}),a.jsx("button",{onClick:Ge,disabled:l,className:"btn btn-primary",children:l?a.jsxs(a.Fragment,{children:[a.jsx(xs,{className:"w-4 h-4 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wx,{className:"w-4 h-4"}),""]})})]})]})})]})]}),m.length>0&&a.jsxs("div",{className:"card mt-6 bg-gradient-to-br from-purple-50/50 to-pink-50/50 dark:from-purple-900/10 dark:to-pink-900/10 border-2 border-purple-200 dark:border-purple-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rn,{className:"w-5 h-5 text-purple-600"}),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:[" (",m.length," )"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:ke,className:"text-sm text-purple-600 hover:text-purple-700 dark:text-purple-400",children:m.every($=>$.selected)?"":""}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",oe," "]}),a.jsx("button",{onClick:Le,disabled:b||oe===0,className:"btn btn-primary bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:b?a.jsxs(a.Fragment,{children:[a.jsx(xs,{className:"w-4 h-4 animate-spin"})," (",x.current,"/",x.total,")..."]}):a.jsxs(a.Fragment,{children:[a.jsx(nn,{className:"w-4 h-4"})," (",oe,")"]})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-purple-200 dark:border-purple-800",children:[a.jsx("th",{className:"text-left py-3 px-4",children:a.jsx("input",{type:"checkbox",checked:m.every($=>$.selected),onChange:ke,className:"w-4 h-4"})}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""})]})}),a.jsx("tbody",{children:m.map(($,ue)=>a.jsxs("tr",{className:"border-b border-purple-100 dark:border-purple-900/50 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("input",{type:"checkbox",checked:$.selected,onChange:()=>pe(ue),className:"w-4 h-4"})}),a.jsx("td",{className:"py-3 px-4 font-medium",children:$.name}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded text-xs uppercase",children:$.ext})}),a.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:fe($.size)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>_e(ue),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-sm",title:"",children:a.jsx(ar,{className:"w-4 h-4"})})})]},ue))})]})}),a.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-purple-600 mt-0.5",children:""}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:""}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:' ""'}),a.jsx("li",{children:' ""'}),a.jsx("li",{children:" "}),a.jsx("li",{children:" "})]})]})]})})]}),o.length>0&&a.jsxs("div",{className:"card mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Iu,{className:"w-5 h-5 text-green-600"}),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:[" (",o.length," )"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:ft,className:"text-sm text-blue-600 hover:text-blue-700",children:o.every($=>$.selected)?"":""}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",K," "]}),a.jsx("button",{onClick:me,disabled:u||K===0,className:"btn btn-primary",children:u?a.jsxs(a.Fragment,{children:[a.jsx(xs,{className:"w-4 h-4 animate-spin"})," (",d.current,"/",d.total,")..."]}):a.jsxs(a.Fragment,{children:[a.jsx(nn,{className:"w-4 h-4"})," (",K,")"]})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("th",{className:"text-left py-3 px-4",children:a.jsx("input",{type:"checkbox",checked:o.every($=>$.selected),onChange:ft,className:"w-4 h-4"})}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""}),a.jsx("th",{className:"text-left py-3 px-4",children:""})]})}),a.jsx("tbody",{children:o.map(($,ue)=>a.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("input",{type:"checkbox",checked:$.selected,onChange:()=>$e(ue),className:"w-4 h-4"})}),a.jsx("td",{className:"py-3 px-4 font-medium",children:$.name}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs uppercase",children:$.ext})}),a.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:fe($.size)}),a.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400 text-sm",children:se($.modified)}),a.jsx("td",{className:"py-3 px-4 text-gray-500 dark:text-gray-500 text-sm font-mono truncate max-w-xs",children:$.path})]},ue))})]})})]}),T&&a.jsxs("div",{className:"card mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ci,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),P.length>0&&a.jsxs("button",{onClick:re,className:"btn btn-secondary flex items-center gap-2",children:[a.jsx(ar,{className:"w-4 h-4"}),""]})]}),J?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(xs,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"..."})]}):P.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ci,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:P.map($=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:ce($.status)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:$.file_name}),a.jsx("p",{className:`text-xs ${be($.status)} mt-1`,children:$.message}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.jsx(Ur,{className:"w-3 h-3"}),a.jsx("span",{children:new Date($.created_at).toLocaleString("zh-CN")})]})]})]},$.id))})]})]})}function fN(){var oe,ce,be,$,ue,Ce,Te,ye,Pe,Be,W,ee,ve,Re,Fe,Ye,St,ut,Ne,he,U,Y,F,H,V,we,ne,ae,De,qe,Xe,Ke,xt,X,xe;const{isAuthenticated:e,user:t}=At();It();const[r,n]=g.useState({}),[s,l]=g.useState(!0),[i,o]=g.useState(!1),[c,u]=g.useState(null),[f,d]=g.useState({}),[h,m]=g.useState([]),[p,b]=g.useState(!1),[k,x]=g.useState({}),[y,v]=g.useState(!1),[w,C]=g.useState(!1),[S,O]=g.useState(0),[A,Q]=g.useState([]),[E,L]=g.useState(!1),[_,D]=g.useState(!1),{theme:z,setTheme:P}=Cx();g.useEffect(()=>{e&&(te(),re(),pe(),B())},[e]);const B=async()=>{try{const I=await _r.getCacheSize();O(I)}catch(I){console.error(":",I)}},T=I=>{if(I===0)return"0 B";const G=1024,ge=["B","KB","MB","GB"],Ee=Math.floor(Math.log(I)/Math.log(G));return Math.round(I/Math.pow(G,Ee)*100)/100+" "+ge[Ee]},M=async()=>{if(confirm("")){C(!0);try{await _r.clearAll();const I=[];for(let G=0;G<localStorage.length;G++){const ge=localStorage.key(G);ge&&(ge.startsWith("reading-position-")||ge.startsWith("reading-settings")||ge.startsWith("bookmarks-"))&&I.push(ge)}I.forEach(G=>localStorage.removeItem(G)),await B(),R.success(` ${I.length} `)}catch(I){console.error(":",I),R.error(I.message||"")}finally{C(!1)}}},J=async(I,G=!0,ge)=>{var Ie,Ae,Ct;const Ee=ge||((Ie=r.ai_provider)==null?void 0:Ie.value);if(!I||Ee!=="ollama"){Q([]);return}L(!0);try{const vt=await le.get("/ai/test");if(vt.data.success&&vt.data.models){const Pt=vt.data.models.map(mr=>mr.name||mr.model||mr).filter(Boolean);Q(Pt),G&&R.success(` ${Pt.length} `)}else Q([]),G&&R.error(vt.data.error||"")}catch(vt){console.error(":",vt),Q([]),G&&R.error(((Ct=(Ae=vt.response)==null?void 0:Ae.data)==null?void 0:Ct.error)||"")}finally{L(!1)}},j=async()=>{var G,ge,Ee;const I=((G=r.ai_api_url)==null?void 0:G.value)||"http://localhost:11434";D(!0);try{await _e("ai_api_url",I),await J(I)}catch(Ie){console.error(":",Ie),R.error(((Ee=(ge=Ie.response)==null?void 0:ge.data)==null?void 0:Ee.error)||"")}finally{D(!1)}};g.useEffect(()=>{var I;((I=r.ai_provider)==null?void 0:I.value)!=="ollama"&&Q([])},[(oe=r.ai_provider)==null?void 0:oe.value]);const te=async()=>{var I,G,ge;try{const Ie=(await le.get("/settings")).data.settings||{};n(Ie),((I=Ie.ai_provider)==null?void 0:I.value)==="ollama"&&((G=Ie.ai_api_url)!=null&&G.value)&&setTimeout(()=>{J(Ie.ai_api_url.value,!1,"ollama")},500)}catch(Ee){if(console.error(":",Ee),Ee.statusText!=="OK (Offline Cache)"&&Ee.statusText!=="OK (Offline, No Cache)")navigator.onLine&&R.error("");else if(Ee.statusText==="OK (Offline Cache)"){const Ie=((ge=Ee.data)==null?void 0:ge.settings)||{};n(Ie)}}finally{l(!1)}},re=async()=>{try{const I=await le.get("/fonts");m(I.data.fonts||[])}catch(I){console.error(":",I)}},N=async I=>{var ge,Ee,Ie;const G=(ge=I.target.files)==null?void 0:ge[0];if(G){b(!0);try{const Ae=new FormData;Ae.append("file",G),await le.post("/fonts/upload",Ae,{headers:{"Content-Type":"multipart/form-data"}}),R.success(""),await re()}catch(Ae){R.error(((Ie=(Ee=Ae.response)==null?void 0:Ee.data)==null?void 0:Ie.error)||"")}finally{b(!1),I.target.value=""}}},Z=async I=>{var G,ge;if(confirm(""))try{await le.delete(`/fonts/${I}`),R.success(""),await re()}catch(Ee){R.error(((ge=(G=Ee.response)==null?void 0:G.data)==null?void 0:ge.error)||"")}},pe=async()=>{try{v(!0);const I=await le.get("/reading/preferences");x(I.data.preferences||{})}catch(I){console.error(":",I)}finally{v(!1)}},ke=async(I,G,ge)=>{var Ee,Ie;try{await le.post("/reading/preferences",{fileType:I,readerType:G,settings:ge}),x(Ae=>({...Ae,[I]:{readerType:G,settings:ge||null}})),R.success("")}catch(Ae){R.error(((Ie=(Ee=Ae.response)==null?void 0:Ee.data)==null?void 0:Ie.error)||"")}},Le=async I=>{var G,ge;try{await le.delete(`/reading/preferences?fileType=${I}`),x(Ee=>{const Ie={...Ee};return delete Ie[I],Ie}),R.success("")}catch(Ee){R.error(((ge=(G=Ee.response)==null?void 0:G.data)==null?void 0:ge.error)||"")}},_e=async(I,G)=>{var ge,Ee;try{await le.put(`/settings/${I}`,{value:G}),await te(),R.success("")}catch(Ie){R.error(((Ee=(ge=Ie.response)==null?void 0:ge.data)==null?void 0:Ee.error)||"")}},Ge=async I=>{try{const G=await le.post("/settings/validate-path",{path:I});return d(ge=>({...ge,[I]:G.data})),G.data}catch(G){return console.error(":",G),null}},$e=async(I,G)=>{n(ge=>({...ge,[I]:{...ge[I],value:G}})),setTimeout(async()=>{await Ge(G)},500)},ft=async()=>{var G,ge,Ee;if(!((G=r.books_scan_path)==null?void 0:G.value)){R.error("");return}o(!0),u(null);try{const Ie=await le.post("/scan/scan");u(Ie.data),R.success(`:  ${Ie.data.imported}  ${Ie.data.skipped} `)}catch(Ie){R.error(((Ee=(ge=Ie.response)==null?void 0:ge.data)==null?void 0:Ee.error)||"")}finally{o(!1)}};if(!e)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:""})});if(s)return a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const me=((ce=r.books_storage_path)==null?void 0:ce.value)||"",fe=((be=r.books_scan_path)==null?void 0:be.value)||"",se=f[me],K=f[fe];return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"space-y-6",children:[(t==null?void 0:t.role)==="admin"&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(sn,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("button",{onClick:()=>window.location.href="/users",className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[a.jsx(No,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:""}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:""})]})]}),a.jsxs("button",{onClick:()=>window.location.href="/books-management",className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[a.jsx(oa,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:""}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"/"})]})]}),a.jsxs("button",{onClick:()=>window.location.href="/ip-management",className:"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[a.jsx(sn,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"IP"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"IP"})]})]})]})]}),(t==null?void 0:t.role)==="admin"&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Iu,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"text",className:"input",value:me,onChange:I=>$e("books_storage_path",I.target.value),onBlur:()=>_e("books_storage_path",me),placeholder:": ./books  /path/to/books"}),se&&a.jsx("div",{className:"flex items-center gap-2 text-sm mt-2",children:se.exists&&se.isDirectory?a.jsxs(a.Fragment,{children:[a.jsx(Bi,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[" ",se.isWritable?"()":"()"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Wi,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:se.error||""})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"input flex-1",value:fe,onChange:I=>$e("books_scan_path",I.target.value),onBlur:()=>_e("books_scan_path",fe),placeholder:": /path/to/scan"}),a.jsx("button",{onClick:ft,disabled:i||!fe,className:"btn btn-primary whitespace-nowrap",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(wx,{className:"w-4 h-4"}),""]})})]}),K&&a.jsx("div",{className:"flex items-center gap-2 text-sm mt-2",children:K.exists&&K.isDirectory?a.jsxs(a.Fragment,{children:[a.jsx(Bi,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-green-600",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx(Wi,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-red-600",children:K.error||""})]})}),c&&a.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("span",{children:[": ",c.total]}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[": ",c.imported]}),a.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400",children:[": ",c.skipped]}),c.errors>0&&a.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[": ",c.errors]})]})})]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:(($=r.auto_convert_txt)==null?void 0:$.value)==="true",onChange:I=>{n(G=>({...G,auto_convert_txt:{...G.auto_convert_txt,value:I.target.checked?"true":"false"}})),_e("auto_convert_txt",I.target.checked?"true":"false")},className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"TXTEPUB"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((ue=r.auto_fetch_douban)==null?void 0:ue.value)==="true",onChange:I=>{n(G=>({...G,auto_fetch_douban:{...G.auto_fetch_douban,value:I.target.checked?"true":"false"}})),_e("auto_fetch_douban",I.target.checked?"true":"false")},className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:""})]}),((Ce=r.auto_fetch_douban)==null?void 0:Ce.value)==="true"&&a.jsx("div",{className:"ml-8 mt-2",children:a.jsx("input",{type:"text",className:"input text-sm",value:((Te=r.douban_api_base)==null?void 0:Te.value)||"https://127.0.0.1:1552",onChange:I=>n(G=>({...G,douban_api_base:{...G.douban_api_base,value:I.target.value}})),onBlur:()=>{var I;return _e("douban_api_base",((I=r.douban_api_base)==null?void 0:I.value)||"https://127.0.0.1:1552")},placeholder:"API"})})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(oa,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[y?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"block text-sm font-medium",children:"EPUB "}),k.epub&&a.jsx("button",{onClick:()=>Le("epub"),className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:""})]}),!k.epub&&a.jsx("div",{className:"mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-xs text-blue-600 dark:text-blue-400",children:"epub.js"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"epubjs",label:"epub.js",desc:""},{value:"custom",label:"",desc:"iframe"}].map(I=>{var Ee;const ge=(((Ee=k.epub)==null?void 0:Ee.readerType)||"epubjs")===I.value;return a.jsxs("label",{className:`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${ge?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"epub-reader",value:I.value,checked:ge,onChange:()=>ke("epub",I.value),className:"w-4 h-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm",children:I.label}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.desc})]})]},I.value)})})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Nx,{className:"w-4 h-4 text-blue-600"}),a.jsx("label",{className:"block text-sm font-medium",children:""})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors text-sm",children:[a.jsx(nn,{className:"w-4 h-4"}),a.jsx("span",{children:p?"...":""}),a.jsx("input",{type:"file",accept:".ttf,.otf,.woff,.woff2",onChange:N,disabled:p,className:"hidden"})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:" .ttf, .otf, .woff, .woff2"})]}),h.length>0&&a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:h.map(I=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:I.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[I.file_type.toUpperCase(),"  ",(I.file_size/1024).toFixed(2)," KB"]})]}),a.jsx("button",{onClick:()=>Z(I.id),className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"",children:a.jsx(ar,{className:"w-4 h-4"})})]},I.id))})]})]})]}),(t==null?void 0:t.role)==="admin"&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Cn,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"AI"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"AI"}),a.jsxs("select",{value:((ye=r.ai_provider)==null?void 0:ye.value)||"ollama",onChange:I=>{n(G=>({...G,ai_provider:{...G.ai_provider,value:I.target.value}})),_e("ai_provider",I.target.value)},className:"input w-full",children:[a.jsx("option",{value:"ollama",children:"Ollama ()"}),a.jsx("option",{value:"openai",children:"OpenAI (ChatGPT)"}),a.jsx("option",{value:"deepseek",children:"DeepSeek"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"API"}),((Pe=r.ai_provider)==null?void 0:Pe.value)==="ollama"&&a.jsx("button",{onClick:j,disabled:_||E,className:"text-xs px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:_||E?"...":""})]}),a.jsx("input",{type:"text",className:"input w-full",value:((Be=r.ai_api_url)==null?void 0:Be.value)||"http://localhost:11434",onChange:I=>n(G=>({...G,ai_api_url:{...G.ai_api_url,value:I.target.value}})),onBlur:()=>{var I;return _e("ai_api_url",((I=r.ai_api_url)==null?void 0:I.value)||"http://localhost:11434")},placeholder:"http://localhost:11434"}),((W=r.ai_provider)==null?void 0:W.value)==="ollama"&&A.length>0&&a.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["  ",A.length," "]})]}),(((ee=r.ai_provider)==null?void 0:ee.value)==="openai"||((ve=r.ai_provider)==null?void 0:ve.value)==="deepseek")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"API"}),a.jsx("input",{type:"password",className:"input w-full",value:((Re=r.ai_api_key)==null?void 0:Re.value)||"",onChange:I=>n(G=>({...G,ai_api_key:{...G.ai_api_key,value:I.target.value}})),onBlur:()=>{var I;return _e("ai_api_key",((I=r.ai_api_key)==null?void 0:I.value)||"")},placeholder:"API"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),((Fe=r.ai_provider)==null?void 0:Fe.value)==="ollama"&&A.length>0?a.jsxs("select",{value:((Ye=r.ai_model)==null?void 0:Ye.value)||"",onChange:async I=>{const G=I.target.value;n(ge=>({...ge,ai_model:{...ge.ai_model,value:G}})),G&&await _e("ai_model",G)},className:"input w-full",children:[a.jsx("option",{value:"",children:""}),A.map(I=>a.jsx("option",{value:I,children:I},I))]}):a.jsx("input",{type:"text",className:"input w-full",value:((St=r.ai_model)==null?void 0:St.value)||"",onChange:I=>n(G=>({...G,ai_model:{...G.ai_model,value:I.target.value}})),onBlur:()=>{var G;const I=((G=r.ai_model)==null?void 0:G.value)||"";I&&_e("ai_model",I)},placeholder:((ut=r.ai_provider)==null?void 0:ut.value)==="ollama"?"llama2":((Ne=r.ai_provider)==null?void 0:Ne.value)==="openai"?"gpt-3.5-turbo":"deepseek-chat"})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(pm,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-3",children:""}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"system",label:"",icon:pm},{value:"light",label:"",icon:Ou},{value:"dark",label:"",icon:zu}].map(I=>{const G=I.icon;return a.jsxs("label",{className:`flex flex-col items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${z===I.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"theme",value:I.value,checked:z===I.value,onChange:()=>P(I.value),className:"hidden"}),a.jsx(G,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),a.jsx("span",{className:"text-sm font-medium",children:I.label})]},I.value)})})]}),(t==null?void 0:t.role)==="admin"&&a.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((he=r.opds_enabled)==null?void 0:he.value)==="true",onChange:I=>{n(G=>({...G,opds_enabled:{...G.opds_enabled,value:I.target.checked?"true":"false"}})),_e("opds_enabled",I.target.checked?"true":"false")},className:"w-5 h-5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-sm font-medium",children:"OPDS"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"OPDS"})]})]}),((U=r.opds_enabled)==null?void 0:U.value)==="true"&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"OPDS:"}),a.jsxs("code",{className:"text-xs bg-white dark:bg-gray-800 p-2 rounded block break-all",children:[window.location.origin,"/opds/"]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:""}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[": ",a.jsx("span",{className:"font-semibold",children:T(S)})]})]}),a.jsx("button",{onClick:M,disabled:w||S===0,className:"btn btn-danger text-sm",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(z2,{className:"w-4 h-4"}),""]})})]})})]})]}),(t==null?void 0:t.role)==="admin"&&a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(sn,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-3",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"password",className:"input",value:((Y=r.private_access_key)==null?void 0:Y.value)||"",onChange:I=>n(G=>({...G,private_access_key:{...G.private_access_key,value:I.target.value}})),onBlur:()=>{var I;return _e("private_access_key",((I=r.private_access_key)==null?void 0:I.value)||"")},placeholder:""}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),((F=r.private_access_key)==null?void 0:F.value)&&r.private_access_key.value.trim()!==""&&a.jsxs("div",{className:"pl-4 border-l-2 border-blue-300 dark:border-blue-700 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((H=r.private_key_required_for_login)==null?void 0:H.value)==="true",onChange:I=>{n(G=>({...G,private_key_required_for_login:{...G.private_key_required_for_login,value:I.target.checked?"true":"false"}})),_e("private_key_required_for_login",I.target.checked?"true":"false")},className:"w-4 h-4"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:""})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((V=r.private_key_required_for_register)==null?void 0:V.value)==="true",onChange:I=>{n(G=>({...G,private_key_required_for_register:{...G.private_key_required_for_register,value:I.target.checked?"true":"false"}})),_e("private_key_required_for_register",I.target.checked?"true":"false")},className:"w-4 h-4"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:""})]})]})]})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-3",children:""}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:((we=r.registration_enabled)==null?void 0:we.value)==="true",onChange:I=>{n(G=>({...G,registration_enabled:{...G.registration_enabled,value:I.target.checked?"true":"false"}})),_e("registration_enabled",I.target.checked?"true":"false")},className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx("h3",{className:"text-sm font-semibold text-red-900 dark:text-red-100 mb-3",children:"IP"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"number",className:"input w-32",min:"1",max:"100",value:((ne=r.max_access_attempts)==null?void 0:ne.value)||"10",onChange:I=>n(G=>({...G,max_access_attempts:{...G.max_access_attempts,value:I.target.value}})),onBlur:()=>{var I;return _e("max_access_attempts",((I=r.max_access_attempts)==null?void 0:I.value)||"10")}}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"IP"})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:""}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsx("span",{className:`font-medium ${(ae=r.private_access_key)!=null&&ae.value&&r.private_access_key.value.trim()!==""?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-500"}`,children:(De=r.private_access_key)!=null&&De.value&&r.private_access_key.value.trim()!==""?"":""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsx("span",{className:`font-medium ${((qe=r.private_key_required_for_login)==null?void 0:qe.value)==="true"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-500"}`,children:((Xe=r.private_key_required_for_login)==null?void 0:Xe.value)==="true"?"":""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsx("span",{className:`font-medium ${((Ke=r.private_key_required_for_register)==null?void 0:Ke.value)==="true"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-500"}`,children:((xt=r.private_key_required_for_register)==null?void 0:xt.value)==="true"?"":""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),a.jsx("span",{className:`font-medium ${((X=r.registration_enabled)==null?void 0:X.value)==="true"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:((xe=r.registration_enabled)==null?void 0:xe.value)==="true"?"":""})]})]})]})]})]})]})})}function hN(){const{user:e}=At(),[t,r]=g.useState([]),[n,s]=g.useState(!0),[l,i]=g.useState(""),[o,c]=g.useState(1),[u,f]=g.useState(0),[d]=g.useState(20),[h,m]=g.useState(!1),[p,b]=g.useState({username:"",email:"",password:"",role:"user"}),[k,x]=g.useState(!1),[y,v]=g.useState(!1),[w,C]=g.useState(null),[S,O]=g.useState({email:""}),[A,Q]=g.useState(!1),[E,L]=g.useState(!1),[_,D]=g.useState(""),[z,P]=g.useState(null);g.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&B()},[e,o,l]);const B=async()=>{var Z,pe,ke;try{s(!0);const Le=await le.get("/users",{params:{page:o,limit:d,search:l||void 0}});r(Le.data.users||[]),f(((Z=Le.data.pagination)==null?void 0:Z.total)||0)}catch(Le){console.error(":",Le),R.error(((ke=(pe=Le.response)==null?void 0:pe.data)==null?void 0:ke.error)||"")}finally{s(!1)}},T=async()=>{var Z,pe;if(!p.username||!p.email||!p.password){R.error("");return}if(p.password.length<6){R.error("6");return}try{x(!0),await le.post("/users",p),R.success(""),m(!1),b({username:"",email:"",password:"",role:"user"}),B()}catch(ke){R.error(((pe=(Z=ke.response)==null?void 0:Z.data)==null?void 0:pe.error)||"")}finally{x(!1)}},M=async()=>{var Z,pe;if(!w||!S.email){R.error("");return}try{Q(!0),await le.put(`/users/${w.id}`,S),R.success(""),v(!1),C(null),O({email:""}),B()}catch(ke){R.error(((pe=(Z=ke.response)==null?void 0:Z.data)==null?void 0:pe.error)||"")}finally{Q(!1)}},J=Z=>{C(Z),O({email:Z.email}),v(!0)},j=async(Z,pe)=>{var ke,Le;try{await le.put(`/users/${Z}/role`,{role:pe}),R.success(""),B()}catch(_e){R.error(((Le=(ke=_e.response)==null?void 0:ke.data)==null?void 0:Le.error)||"")}},te=async(Z,pe)=>{var ke,Le;if(window.confirm(` "${pe}" `))try{await le.delete(`/users/${Z}`),R.success(""),B()}catch(_e){R.error(((Le=(ke=_e.response)==null?void 0:ke.data)==null?void 0:Le.error)||"")}},re=async()=>{var Z,pe;if(!z||!_){R.error("");return}if(_.length<6){R.error("6");return}try{await le.put(`/users/${z}/password`,{password:_}),R.success(""),L(!1),D(""),P(null)}catch(ke){R.error(((pe=(Z=ke.response)==null?void 0:Z.data)==null?void 0:pe.error)||"")}},N=Z=>{P(Z),D(""),L(!0)};return(e==null?void 0:e.role)!=="admin"?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:""})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[a.jsx(No,{className:"w-8 h-8"}),""]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""})]}),a.jsx("div",{className:"card mb-6",children:a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",className:"input pl-10 w-full",placeholder:"...",value:l,onChange:Z=>{i(Z.target.value),c(1)}})]}),a.jsxs("button",{onClick:()=>m(!0),className:"btn btn-primary flex items-center gap-2",children:[a.jsx(Fu,{className:"w-5 h-5"}),""]})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:""})}):t.map(Z=>{var pe;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:(pe=Z.username[0])==null?void 0:pe.toUpperCase()}),a.jsx("span",{className:"font-medium",children:Z.username}),Z.id===(e==null?void 0:e.id)&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded",children:""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:Z.email}),a.jsx("td",{className:"px-4 py-3",children:Z.id===(e==null?void 0:e.id)?a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${Z.role==="admin"?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[Z.role==="admin"?a.jsx(sn,{className:"w-3 h-3"}):a.jsx(Oa,{className:"w-3 h-3"}),Z.role==="admin"?"":""]}):a.jsxs("select",{className:`text-xs px-2 py-1 rounded font-medium border ${Z.role==="admin"?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 border-purple-300 dark:border-purple-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-700"}`,value:Z.role,onChange:ke=>j(Z.id,ke.target.value),children:[a.jsx("option",{value:"user",children:""}),a.jsx("option",{value:"admin",children:""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{children:[": ",Z.bookCount]}),a.jsxs("span",{children:[": ",Z.shelfCount]})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:new Date(Z.created_at).toLocaleDateString("zh-CN")}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>J(Z),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"",children:a.jsx(rl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>N(Z.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"",children:a.jsx(Ui,{className:"w-4 h-4"})}),Z.id!==(e==null?void 0:e.id)&&a.jsx("button",{onClick:()=>te(Z.id,Z.username),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"",children:a.jsx(ar,{className:"w-4 h-4"})})]})})]},Z.id)})})]})})}),u>d&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",u,"  ",o," / ",Math.ceil(u/d)," "]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ya,{className:"w-4 h-4"}),""]}),a.jsxs("button",{onClick:()=>c(Math.min(Math.ceil(u/d),o+1)),disabled:o>=Math.ceil(u/d),className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:["",a.jsx(Xa,{className:"w-4 h-4"})]})]})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[a.jsx(Fu,{className:"w-6 h-6"}),""]}),a.jsx("button",{onClick:()=>{m(!1),b({username:"",email:"",password:"",role:"user"})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(Oa,{className:"w-4 h-4"}),""]}),a.jsx("input",{type:"text",className:"input w-full",placeholder:"",value:p.username,onChange:Z=>b({...p,username:Z.target.value})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(mm,{className:"w-4 h-4"}),""]}),a.jsx("input",{type:"email",className:"input w-full",placeholder:"",value:p.email,onChange:Z=>b({...p,email:Z.target.value})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(qr,{className:"w-4 h-4"}),""]}),a.jsx("input",{type:"password",className:"input w-full",placeholder:"6",value:p.password,onChange:Z=>b({...p,password:Z.target.value})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"6"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(sn,{className:"w-4 h-4"}),""]}),a.jsxs("select",{className:"input w-full",value:p.role,onChange:Z=>b({...p,role:Z.target.value}),children:[a.jsx("option",{value:"user",children:""}),a.jsx("option",{value:"admin",children:""})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:T,disabled:k,className:"btn btn-primary flex-1 disabled:opacity-50",children:k?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(za,{className:"w-4 h-4"}),""]})}),a.jsx("button",{onClick:()=>{m(!1),b({username:"",email:"",password:"",role:"user"})},className:"btn btn-secondary",children:""})]})]})]})}),y&&w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[a.jsx(rl,{className:"w-6 h-6"}),""]}),a.jsx("button",{onClick:()=>{v(!1),C(null),O({email:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(Oa,{className:"w-4 h-4"}),""]}),a.jsx("input",{type:"text",className:"input w-full bg-gray-100 dark:bg-gray-700",value:w.username,disabled:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(mm,{className:"w-4 h-4"}),""]}),a.jsx("input",{type:"email",className:"input w-full",placeholder:"",value:S.email,onChange:Z=>O({...S,email:Z.target.value})})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:M,disabled:A,className:"btn btn-primary flex-1 disabled:opacity-50",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(za,{className:"w-4 h-4"}),""]})}),a.jsx("button",{onClick:()=>{v(!1),C(null),O({email:""})},className:"btn btn-secondary",children:""})]})]})]})}),E&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[a.jsx(Ui,{className:"w-6 h-6"}),""]}),a.jsx("button",{onClick:()=>{L(!1),D(""),P(null)},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(qr,{className:"w-4 h-4"}),""]}),a.jsx("input",{type:"password",className:"input w-full",placeholder:"6",value:_,onChange:Z=>D(Z.target.value),autoFocus:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"6"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:re,className:"btn btn-primary flex-1",children:[a.jsx(za,{className:"w-4 h-4"}),""]}),a.jsx("button",{onClick:()=>{L(!1),D(""),P(null)},className:"btn btn-secondary",children:""})]})]})]})})]})}function mN(){const{user:e}=At(),t=It(),[r,n]=g.useState([]),[s,l]=g.useState(new Map),[i,o]=g.useState(!0),[c,u]=g.useState(""),[f,d]=g.useState("all"),[h,m]=g.useState(new Set),[p,b]=g.useState(!1),[k,x]=g.useState(!1),[y,v]=g.useState(!1),[w,C]=g.useState({current:0,total:0});g.useEffect(()=>{(!e||e.role!=="admin")&&(R.error(""),t("/"))},[e,t]),g.useEffect(()=>{S(),O()},[]);const S=async()=>{var P,B;try{o(!0);const T=await le.get("/books",{params:{page:1,limit:1e3}});n(T.data.books||[])}catch(T){console.error(":",T),R.error(((B=(P=T.response)==null?void 0:P.data)==null?void 0:B.error)||"")}finally{o(!1)}},O=async()=>{try{const P=await le.get("/users"),B=new Map;P.data.users.forEach(T=>{B.set(T.id,T)}),l(B)}catch(P){console.error(":",P)}},A=async(P,B)=>{var T,M;try{b(!0),await le.patch(`/books/${P}/visibility`,{isPublic:B}),R.success(`${B?"":""}`),await S()}catch(J){console.error(":",J),R.error(((M=(T=J.response)==null?void 0:T.data)==null?void 0:M.error)||"")}finally{b(!1)}},Q=async P=>{var B,T;if(h.size===0){R.error("");return}try{b(!0);const M=await le.patch("/books/batch/visibility",{bookIds:Array.from(h),isPublic:P});R.success(M.data.message),m(new Set),await S()}catch(M){console.error(":",M),R.error(((T=(B=M.response)==null?void 0:B.data)==null?void 0:T.error)||"")}finally{b(!1)}},E=async()=>{var P,B;if(h.size===0){R.error("");return}try{b(!0);const T=await le.post("/books/batch/delete",{bookIds:Array.from(h)}),{results:M}=T.data;M.success.length>0&&R.success(` ${M.success.length} `),M.failed.length>0&&R.error(` ${M.failed.length} `),m(new Set),x(!1),await S()}catch(T){console.error(":",T),R.error(((B=(P=T.response)==null?void 0:P.data)==null?void 0:B.error)||"")}finally{b(!1)}},L=async()=>{var J,j;if(h.size===0){R.error("");return}const P=Array.from(h);v(!0),C({current:0,total:P.length});let B=0,T=0,M=0;try{for(let te=0;te<P.length;te++)try{C({current:te+1,total:P.length});const re=await le.post("/books/batch/update-douban",{bookIds:[P[te]]});re.data.results.success.length>0&&B++,re.data.results.skipped.length>0&&T++,re.data.results.failed.length>0&&M++}catch(re){console.error(` ${P[te]} :`,re),M++}B>0&&R.success(` ${B} `),T>0&&R(` ${T} `,{icon:""}),M>0&&R.error(` ${M} `),m(new Set),await S()}catch(te){console.error(":",te),R.error(((j=(J=te.response)==null?void 0:J.data)==null?void 0:j.error)||"")}finally{v(!1),C({current:0,total:0})}},_=P=>{const B=new Set(h);B.has(P)?B.delete(P):B.add(P),m(B)},D=()=>{h.size===z.length?m(new Set):m(new Set(z.map(P=>P.id)))},z=r.filter(P=>{if(c){const B=c.toLowerCase();if(!P.title.toLowerCase().includes(B)&&!P.author.toLowerCase().includes(B))return!1}return!(f==="public"&&P.is_public!==1||f==="private"&&P.is_public!==0)});return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:""}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"/"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"...",value:c,onChange:P=>u(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_2,{className:"text-gray-400 w-5 h-5"}),a.jsxs("select",{value:f,onChange:P=>d(P.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:""}),a.jsx("option",{value:"public",children:""}),a.jsx("option",{value:"private",children:""})]})]})]}),h.size>0&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:[" ",h.size," "]}),a.jsxs("button",{onClick:()=>m(new Set),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 flex items-center gap-1",children:[a.jsx(Ze,{className:"w-4 h-4"}),""]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>Q(!0),disabled:p||y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all",children:[a.jsx($i,{className:"w-4 h-4"}),""]}),a.jsxs("button",{onClick:()=>Q(!1),disabled:p||y,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all",children:[a.jsx(qr,{className:"w-4 h-4"}),""]}),a.jsx("button",{onClick:L,disabled:p||y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all",children:y?a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"w-4 h-4 animate-spin"})," (",w.current,"/",w.total,")"]}):a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"w-4 h-4"}),""]})}),a.jsxs("button",{onClick:()=>x(!0),disabled:p||y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all",children:[a.jsx(ar,{className:"w-4 h-4"}),""]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(P=>P.is_public===1).length})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.filter(P=>P.is_public===0).length})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:h.size===z.length&&z.length>0,onChange:D,className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:""})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:z.map(P=>{var B;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("input",{type:"checkbox",checked:h.has(P.id),onChange:()=>_(P.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[P.cover_url&&a.jsx("img",{src:P.cover_url,alt:P.title,className:"w-12 h-16 object-cover rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.title}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P.author,"  ",P.category,"  ",P.file_type.toUpperCase()]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:((B=s.get(P.uploader_id))==null?void 0:B.username)||""})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.is_public===1?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[a.jsx($i,{className:"w-3 h-3"}),""]}):a.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:[a.jsx(qr,{className:"w-3 h-3"}),""]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:P.is_public===1?a.jsx("button",{onClick:()=>A(P.id,!1),disabled:p,className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300 disabled:opacity-50",children:""}):a.jsx("button",{onClick:()=>A(P.id,!0),disabled:p,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50",children:""})})]},P.id)})})]})}),z.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})})]}),k&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:a.jsx(N2,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:""}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""})]})]}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:[" ",a.jsx("span",{className:"font-bold text-red-600",children:h.size})," ",a.jsx("br",{}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:""})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>x(!1),disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors",children:""}),a.jsx("button",{onClick:E,disabled:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",children:p?a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"w-4 h-4 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"w-4 h-4"}),""]})})]})]})})]})})}function pN(){const{user:e}=At(),[t,r]=g.useState([]),[n,s]=g.useState([]),[l,i]=g.useState(!0),[o,c]=g.useState(!1),[u,f]=g.useState(""),[d,h]=g.useState(null);g.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&m()},[e]);const m=async()=>{var y,v;try{i(!0);const w=await le.get("/ip/blocked");r(w.data.blockedIPs||[])}catch(w){console.error("IP:",w),R.error(((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.error)||"IP")}finally{i(!1)}},p=async y=>{var v,w;try{c(!0);const C=await le.get("/ip/attempts",{params:y?{ip:y,limit:50}:{limit:100}});s(C.data.attempts||[])}catch(C){console.error(":",C),R.error(((w=(v=C.response)==null?void 0:v.data)==null?void 0:w.error)||"")}finally{c(!1)}},b=async(y,v)=>{var w,C;if(window.confirm(`IP "${v}" `))try{await le.post(`/ip/unblock/${y}`),R.success("IP"),m()}catch(S){R.error(((C=(w=S.response)==null?void 0:w.data)==null?void 0:C.error)||"")}},k=async(y,v)=>{var w,C;if(!y.trim()){R.error("IP");return}if(window.confirm(`IP "${y}" `))try{await le.post("/ip/block",{ipAddress:y,reason:v}),R.success("IP"),m()}catch(S){R.error(((C=(w=S.response)==null?void 0:w.data)==null?void 0:C.error)||"")}},x=y=>{h(y),p(y)};return(e==null?void 0:e.role)!=="admin"?a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"card text-center py-12",children:[a.jsx(Mu,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100",children:""}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""})]})}):a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(sn,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"IP"})]}),a.jsxs("button",{onClick:m,className:"btn btn-secondary",disabled:l,children:[a.jsx(_t,{className:`w-4 h-4 ${l?"animate-spin":""}`}),""]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[a.jsx(qr,{className:"w-5 h-5 text-red-600"}),"IP"]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",t.length," "]})]}),l?a.jsx("div",{className:"text-center py-8",children:a.jsx(_t,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):t.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"IP"}):a.jsx("div",{className:"space-y-3",children:t.map(y=>a.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-mono text-sm font-semibold text-gray-900 dark:text-gray-100",children:y.ip_address}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[": ",new Date(y.blocked_at).toLocaleString()]}),y.reason&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[": ",y.reason]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[": ",y.attempts]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>x(y.ip_address),className:"btn btn-sm btn-secondary",title:"",children:a.jsx(Lr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(y.id,y.ip_address),className:"btn btn-sm btn-primary",title:"IP",children:a.jsx(F2,{className:"w-4 h-4"})})]})]})},y.id))}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"IP"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",className:"input",placeholder:"IP",value:u,onChange:y=>f(y.target.value)}),a.jsxs("button",{onClick:()=>{u.trim()&&(k(u.trim(),""),f(""))},className:"btn btn-danger w-full",children:[a.jsx(qr,{className:"w-4 h-4"}),"IP"]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[a.jsx(Lr,{className:"w-5 h-5 text-blue-600"}),""]}),a.jsx("button",{onClick:()=>{h(null),p()},className:"btn btn-sm btn-secondary",children:""})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"IP:"}),a.jsx("span",{className:"font-mono ml-2 text-gray-900 dark:text-gray-100",children:d}),a.jsx("button",{onClick:()=>{h(null),p()},className:"ml-2 text-blue-600 hover:text-blue-700",children:""})]})}),o?a.jsx("div",{className:"text-center py-8",children:a.jsx(_t,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):n.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:""}):a.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:n.map(y=>a.jsx("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-mono font-semibold text-gray-900 dark:text-gray-100",children:y.ip_address}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(y.created_at).toLocaleString()}),a.jsxs("div",{className:"text-xs mt-1 text-gray-900 dark:text-gray-100",children:[":"," ",a.jsx("span",{className:"font-semibold",children:y.attempt_type==="private_key"?"":""})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[y.success?a.jsx(Bi,{className:"w-4 h-4 text-green-600"}):a.jsx(Mu,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:`text-xs font-semibold ${y.success?"text-green-600":"text-red-600"}`,children:y.success?"":""})]})]})},y.id))})]})]})]})}function gN(){const{isAuthenticated:e}=At();It();const[t,r]=g.useState([]),[n,s]=g.useState(!0),[l,i]=g.useState(""),[o,c]=g.useState(!1),[u,f]=g.useState(!1),[d,h]=g.useState(null),[m,p]=g.useState(""),[b,k]=g.useState(""),[x,y]=g.useState("");g.useEffect(()=>{e&&v()},[e]);const v=async()=>{var _,D,z;try{s(!0);const P=await le.get("/notes");r(P.data.notes||[])}catch(P){console.error(":",P),P.statusText==="OK (Offline Cache)"||P.statusText==="OK (Offline, No Cache)"?(_=P.data)!=null&&_.notes&&r(P.data.notes||[]):navigator.onLine&&R.error(((z=(D=P.response)==null?void 0:D.data)==null?void 0:z.error)||"")}finally{s(!1)}},w=async()=>{var _,D;if(!m.trim()){R.error("");return}if(!b){R.error("");return}try{await le.post("/notes",{bookId:b,content:m,selectedText:x||null}),R.success(""),c(!1),p(""),k(""),y(""),v()}catch(z){console.error(":",z),R.error(((D=(_=z.response)==null?void 0:_.data)==null?void 0:D.error)||"")}},C=async()=>{var _,D;if(!d||!m.trim()){R.error("");return}try{await le.put(`/notes/${d.id}`,{content:m,selectedText:x||null}),R.success(""),f(!1),h(null),p(""),y(""),v()}catch(z){console.error(":",z),R.error(((D=(_=z.response)==null?void 0:_.data)==null?void 0:D.error)||"")}},S=async _=>{var D,z;if(confirm(""))try{await le.delete(`/notes/${_}`),R.success(""),v()}catch(P){console.error(":",P),R.error(((z=(D=P.response)==null?void 0:D.data)==null?void 0:z.error)||"")}},O=_=>{h(_),p(_.content),y(_.selected_text||""),f(!0)},A=t.filter(_=>{var D,z;return _.content.toLowerCase().includes(l.toLowerCase())||((D=_.book_title)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))||((z=_.selected_text)==null?void 0:z.toLowerCase().includes(l.toLowerCase()))}),Q=async()=>{await v(),R.success("")},{isRefreshing:E,pullDistance:L}=So({onRefresh:Q});return n?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{pullDistance:L,isRefreshing:E}),a.jsxs("div",{className:"pt-6",children:[a.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"...",value:l,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent"})]}),a.jsx("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shrink-0",children:a.jsx(kx,{className:"w-4 h-4"})})]}),A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:l?"":""})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(_=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-lg transition-shadow",children:[_.book_title&&a.jsxs(Je,{to:`/books/${_.book_id}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-2 flex items-center gap-1",children:[a.jsx(oa,{className:"w-4 h-4"}),_.book_title,_.book_author&&a.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" - ",_.book_author]})]}),_.selected_text&&a.jsxs("div",{className:"mb-2 p-2 bg-gray-50 dark:bg-gray-900 rounded text-sm text-gray-600 dark:text-gray-400 italic border-l-2 border-blue-500",children:['"',_.selected_text,'"']}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3 line-clamp-4 whitespace-pre-wrap",children:_.content}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wo,{className:"w-3 h-3"}),a.jsx("span",{children:new Date(_.created_at).toLocaleDateString("zh-CN")})]}),_.page_number&&a.jsxs("span",{children:[" ",_.page_number," "]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(Je,{to:`/reader/${_.book_id}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>O(_),className:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"",children:a.jsx(rl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(_.id),className:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"",children:a.jsx(ar,{className:"w-4 h-4"})})]})]})]},_.id))}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>{c(!1),p(""),k(""),y("")},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("input",{type:"text",placeholder:"ID",value:b,onChange:_=>k(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("textarea",{placeholder:"...",value:x,onChange:_=>y(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 resize-none",rows:2})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:" *"}),a.jsx("textarea",{placeholder:"...",value:m,onChange:_=>p(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 resize-none",rows:8,autoFocus:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{c(!1),p(""),k(""),y("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:""}),a.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(nl,{className:"w-4 h-4"}),""]})]})]})})}),u&&d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>{f(!1),h(null),p(""),y("")},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),d.selected_text&&a.jsxs("div",{className:"mb-4 p-2 bg-gray-50 dark:bg-gray-900 rounded text-sm text-gray-600 dark:text-gray-400 italic border-l-2 border-blue-500",children:['"',d.selected_text,'"']}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("textarea",{placeholder:"...",value:x,onChange:_=>y(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 resize-none",rows:2})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:" *"}),a.jsx("textarea",{placeholder:"...",value:m,onChange:_=>p(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 resize-none",rows:8,autoFocus:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{f(!1),h(null),p(""),y("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:""}),a.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(nl,{className:"w-4 h-4"}),""]})]})]})})})]})]})}function xN(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const yN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vN={};function ym(e,t){return(vN.jsx?bN:yN).test(e)}const kN=/[ \t\n\f\r]/g;function wN(e){return typeof e=="object"?e.type==="text"?bm(e.value):!1:bm(e)}function bm(e){return e.replace(kN,"")===""}class xl{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}xl.prototype.normal={};xl.prototype.property={};xl.prototype.space=void 0;function Px(e,t){const r={},n={};for(const s of e)Object.assign(r,s.property),Object.assign(n,s.normal);return new xl(r,n,t)}function Du(e){return e.toLowerCase()}class sr{constructor(t,r){this.attribute=r,this.property=t}}sr.prototype.attribute="";sr.prototype.booleanish=!1;sr.prototype.boolean=!1;sr.prototype.commaOrSpaceSeparated=!1;sr.prototype.commaSeparated=!1;sr.prototype.defined=!1;sr.prototype.mustUseProperty=!1;sr.prototype.number=!1;sr.prototype.overloadedBoolean=!1;sr.prototype.property="";sr.prototype.spaceSeparated=!1;sr.prototype.space=void 0;let jN=0;const Oe=ma(),yt=ma(),Bu=ma(),de=ma(),tt=ma(),Fa=ma(),lr=ma();function ma(){return 2**++jN}const $u=Object.freeze(Object.defineProperty({__proto__:null,boolean:Oe,booleanish:yt,commaOrSpaceSeparated:lr,commaSeparated:Fa,number:de,overloadedBoolean:Bu,spaceSeparated:tt},Symbol.toStringTag,{value:"Module"})),mc=Object.keys($u);class sf extends sr{constructor(t,r,n,s){let l=-1;if(super(t,r),vm(this,"space",s),typeof n=="number")for(;++l<mc.length;){const i=mc[l];vm(this,mc[l],(n&$u[i])===$u[i])}}}sf.prototype.defined=!0;function vm(e,t,r){r&&(e[t]=r)}function as(e){const t={},r={};for(const[n,s]of Object.entries(e.properties)){const l=new sf(n,e.transform(e.attributes||{},n),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(l.mustUseProperty=!0),t[n]=l,r[Du(n)]=n,r[Du(l.attribute)]=n}return new xl(t,r,e.space)}const Rx=as({properties:{ariaActiveDescendant:null,ariaAtomic:yt,ariaAutoComplete:null,ariaBusy:yt,ariaChecked:yt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:tt,ariaCurrent:null,ariaDescribedBy:tt,ariaDetails:null,ariaDisabled:yt,ariaDropEffect:tt,ariaErrorMessage:null,ariaExpanded:yt,ariaFlowTo:tt,ariaGrabbed:yt,ariaHasPopup:null,ariaHidden:yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tt,ariaLevel:de,ariaLive:null,ariaModal:yt,ariaMultiLine:yt,ariaMultiSelectable:yt,ariaOrientation:null,ariaOwns:tt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:yt,ariaReadOnly:yt,ariaRelevant:null,ariaRequired:yt,ariaRoleDescription:tt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:yt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Mx(e,t){return t in e?e[t]:t}function Lx(e,t){return Mx(e,t.toLowerCase())}const NN=as({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fa,acceptCharset:tt,accessKey:tt,action:null,allow:null,allowFullScreen:Oe,allowPaymentRequest:Oe,allowUserMedia:Oe,alt:null,as:null,async:Oe,autoCapitalize:null,autoComplete:tt,autoFocus:Oe,autoPlay:Oe,blocking:tt,capture:null,charSet:null,checked:Oe,cite:null,className:tt,cols:de,colSpan:null,content:null,contentEditable:yt,controls:Oe,controlsList:tt,coords:de|Fa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Oe,defer:Oe,dir:null,dirName:null,disabled:Oe,download:Bu,draggable:yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Oe,formTarget:null,headers:tt,height:de,hidden:Bu,high:de,href:null,hrefLang:null,htmlFor:tt,httpEquiv:tt,id:null,imageSizes:null,imageSrcSet:null,inert:Oe,inputMode:null,integrity:null,is:null,isMap:Oe,itemId:null,itemProp:tt,itemRef:tt,itemScope:Oe,itemType:tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Oe,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Oe,muted:Oe,name:null,nonce:null,noModule:Oe,noValidate:Oe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Oe,optimum:de,pattern:null,ping:tt,placeholder:null,playsInline:Oe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Oe,referrerPolicy:null,rel:tt,required:Oe,reversed:Oe,rows:de,rowSpan:de,sandbox:tt,scope:null,scoped:Oe,seamless:Oe,selected:Oe,shadowRootClonable:Oe,shadowRootDelegatesFocus:Oe,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Oe,useMap:null,value:yt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Oe,declare:Oe,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Oe,noHref:Oe,noShade:Oe,noWrap:Oe,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:yt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Oe,disableRemotePlayback:Oe,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:Lx}),SN=as({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lr,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Oe,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fa,g2:Fa,glyphName:Fa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:lr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lr,rev:lr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lr,requiredFeatures:lr,requiredFonts:lr,requiredFormats:lr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:lr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lr,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Mx}),Ix=as({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ax=as({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Lx}),zx=as({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),CN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},EN=/[A-Z]/g,km=/-[a-z]/g,_N=/^data[-\w.:]+$/i;function TN(e,t){const r=Du(t);let n=t,s=sr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&_N.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(km,RN);n="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!km.test(l)){let i=l.replace(EN,PN);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=sf}return new s(n,t)}function PN(e){return"-"+e.toLowerCase()}function RN(e){return e.charAt(1).toUpperCase()}const MN=Px([Rx,NN,Ix,Ax,zx],"html"),lf=Px([Rx,SN,Ix,Ax,zx],"svg");function LN(e){return e.join(" ").trim()}var of={},wm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,IN=/\n/g,AN=/^\s*/,zN=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ON=/^:\s*/,FN=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,DN=/^[;\s]*/,BN=/^\s+|\s+$/g,$N=`
`,jm="/",Nm="*",Kn="",UN="comment",HN="declaration";function WN(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function s(p){var b=p.match(IN);b&&(r+=b.length);var k=p.lastIndexOf($N);n=~k?p.length-k:n+p.length}function l(){var p={line:r,column:n};return function(b){return b.position=new i(p),u(),b}}function i(p){this.start=p,this.end={line:r,column:n},this.source=t.source}i.prototype.content=e;function o(p){var b=new Error(t.source+":"+r+":"+n+": "+p);if(b.reason=p,b.filename=t.source,b.line=r,b.column=n,b.source=e,!t.silent)throw b}function c(p){var b=p.exec(e);if(b){var k=b[0];return s(k),e=e.slice(k.length),b}}function u(){c(AN)}function f(p){var b;for(p=p||[];b=d();)b!==!1&&p.push(b);return p}function d(){var p=l();if(!(jm!=e.charAt(0)||Nm!=e.charAt(1))){for(var b=2;Kn!=e.charAt(b)&&(Nm!=e.charAt(b)||jm!=e.charAt(b+1));)++b;if(b+=2,Kn===e.charAt(b-1))return o("End of comment missing");var k=e.slice(2,b-2);return n+=2,s(k),e=e.slice(b),n+=2,p({type:UN,comment:k})}}function h(){var p=l(),b=c(zN);if(b){if(d(),!c(ON))return o("property missing ':'");var k=c(FN),x=p({type:HN,property:Sm(b[0].replace(wm,Kn)),value:k?Sm(k[0].replace(wm,Kn)):Kn});return c(DN),x}}function m(){var p=[];f(p);for(var b;b=h();)b!==!1&&(p.push(b),f(p));return p}return u(),m()}function Sm(e){return e?e.replace(BN,Kn):Kn}var VN=WN,qN=fi&&fi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(of,"__esModule",{value:!0});of.default=YN;const KN=qN(VN);function YN(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,KN.default)(e),s=typeof t=="function";return n.forEach(l=>{if(l.type!=="declaration")return;const{property:i,value:o}=l;s?t(i,o,l):o&&(r=r||{},r[i]=o)}),r}var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.camelCase=void 0;var XN=/^--[a-zA-Z0-9_-]+$/,QN=/-([a-z])/g,GN=/^[^-]+$/,JN=/^-(webkit|moz|ms|o|khtml)-/,ZN=/^-(ms)-/,e4=function(e){return!e||GN.test(e)||XN.test(e)},t4=function(e,t){return t.toUpperCase()},Cm=function(e,t){return"".concat(t,"-")},r4=function(e,t){return t===void 0&&(t={}),e4(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(ZN,Cm):e=e.replace(JN,Cm),e.replace(QN,t4))};Eo.camelCase=r4;var n4=fi&&fi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a4=n4(of),s4=Eo;function Uu(e,t){var r={};return!e||typeof e!="string"||(0,a4.default)(e,function(n,s){n&&s&&(r[(0,s4.camelCase)(n,t)]=s)}),r}Uu.default=Uu;var l4=Uu;const i4=Xi(l4),Ox=Fx("end"),cf=Fx("start");function Fx(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function o4(e){const t=cf(e),r=Ox(e);if(t&&r)return{start:t,end:r}}function Ls(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Em(e.position):"start"in e||"end"in e?Em(e):"line"in e||"column"in e?Hu(e):""}function Hu(e){return _m(e&&e.line)+":"+_m(e&&e.column)}function Em(e){return Hu(e&&e.start)+"-"+Hu(e&&e.end)}function _m(e){return e&&typeof e=="number"?e:1}class Ht extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let s="",l={},i=!1;if(r&&("line"in r&&"column"in r?l={place:r}:"start"in r&&"end"in r?l={place:r}:"type"in r?l={ancestors:[r],place:r.position}:l={...r}),typeof t=="string"?s=t:!l.cause&&t&&(i=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?l.ruleId=n:(l.source=n.slice(0,c),l.ruleId=n.slice(c+1))}if(!l.place&&l.ancestors&&l.ancestors){const c=l.ancestors[l.ancestors.length-1];c&&(l.place=c.position)}const o=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=o?o.line:void 0,this.name=Ls(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=i&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const uf={}.hasOwnProperty,c4=new Map,u4=/[A-Z]/g,d4=new Set(["table","tbody","thead","tfoot","tr"]),f4=new Set(["td","th"]),Dx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function h4(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=k4(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=v4(r,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?lf:MN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Bx(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function Bx(e,t,r){if(t.type==="element")return m4(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return p4(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return x4(e,t,r);if(t.type==="mdxjsEsm")return g4(e,t);if(t.type==="root")return y4(e,t,r);if(t.type==="text")return b4(e,t)}function m4(e,t,r){const n=e.schema;let s=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=lf,e.schema=s),e.ancestors.push(t);const l=Ux(e,t.tagName,!1),i=w4(e,t);let o=ff(e,t);return d4.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!wN(c):!0})),$x(e,i,l,t),df(i,o),e.ancestors.pop(),e.schema=n,e.create(t,l,i,r)}function p4(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}sl(e,t.position)}function g4(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);sl(e,t.position)}function x4(e,t,r){const n=e.schema;let s=n;t.name==="svg"&&n.space==="html"&&(s=lf,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:Ux(e,t.name,!0),i=j4(e,t),o=ff(e,t);return $x(e,i,l,t),df(i,o),e.ancestors.pop(),e.schema=n,e.create(t,l,i,r)}function y4(e,t,r){const n={};return df(n,ff(e,t)),e.create(t,e.Fragment,n,r)}function b4(e,t){return t.value}function $x(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function df(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function v4(e,t,r){return n;function n(s,l,i,o){const u=Array.isArray(i.children)?r:t;return o?u(l,i,o):u(l,i)}}function k4(e,t){return r;function r(n,s,l,i){const o=Array.isArray(l.children),c=cf(n);return t(s,l,i,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function w4(e,t){const r={};let n,s;for(s in t.properties)if(s!=="children"&&uf.call(t.properties,s)){const l=N4(e,s,t.properties[s]);if(l){const[i,o]=l;e.tableCellAlignToStyle&&i==="align"&&typeof o=="string"&&f4.has(t.tagName)?n=o:r[i]=o}}if(n){const l=r.style||(r.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function j4(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const l=n.data.estree.body[0];l.type;const i=l.expression;i.type;const o=i.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else sl(e,t.position);else{const s=n.name;let l;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,l=e.evaluater.evaluateExpression(o.expression)}else sl(e,t.position);else l=n.value===null?!0:n.value;r[s]=l}return r}function ff(e,t){const r=[];let n=-1;const s=e.passKeys?new Map:c4;for(;++n<t.children.length;){const l=t.children[n];let i;if(e.passKeys){const c=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(c){const u=s.get(c)||0;i=c+"-"+u,s.set(c,u+1)}}const o=Bx(e,l,i);o!==void 0&&r.push(o)}return r}function N4(e,t,r){const n=TN(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?xN(r):LN(r)),n.property==="style"){let s=typeof r=="object"?r:S4(e,String(r));return e.stylePropertyNameCase==="css"&&(s=C4(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&n.space?CN[n.property]||n.property:n.attribute,r]}}function S4(e,t){try{return i4(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,s=new Ht("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Dx+"#cannot-parse-style-attribute",s}}function Ux(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,i;for(;++l<s.length;){const o=ym(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};i=i?{type:"MemberExpression",object:i,property:o,computed:!!(l&&o.type==="Literal"),optional:!1}:o}n=i}else n=ym(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const s=n.value;return uf.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(n);sl(e)}function sl(e,t){const r=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Dx+"#cannot-handle-mdx-estrees-without-createevaluater",r}function C4(e){const t={};let r;for(r in e)uf.call(e,r)&&(t[E4(r)]=e[r]);return t}function E4(e){let t=e.replace(u4,_4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _4(e){return"-"+e.toLowerCase()}const pc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},T4={};function hf(e,t){const r=T4,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Hx(e,n,s)}function Hx(e,t,r){if(P4(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Tm(e.children,t,r)}return Array.isArray(e)?Tm(e,t,r):""}function Tm(e,t,r){const n=[];let s=-1;for(;++s<e.length;)n[s]=Hx(e[s],t,r);return n.join("")}function P4(e){return!!(e&&typeof e=="object")}const Pm=document.createElement("i");function mf(e){const t="&"+e+";";Pm.innerHTML=t;const r=Pm.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function ur(e,t,r,n){const s=e.length;let l=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,r=r>0?r:0,n.length<1e4)i=Array.from(n),i.unshift(t,r),e.splice(...i);else for(r&&e.splice(t,r);l<n.length;)i=n.slice(l,l+1e4),i.unshift(t,0),e.splice(...i),l+=1e4,t+=1e4}function br(e,t){return e.length>0?(ur(e,e.length,0,t),e):t}const Rm={}.hasOwnProperty;function Wx(e){const t={};let r=-1;for(;++r<e.length;)R4(t,e[r]);return t}function R4(e,t){let r;for(r in t){const s=(Rm.call(e,r)?e[r]:void 0)||(e[r]={}),l=t[r];let i;if(l)for(i in l){Rm.call(s,i)||(s[i]=[]);const o=l[i];M4(s[i],Array.isArray(o)?o:o?[o]:[])}}}function M4(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);ur(e,0,0,n)}function Vx(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Rr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qt=Hn(/[A-Za-z]/),$t=Hn(/[\dA-Za-z]/),L4=Hn(/[#-'*+\--9=?A-Z^-~]/);function Vi(e){return e!==null&&(e<32||e===127)}const Wu=Hn(/\d/),I4=Hn(/[\dA-Fa-f]/),A4=Hn(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}function et(e){return e!==null&&(e<0||e===32)}function Ue(e){return e===-2||e===-1||e===32}const _o=Hn(new RegExp("\\p{P}|\\p{S}","u")),ua=Hn(/\s/);function Hn(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function ss(e){const t=[];let r=-1,n=0,s=0;for(;++r<e.length;){const l=e.charCodeAt(r);let i="";if(l===37&&$t(e.charCodeAt(r+1))&&$t(e.charCodeAt(r+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(i=String.fromCharCode(l));else if(l>55295&&l<57344){const o=e.charCodeAt(r+1);l<56320&&o>56319&&o<57344?(i=String.fromCharCode(l,o),s=1):i=""}else i=String.fromCharCode(l);i&&(t.push(e.slice(n,r),encodeURIComponent(i)),n=r+s+1,i=""),s&&(r+=s,s=0)}return t.join("")+e.slice(n)}function We(e,t,r,n){const s=n?n-1:Number.POSITIVE_INFINITY;let l=0;return i;function i(c){return Ue(c)?(e.enter(r),o(c)):t(c)}function o(c){return Ue(c)&&l++<s?(e.consume(c),o):(e.exit(r),t(c))}}const z4={tokenize:O4};function O4(e){const t=e.attempt(this.parser.constructs.contentInitial,n,s);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),We(e,t,"linePrefix")}function s(o){return e.enter("paragraph"),l(o)}function l(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,i(o)}function i(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Me(o)?(e.consume(o),e.exit("chunkText"),l):(e.consume(o),i)}}const F4={tokenize:D4},Mm={tokenize:B4};function D4(e){const t=this,r=[];let n=0,s,l,i;return o;function o(v){if(n<r.length){const w=r[n];return t.containerState=w[1],e.attempt(w[0].continuation,c,u)(v)}return u(v)}function c(v){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&y();const w=t.events.length;let C=w,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}x(n);let O=w;for(;O<t.events.length;)t.events[O][1].end={...S},O++;return ur(t.events,C+1,0,t.events.slice(w)),t.events.length=O,u(v)}return o(v)}function u(v){if(n===r.length){if(!s)return h(v);if(s.currentConstruct&&s.currentConstruct.concrete)return p(v);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Mm,f,d)(v)}function f(v){return s&&y(),x(n),h(v)}function d(v){return t.parser.lazy[t.now().line]=n!==r.length,i=t.now().offset,p(v)}function h(v){return t.containerState={},e.attempt(Mm,m,p)(v)}function m(v){return n++,r.push([t.currentConstruct,t.containerState]),h(v)}function p(v){if(v===null){s&&y(),x(0),e.consume(v);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),b(v)}function b(v){if(v===null){k(e.exit("chunkFlow"),!0),x(0),e.consume(v);return}return Me(v)?(e.consume(v),k(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(v),b)}function k(v,w){const C=t.sliceStream(v);if(w&&C.push(null),v.previous=l,l&&(l.next=v),l=v,s.defineSkip(v.start),s.write(C),t.parser.lazy[v.start.line]){let S=s.events.length;for(;S--;)if(s.events[S][1].start.offset<i&&(!s.events[S][1].end||s.events[S][1].end.offset>i))return;const O=t.events.length;let A=O,Q,E;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(Q){E=t.events[A][1].end;break}Q=!0}for(x(n),S=O;S<t.events.length;)t.events[S][1].end={...E},S++;ur(t.events,A+1,0,t.events.slice(O)),t.events.length=S}}function x(v){let w=r.length;for(;w-- >v;){const C=r[w];t.containerState=C[1],C[0].exit.call(t,e)}r.length=v}function y(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function B4(e,t,r){return We(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qa(e){if(e===null||et(e)||ua(e))return 1;if(_o(e))return 2}function To(e,t,r){const n=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!n.includes(l)&&(t=l(t,r),n.push(l))}return t}const Vu={name:"attention",resolveAll:$4,tokenize:U4};function $4(e,t){let r=-1,n,s,l,i,o,c,u,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[r][1].start};Lm(d,-c),Lm(h,c),i={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:h},l={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},s={type:c>1?"strong":"emphasis",start:{...i.start},end:{...o.end}},e[n][1].end={...i.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=br(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=br(u,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",l,t]]),u=br(u,To(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=br(u,[["exit",l,t],["enter",o,t],["exit",o,t],["exit",s,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,u=br(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,ur(e,n-1,r-n+3,u),r=n+u.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function U4(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,s=Qa(n);let l;return i;function i(c){return l=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===l)return e.consume(c),o;const u=e.exit("attentionSequence"),f=Qa(c),d=!f||f===2&&s||r.includes(c),h=!s||s===2&&f||r.includes(n);return u._open=!!(l===42?d:d&&(s||!h)),u._close=!!(l===42?h:h&&(f||!d)),t(c)}}function Lm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const H4={name:"autolink",tokenize:W4};function W4(e,t,r){let n=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(m){return qt(m)?(e.consume(m),i):m===64?r(m):u(m)}function i(m){return m===43||m===45||m===46||$t(m)?(n=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),n=0,c):(m===43||m===45||m===46||$t(m))&&n++<32?(e.consume(m),o):(n=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Vi(m)?r(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),f):L4(m)?(e.consume(m),u):r(m)}function f(m){return $t(m)?d(m):r(m)}function d(m){return m===46?(e.consume(m),n=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||$t(m))&&n++<63){const p=m===45?h:d;return e.consume(m),p}return r(m)}}const yl={partial:!0,tokenize:V4};function V4(e,t,r){return n;function n(l){return Ue(l)?We(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||Me(l)?t(l):r(l)}}const qx={continuation:{tokenize:K4},exit:Y4,name:"blockQuote",tokenize:q4};function q4(e,t,r){const n=this;return s;function s(i){if(i===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),l}return r(i)}function l(i){return Ue(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function K4(e,t,r){const n=this;return s;function s(i){return Ue(i)?We(e,l,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):l(i)}function l(i){return e.attempt(qx,t,r)(i)}}function Y4(e){e.exit("blockQuote")}const Kx={name:"characterEscape",tokenize:X4};function X4(e,t,r){return n;function n(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return A4(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(l)}}const Yx={name:"characterReference",tokenize:Q4};function Q4(e,t,r){const n=this;let s=0,l,i;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,i=$t,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,i=I4,f):(e.enter("characterReferenceValue"),l=7,i=Wu,f(d))}function f(d){if(d===59&&s){const h=e.exit("characterReferenceValue");return i===$t&&!mf(n.sliceSerialize(h))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(d)&&s++<l?(e.consume(d),f):r(d)}}const Im={partial:!0,tokenize:J4},Am={concrete:!0,name:"codeFenced",tokenize:G4};function G4(e,t,r){const n=this,s={partial:!0,tokenize:C};let l=0,i=0,o;return c;function c(S){return u(S)}function u(S){const O=n.events[n.events.length-1];return l=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(S)}function f(S){return S===o?(i++,e.consume(S),f):i<3?r(S):(e.exit("codeFencedFenceSequence"),Ue(S)?We(e,d,"whitespace")(S):d(S))}function d(S){return S===null||Me(S)?(e.exit("codeFencedFence"),n.interrupt?t(S):e.check(Im,b,w)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||Me(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Ue(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),We(e,m,"whitespace")(S)):S===96&&S===o?r(S):(e.consume(S),h)}function m(S){return S===null||Me(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Me(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===o?r(S):(e.consume(S),p)}function b(S){return e.attempt(s,w,k)(S)}function k(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return l>0&&Ue(S)?We(e,y,"linePrefix",l+1)(S):y(S)}function y(S){return S===null||Me(S)?e.check(Im,b,w)(S):(e.enter("codeFlowValue"),v(S))}function v(S){return S===null||Me(S)?(e.exit("codeFlowValue"),y(S)):(e.consume(S),v)}function w(S){return e.exit("codeFenced"),t(S)}function C(S,O,A){let Q=0;return E;function E(P){return S.enter("lineEnding"),S.consume(P),S.exit("lineEnding"),L}function L(P){return S.enter("codeFencedFence"),Ue(P)?We(S,_,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):_(P)}function _(P){return P===o?(S.enter("codeFencedFenceSequence"),D(P)):A(P)}function D(P){return P===o?(Q++,S.consume(P),D):Q>=i?(S.exit("codeFencedFenceSequence"),Ue(P)?We(S,z,"whitespace")(P):z(P)):A(P)}function z(P){return P===null||Me(P)?(S.exit("codeFencedFence"),O(P)):A(P)}}}function J4(e,t,r){const n=this;return s;function s(i){return i===null?r(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),l)}function l(i){return n.parser.lazy[n.now().line]?r(i):t(i)}}const gc={name:"codeIndented",tokenize:eS},Z4={partial:!0,tokenize:tS};function eS(e,t,r){const n=this;return s;function s(u){return e.enter("codeIndented"),We(e,l,"linePrefix",5)(u)}function l(u){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?i(u):r(u)}function i(u){return u===null?c(u):Me(u)?e.attempt(Z4,i,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Me(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function tS(e,t,r){const n=this;return s;function s(i){return n.parser.lazy[n.now().line]?r(i):Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):We(e,l,"linePrefix",5)(i)}function l(i){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):Me(i)?s(i):r(i)}}const rS={name:"codeText",previous:aS,resolve:nS,tokenize:sS};function nS(e){let t=e.length-4,r=3,n,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)s===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(s=n):(n===t||e[n][1].type==="lineEnding")&&(e[s][1].type="codeTextData",n!==s+2&&(e[s][1].end=e[n-1][1].end,e.splice(s+2,n-s-2),t-=n-s-2,n=s+2),s=void 0);return e}function aS(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sS(e,t,r){let n=0,s,l;return i;function i(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),n++,o):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(l=e.enter("codeTextSequence"),s=0,f(d)):Me(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Me(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),s++,f):s===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(l.type="codeTextData",u(d))}}class lS{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const s=r||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&ys(this.left,n),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ys(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ys(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);ys(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ys(this.left,r.reverse())}}}function ys(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Xx(e){const t={};let r=-1,n,s,l,i,o,c,u;const f=new lS(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,l=0,l<c.length&&c[l][1].type==="lineEndingBlank"&&(l+=2),l<c.length&&c[l][1].type==="content"))for(;++l<c.length&&c[l][1].type!=="content";)c[l][1].type==="chunkText"&&(c[l][1]._isInFirstContentOfListItem=!0,l++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,iS(f,r)),r=t[r],u=!0);else if(n[1]._container){for(l=r,s=void 0;l--;)if(i=f.get(l),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(f.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=l);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(n[1].end={...f.get(s)[1].start},o=f.slice(s,r),o.unshift(n),f.splice(s,r-s+1,o))}}return ur(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function iS(e,t){const r=e.get(t)[1],n=e.get(t)[2];let s=t-1;const l=[];let i=r._tokenizer;i||(i=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,c=[],u={};let f,d,h=-1,m=r,p=0,b=0;const k=[b];for(;m;){for(;e.get(++s)[1]!==m;);l.push(s),m._tokenizer||(f=n.sliceStream(m),m.next||f.push(null),d&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(f),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=r;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(b=h+1,k.push(b),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):k.pop(),h=k.length;h--;){const x=o.slice(k[h],k[h+1]),y=l.pop();c.push([y,y+x.length-1]),e.splice(y,2,x)}for(c.reverse(),h=-1;++h<c.length;)u[p+c[h][0]]=p+c[h][1],p+=c[h][1]-c[h][0]-1;return u}const oS={resolve:uS,tokenize:dS},cS={partial:!0,tokenize:fS};function uS(e){return Xx(e),e}function dS(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(o)}function s(o){return o===null?l(o):Me(o)?e.check(cS,i,l)(o):(e.consume(o),s)}function l(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function i(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function fS(e,t,r){const n=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),We(e,l,"linePrefix")}function l(i){if(i===null||Me(i))return r(i);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(n.parser.constructs.flow,r,t)(i)}}function Qx(e,t,r,n,s,l,i,o,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return d;function d(x){return x===60?(e.enter(n),e.enter(s),e.enter(l),e.consume(x),e.exit(l),h):x===null||x===32||x===41||Vi(x)?r(x):(e.enter(n),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),b(x))}function h(x){return x===62?(e.enter(l),e.consume(x),e.exit(l),e.exit(s),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Me(x)?r(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function b(x){return!f&&(x===null||x===41||et(x))?(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(n),t(x)):f<u&&x===40?(e.consume(x),f++,b):x===41?(e.consume(x),f--,b):x===null||x===32||x===40||Vi(x)?r(x):(e.consume(x),x===92?k:b)}function k(x){return x===40||x===41||x===92?(e.consume(x),b):b(x)}}function Gx(e,t,r,n,s,l){const i=this;let o=0,c;return u;function u(m){return e.enter(n),e.enter(s),e.consume(m),e.exit(s),e.enter(l),f}function f(m){return o>999||m===null||m===91||m===93&&!c||m===94&&!o&&"_hiddenFootnoteSupport"in i.parser.constructs?r(m):m===93?(e.exit(l),e.enter(s),e.consume(m),e.exit(s),e.exit(n),t):Me(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||Me(m)||o++>999?(e.exit("chunkString"),f(m)):(e.consume(m),c||(c=!Ue(m)),m===92?h:d)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,d):d(m)}}function Jx(e,t,r,n,s,l){let i;return o;function o(h){return h===34||h===39||h===40?(e.enter(n),e.enter(s),e.consume(h),e.exit(s),i=h===40?41:h,c):r(h)}function c(h){return h===i?(e.enter(s),e.consume(h),e.exit(s),e.exit(n),t):(e.enter(l),u(h))}function u(h){return h===i?(e.exit(l),c(i)):h===null?r(h):Me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),We(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===i||h===null||Me(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===i||h===92?(e.consume(h),f):f(h)}}function Is(e,t){let r;return n;function n(s){return Me(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,n):Ue(s)?We(e,n,r?"linePrefix":"lineSuffix")(s):t(s)}}const hS={name:"definition",tokenize:pS},mS={partial:!0,tokenize:gS};function pS(e,t,r){const n=this;let s;return l;function l(m){return e.enter("definition"),i(m)}function i(m){return Gx.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return s=Rr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):r(m)}function c(m){return et(m)?Is(e,u)(m):u(m)}function u(m){return Qx(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(mS,d,d)(m)}function d(m){return Ue(m)?We(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Me(m)?(e.exit("definition"),n.parser.defined.push(s),t(m)):r(m)}}function gS(e,t,r){return n;function n(o){return et(o)?Is(e,s)(o):r(o)}function s(o){return Jx(e,l,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function l(o){return Ue(o)?We(e,i,"whitespace")(o):i(o)}function i(o){return o===null||Me(o)?t(o):r(o)}}const xS={name:"hardBreakEscape",tokenize:yS};function yS(e,t,r){return n;function n(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return Me(l)?(e.exit("hardBreakEscape"),t(l)):r(l)}}const bS={name:"headingAtx",resolve:vS,tokenize:kS};function vS(e,t){let r=e.length-2,n=3,s,l;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(s={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},l={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},ur(e,n,r-n+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function kS(e,t,r){let n=0;return s;function s(f){return e.enter("atxHeading"),l(f)}function l(f){return e.enter("atxHeadingSequence"),i(f)}function i(f){return f===35&&n++<6?(e.consume(f),i):f===null||et(f)?(e.exit("atxHeadingSequence"),o(f)):r(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||Me(f)?(e.exit("atxHeading"),t(f)):Ue(f)?We(e,o,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),o(f))}function u(f){return f===null||f===35||et(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),u)}}const wS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zm=["pre","script","style","textarea"],jS={concrete:!0,name:"htmlFlow",resolveTo:CS,tokenize:ES},NS={partial:!0,tokenize:TS},SS={partial:!0,tokenize:_S};function CS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ES(e,t,r){const n=this;let s,l,i,o,c;return u;function u(N){return f(N)}function f(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),d}function d(N){return N===33?(e.consume(N),h):N===47?(e.consume(N),l=!0,b):N===63?(e.consume(N),s=3,n.interrupt?t:j):qt(N)?(e.consume(N),i=String.fromCharCode(N),k):r(N)}function h(N){return N===45?(e.consume(N),s=2,m):N===91?(e.consume(N),s=5,o=0,p):qt(N)?(e.consume(N),s=4,n.interrupt?t:j):r(N)}function m(N){return N===45?(e.consume(N),n.interrupt?t:j):r(N)}function p(N){const Z="CDATA[";return N===Z.charCodeAt(o++)?(e.consume(N),o===Z.length?n.interrupt?t:_:p):r(N)}function b(N){return qt(N)?(e.consume(N),i=String.fromCharCode(N),k):r(N)}function k(N){if(N===null||N===47||N===62||et(N)){const Z=N===47,pe=i.toLowerCase();return!Z&&!l&&zm.includes(pe)?(s=1,n.interrupt?t(N):_(N)):wS.includes(i.toLowerCase())?(s=6,Z?(e.consume(N),x):n.interrupt?t(N):_(N)):(s=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(N):l?y(N):v(N))}return N===45||$t(N)?(e.consume(N),i+=String.fromCharCode(N),k):r(N)}function x(N){return N===62?(e.consume(N),n.interrupt?t:_):r(N)}function y(N){return Ue(N)?(e.consume(N),y):E(N)}function v(N){return N===47?(e.consume(N),E):N===58||N===95||qt(N)?(e.consume(N),w):Ue(N)?(e.consume(N),v):E(N)}function w(N){return N===45||N===46||N===58||N===95||$t(N)?(e.consume(N),w):C(N)}function C(N){return N===61?(e.consume(N),S):Ue(N)?(e.consume(N),C):v(N)}function S(N){return N===null||N===60||N===61||N===62||N===96?r(N):N===34||N===39?(e.consume(N),c=N,O):Ue(N)?(e.consume(N),S):A(N)}function O(N){return N===c?(e.consume(N),c=null,Q):N===null||Me(N)?r(N):(e.consume(N),O)}function A(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||et(N)?C(N):(e.consume(N),A)}function Q(N){return N===47||N===62||Ue(N)?v(N):r(N)}function E(N){return N===62?(e.consume(N),L):r(N)}function L(N){return N===null||Me(N)?_(N):Ue(N)?(e.consume(N),L):r(N)}function _(N){return N===45&&s===2?(e.consume(N),B):N===60&&s===1?(e.consume(N),T):N===62&&s===4?(e.consume(N),te):N===63&&s===3?(e.consume(N),j):N===93&&s===5?(e.consume(N),J):Me(N)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(NS,re,D)(N)):N===null||Me(N)?(e.exit("htmlFlowData"),D(N)):(e.consume(N),_)}function D(N){return e.check(SS,z,re)(N)}function z(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),P}function P(N){return N===null||Me(N)?D(N):(e.enter("htmlFlowData"),_(N))}function B(N){return N===45?(e.consume(N),j):_(N)}function T(N){return N===47?(e.consume(N),i="",M):_(N)}function M(N){if(N===62){const Z=i.toLowerCase();return zm.includes(Z)?(e.consume(N),te):_(N)}return qt(N)&&i.length<8?(e.consume(N),i+=String.fromCharCode(N),M):_(N)}function J(N){return N===93?(e.consume(N),j):_(N)}function j(N){return N===62?(e.consume(N),te):N===45&&s===2?(e.consume(N),j):_(N)}function te(N){return N===null||Me(N)?(e.exit("htmlFlowData"),re(N)):(e.consume(N),te)}function re(N){return e.exit("htmlFlow"),t(N)}}function _S(e,t,r){const n=this;return s;function s(i){return Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),l):r(i)}function l(i){return n.parser.lazy[n.now().line]?r(i):t(i)}}function TS(e,t,r){return n;function n(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(yl,t,r)}}const PS={name:"htmlText",tokenize:RS};function RS(e,t,r){const n=this;let s,l,i;return o;function o(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),c}function c(j){return j===33?(e.consume(j),u):j===47?(e.consume(j),C):j===63?(e.consume(j),v):qt(j)?(e.consume(j),A):r(j)}function u(j){return j===45?(e.consume(j),f):j===91?(e.consume(j),l=0,p):qt(j)?(e.consume(j),y):r(j)}function f(j){return j===45?(e.consume(j),m):r(j)}function d(j){return j===null?r(j):j===45?(e.consume(j),h):Me(j)?(i=d,T(j)):(e.consume(j),d)}function h(j){return j===45?(e.consume(j),m):d(j)}function m(j){return j===62?B(j):j===45?h(j):d(j)}function p(j){const te="CDATA[";return j===te.charCodeAt(l++)?(e.consume(j),l===te.length?b:p):r(j)}function b(j){return j===null?r(j):j===93?(e.consume(j),k):Me(j)?(i=b,T(j)):(e.consume(j),b)}function k(j){return j===93?(e.consume(j),x):b(j)}function x(j){return j===62?B(j):j===93?(e.consume(j),x):b(j)}function y(j){return j===null||j===62?B(j):Me(j)?(i=y,T(j)):(e.consume(j),y)}function v(j){return j===null?r(j):j===63?(e.consume(j),w):Me(j)?(i=v,T(j)):(e.consume(j),v)}function w(j){return j===62?B(j):v(j)}function C(j){return qt(j)?(e.consume(j),S):r(j)}function S(j){return j===45||$t(j)?(e.consume(j),S):O(j)}function O(j){return Me(j)?(i=O,T(j)):Ue(j)?(e.consume(j),O):B(j)}function A(j){return j===45||$t(j)?(e.consume(j),A):j===47||j===62||et(j)?Q(j):r(j)}function Q(j){return j===47?(e.consume(j),B):j===58||j===95||qt(j)?(e.consume(j),E):Me(j)?(i=Q,T(j)):Ue(j)?(e.consume(j),Q):B(j)}function E(j){return j===45||j===46||j===58||j===95||$t(j)?(e.consume(j),E):L(j)}function L(j){return j===61?(e.consume(j),_):Me(j)?(i=L,T(j)):Ue(j)?(e.consume(j),L):Q(j)}function _(j){return j===null||j===60||j===61||j===62||j===96?r(j):j===34||j===39?(e.consume(j),s=j,D):Me(j)?(i=_,T(j)):Ue(j)?(e.consume(j),_):(e.consume(j),z)}function D(j){return j===s?(e.consume(j),s=void 0,P):j===null?r(j):Me(j)?(i=D,T(j)):(e.consume(j),D)}function z(j){return j===null||j===34||j===39||j===60||j===61||j===96?r(j):j===47||j===62||et(j)?Q(j):(e.consume(j),z)}function P(j){return j===47||j===62||et(j)?Q(j):r(j)}function B(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),t):r(j)}function T(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),M}function M(j){return Ue(j)?We(e,J,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):J(j)}function J(j){return e.enter("htmlTextData"),i(j)}}const pf={name:"labelEnd",resolveAll:AS,resolveTo:zS,tokenize:OS},MS={tokenize:FS},LS={tokenize:DS},IS={tokenize:BS};function AS(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const s=n.type==="labelImage"?4:2;n.type="data",t+=s}}return e.length!==r.length&&ur(e,0,e.length,r),e}function zS(e,t){let r=e.length,n=0,s,l,i,o;for(;r--;)if(s=e[r][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=r,s.type!=="labelLink")){n=2;break}}else s.type==="labelEnd"&&(i=r);const c={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[i][1].end}},f={type:"labelText",start:{...e[l+n+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=br(o,e.slice(l+1,l+n+3)),o=br(o,[["enter",f,t]]),o=br(o,To(t.parser.constructs.insideSpan.null,e.slice(l+n+4,i-3),t)),o=br(o,[["exit",f,t],e[i-2],e[i-1],["exit",u,t]]),o=br(o,e.slice(i+1)),o=br(o,[["exit",c,t]]),ur(e,l,e.length,o),e}function OS(e,t,r){const n=this;let s=n.events.length,l,i;for(;s--;)if((n.events[s][1].type==="labelImage"||n.events[s][1].type==="labelLink")&&!n.events[s][1]._balanced){l=n.events[s][1];break}return o;function o(h){return l?l._inactive?d(h):(i=n.parser.defined.includes(Rr(n.sliceSerialize({start:l.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):r(h)}function c(h){return h===40?e.attempt(MS,f,i?f:d)(h):h===91?e.attempt(LS,f,i?u:d)(h):i?f(h):d(h)}function u(h){return e.attempt(IS,f,d)(h)}function f(h){return t(h)}function d(h){return l._balanced=!0,r(h)}}function FS(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),s}function s(d){return et(d)?Is(e,l)(d):l(d)}function l(d){return d===41?f(d):Qx(e,i,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function i(d){return et(d)?Is(e,c)(d):f(d)}function o(d){return r(d)}function c(d){return d===34||d===39||d===40?Jx(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return et(d)?Is(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function DS(e,t,r){const n=this;return s;function s(o){return Gx.call(n,e,l,i,"reference","referenceMarker","referenceString")(o)}function l(o){return n.parser.defined.includes(Rr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function i(o){return r(o)}}function BS(e,t,r){return n;function n(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):r(l)}}const $S={name:"labelStartImage",resolveAll:pf.resolveAll,tokenize:US};function US(e,t,r){const n=this;return s;function s(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),l}function l(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),i):r(o)}function i(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const HS={name:"labelStartLink",resolveAll:pf.resolveAll,tokenize:WS};function WS(e,t,r){const n=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),l}function l(i){return i===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(i):t(i)}}const xc={name:"lineEnding",tokenize:VS};function VS(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),We(e,t,"linePrefix")}}const ui={name:"thematicBreak",tokenize:qS};function qS(e,t,r){let n=0,s;return l;function l(u){return e.enter("thematicBreak"),i(u)}function i(u){return s=u,o(u)}function o(u){return u===s?(e.enter("thematicBreakSequence"),c(u)):n>=3&&(u===null||Me(u))?(e.exit("thematicBreak"),t(u)):r(u)}function c(u){return u===s?(e.consume(u),n++,c):(e.exit("thematicBreakSequence"),Ue(u)?We(e,o,"whitespace")(u):o(u))}}const Qt={continuation:{tokenize:QS},exit:JS,name:"list",tokenize:XS},KS={partial:!0,tokenize:ZS},YS={partial:!0,tokenize:GS};function XS(e,t,r){const n=this,s=n.events[n.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return o;function o(m){const p=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:Wu(m)){if(n.containerState.type||(n.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ui,r,u)(m):u(m);if(!n.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return r(m)}function c(m){return Wu(m)&&++i<10?(e.consume(m),c):(!n.interrupt||i<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):r(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,e.check(yl,n.interrupt?r:f,e.attempt(KS,h,d))}function f(m){return n.containerState.initialBlankLine=!0,l++,h(m)}function d(m){return Ue(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):r(m)}function h(m){return n.containerState.size=l+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function QS(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(yl,s,l);function s(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,We(e,t,"listItemIndent",n.containerState.size+1)(o)}function l(o){return n.containerState.furtherBlankLines||!Ue(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,i(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(YS,t,i)(o))}function i(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,We(e,e.attempt(Qt,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function GS(e,t,r){const n=this;return We(e,s,"listItemIndent",n.containerState.size+1);function s(l){const i=n.events[n.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===n.containerState.size?t(l):r(l)}}function JS(e){e.exit(this.containerState.type)}function ZS(e,t,r){const n=this;return We(e,s,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const i=n.events[n.events.length-1];return!Ue(l)&&i&&i[1].type==="listItemPrefixWhitespace"?t(l):r(l)}}const Om={name:"setextUnderline",resolveTo:e5,tokenize:t5};function e5(e,t){let r=e.length,n,s,l;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!l&&e[r][1].type==="definition"&&(l=r);const i={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",i,t]),e.splice(l+1,0,["exit",e[n][1],t]),e[n][1].end={...e[l][1].end}):e[n][1]=i,e.push(["exit",i,t]),e}function t5(e,t,r){const n=this;let s;return l;function l(u){let f=n.events.length,d;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){d=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),s=u,i(u)):r(u)}function i(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===s?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Ue(u)?We(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Me(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const r5={tokenize:n5};function n5(e){const t=this,r=e.attempt(yl,n,e.attempt(this.parser.constructs.flowInitial,s,We(e,e.attempt(this.parser.constructs.flow,s,e.attempt(oS,s)),"linePrefix")));return r;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const a5={resolveAll:ey()},s5=Zx("string"),l5=Zx("text");function Zx(e){return{resolveAll:ey(e==="text"?i5:void 0),tokenize:t};function t(r){const n=this,s=this.parser.constructs[e],l=r.attempt(s,i,o);return i;function i(f){return u(f)?l(f):o(f)}function o(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),c}function c(f){return u(f)?(r.exit("data"),l(f)):(r.consume(f),c)}function u(f){if(f===null)return!0;const d=s[f];let h=-1;if(d)for(;++h<d.length;){const m=d[h];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function ey(e){return t;function t(r,n){let s=-1,l;for(;++s<=r.length;)l===void 0?r[s]&&r[s][1].type==="data"&&(l=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==l+2&&(r[l][1].end=r[s-1][1].end,r.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(r,n):r}}function i5(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],s=t.sliceStream(n);let l=s.length,i=-1,o=0,c;for(;l--;){const u=s[l];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)o++,i--;if(i)break;i=-1}else if(u===-2)c=!0,o++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?i:n.start._bufferIndex+i,_index:n.start._index+l,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const o5={42:Qt,43:Qt,45:Qt,48:Qt,49:Qt,50:Qt,51:Qt,52:Qt,53:Qt,54:Qt,55:Qt,56:Qt,57:Qt,62:qx},c5={91:hS},u5={[-2]:gc,[-1]:gc,32:gc},d5={35:bS,42:ui,45:[Om,ui],60:jS,61:Om,95:ui,96:Am,126:Am},f5={38:Yx,92:Kx},h5={[-5]:xc,[-4]:xc,[-3]:xc,33:$S,38:Yx,42:Vu,60:[H4,PS],91:HS,92:[xS,Kx],93:pf,95:Vu,96:rS},m5={null:[Vu,a5]},p5={null:[42,95]},g5={null:[]},x5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:p5,contentInitial:c5,disable:g5,document:o5,flow:d5,flowInitial:u5,insideSpan:m5,string:f5,text:h5},Symbol.toStringTag,{value:"Module"}));function y5(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},l=[];let i=[],o=[];const c={attempt:O(C),check:O(S),consume:y,enter:v,exit:w,interrupt:O(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:d};let f=t.tokenize.call(u,c);return t.resolveAll&&l.push(t),u;function d(L){return i=br(i,L),k(),i[i.length-1]!==null?[]:(A(t,0),u.events=To(l,u.events,u),u.events)}function h(L,_){return v5(m(L),_)}function m(L){return b5(i,L)}function p(){const{_bufferIndex:L,_index:_,line:D,column:z,offset:P}=n;return{_bufferIndex:L,_index:_,line:D,column:z,offset:P}}function b(L){s[L.line]=L.column,E()}function k(){let L;for(;n._index<i.length;){const _=i[n._index];if(typeof _=="string")for(L=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===L&&n._bufferIndex<_.length;)x(_.charCodeAt(n._bufferIndex));else x(_)}}function x(L){f=f(L)}function y(L){Me(L)?(n.line++,n.column=1,n.offset+=L===-3?2:1,E()):L!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===i[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=L}function v(L,_){const D=_||{};return D.type=L,D.start=p(),u.events.push(["enter",D,u]),o.push(D),D}function w(L){const _=o.pop();return _.end=p(),u.events.push(["exit",_,u]),_}function C(L,_){A(L,_.from)}function S(L,_){_.restore()}function O(L,_){return D;function D(z,P,B){let T,M,J,j;return Array.isArray(z)?re(z):"tokenize"in z?re([z]):te(z);function te(ke){return Le;function Le(_e){const Ge=_e!==null&&ke[_e],$e=_e!==null&&ke.null,ft=[...Array.isArray(Ge)?Ge:Ge?[Ge]:[],...Array.isArray($e)?$e:$e?[$e]:[]];return re(ft)(_e)}}function re(ke){return T=ke,M=0,ke.length===0?B:N(ke[M])}function N(ke){return Le;function Le(_e){return j=Q(),J=ke,ke.partial||(u.currentConstruct=ke),ke.name&&u.parser.constructs.disable.null.includes(ke.name)?pe():ke.tokenize.call(_?Object.assign(Object.create(u),_):u,c,Z,pe)(_e)}}function Z(ke){return L(J,j),P}function pe(ke){return j.restore(),++M<T.length?N(T[M]):B}}}function A(L,_){L.resolveAll&&!l.includes(L)&&l.push(L),L.resolve&&ur(u.events,_,u.events.length-_,L.resolve(u.events.slice(_),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function Q(){const L=p(),_=u.previous,D=u.currentConstruct,z=u.events.length,P=Array.from(o);return{from:z,restore:B};function B(){n=L,u.previous=_,u.currentConstruct=D,u.events.length=z,o=P,E()}}function E(){n.line in s&&n.column<2&&(n.column=s[n.line],n.offset+=s[n.line]-1)}}function b5(e,t){const r=t.start._index,n=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let i;if(r===s)i=[e[r].slice(n,l)];else{if(i=e.slice(r,s),n>-1){const o=i[0];typeof o=="string"?i[0]=o.slice(n):i.shift()}l>0&&i.push(e[s].slice(0,l))}return i}function v5(e,t){let r=-1;const n=[];let s;for(;++r<e.length;){const l=e[r];let i;if(typeof l=="string")i=l;else switch(l){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(l)}s=l===-2,n.push(i)}return n.join("")}function k5(e){const n={constructs:Wx([x5,...(e||{}).extensions||[]]),content:s(z4),defined:[],document:s(F4),flow:s(r5),lazy:{},string:s(s5),text:s(l5)};return n;function s(l){return i;function i(o){return y5(n,l,o)}}}function w5(e){for(;!Xx(e););return e}const Fm=/[\0\t\n\r]/g;function j5(){let e=1,t="",r=!0,n;return s;function s(l,i,o){const c=[];let u,f,d,h,m;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(i||void 0).decode(l)),d=0,t="",r&&(l.charCodeAt(0)===65279&&d++,r=void 0);d<l.length;){if(Fm.lastIndex=d,u=Fm.exec(l),h=u&&u.index!==void 0?u.index:l.length,m=l.charCodeAt(h),!u){t=l.slice(d);break}if(m===10&&d===h&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),d<h&&(c.push(l.slice(d,h)),e+=h-d),m){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}d=h+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const N5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function S5(e){return e.replace(N5,C5)}function C5(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),l=s===120||s===88;return Vx(r.slice(l?2:1),l?16:10)}return mf(r)||e}const ty={}.hasOwnProperty;function E5(e,t,r){return typeof t!="string"&&(r=t,t=void 0),_5(r)(w5(k5(r).document().write(j5()(e,t,!0))))}function _5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l($),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:l(K),blockQuote:l($e),characterEscape:Q,characterReference:Q,codeFenced:l(ft),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:l(ft,i),codeText:l(me,i),codeTextData:Q,data:Q,codeFlowValue:Q,definition:l(fe),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:l(se),hardBreakEscape:l(oe),hardBreakTrailing:l(oe),htmlFlow:l(ce,i),htmlFlowData:Q,htmlText:l(ce,i),htmlTextData:Q,image:l(be),label:i,link:l($),listItem:l(Ce),listItemValue:h,listOrdered:l(ue,d),listUnordered:l(ue),paragraph:l(Te),reference:N,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:l(K),strong:l(ye),thematicBreak:l(Be)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:Ge,autolinkProtocol:_e,blockQuote:c(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:ke,characterReference:Le,codeFenced:c(k),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:c(x),codeText:c(P),codeTextData:E,data:E,definition:c(),definitionDestinationString:w,definitionLabelString:y,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(_),hardBreakTrailing:c(_),htmlFlow:c(D),htmlFlowData:E,htmlText:c(z),htmlTextData:E,image:c(T),label:J,labelText:M,lineEnding:L,link:c(B),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Z,resourceDestinationString:j,resourceTitleString:te,resource:re,setextHeading:c(A),setextHeadingLineSequence:O,setextHeadingText:S,strong:c(),thematicBreak:c()}};ry(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(W){let ee={type:"root",children:[]};const ve={stack:[ee],tokenStack:[],config:t,enter:o,exit:u,buffer:i,resume:f,data:r},Re=[];let Fe=-1;for(;++Fe<W.length;)if(W[Fe][1].type==="listOrdered"||W[Fe][1].type==="listUnordered")if(W[Fe][0]==="enter")Re.push(Fe);else{const Ye=Re.pop();Fe=s(W,Ye,Fe)}for(Fe=-1;++Fe<W.length;){const Ye=t[W[Fe][0]];ty.call(Ye,W[Fe][1].type)&&Ye[W[Fe][1].type].call(Object.assign({sliceSerialize:W[Fe][2].sliceSerialize},ve),W[Fe][1])}if(ve.tokenStack.length>0){const Ye=ve.tokenStack[ve.tokenStack.length-1];(Ye[1]||Dm).call(ve,void 0,Ye[0])}for(ee.position={start:xn(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:xn(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<t.transforms.length;)ee=t.transforms[Fe](ee)||ee;return ee}function s(W,ee,ve){let Re=ee-1,Fe=-1,Ye=!1,St,ut,Ne,he;for(;++Re<=ve;){const U=W[Re];switch(U[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{U[0]==="enter"?Fe++:Fe--,he=void 0;break}case"lineEndingBlank":{U[0]==="enter"&&(St&&!he&&!Fe&&!Ne&&(Ne=Re),he=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:he=void 0}if(!Fe&&U[0]==="enter"&&U[1].type==="listItemPrefix"||Fe===-1&&U[0]==="exit"&&(U[1].type==="listUnordered"||U[1].type==="listOrdered")){if(St){let Y=Re;for(ut=void 0;Y--;){const F=W[Y];if(F[1].type==="lineEnding"||F[1].type==="lineEndingBlank"){if(F[0]==="exit")continue;ut&&(W[ut][1].type="lineEndingBlank",Ye=!0),F[1].type="lineEnding",ut=Y}else if(!(F[1].type==="linePrefix"||F[1].type==="blockQuotePrefix"||F[1].type==="blockQuotePrefixWhitespace"||F[1].type==="blockQuoteMarker"||F[1].type==="listItemIndent"))break}Ne&&(!ut||Ne<ut)&&(St._spread=!0),St.end=Object.assign({},ut?W[ut][1].start:U[1].end),W.splice(ut||Re,0,["exit",St,U[2]]),Re++,ve++}if(U[1].type==="listItemPrefix"){const Y={type:"listItem",_spread:!1,start:Object.assign({},U[1].start),end:void 0};St=Y,W.splice(Re,0,["enter",Y,U[2]]),Re++,ve++,Ne=void 0,he=!0}}}return W[ee][1]._spread=Ye,ve}function l(W,ee){return ve;function ve(Re){o.call(this,W(Re),Re),ee&&ee.call(this,Re)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(W,ee,ve){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([ee,ve||void 0]),W.position={start:xn(ee.start),end:void 0}}function c(W){return ee;function ee(ve){W&&W.call(this,ve),u.call(this,ve)}}function u(W,ee){const ve=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==W.type&&(ee?ee.call(this,W,Re[0]):(Re[1]||Dm).call(this,W,Re[0]));else throw new Error("Cannot close `"+W.type+"` ("+Ls({start:W.start,end:W.end})+"): its not open");ve.position.end=xn(W.end)}function f(){return hf(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(W){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function m(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=W}function p(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=W}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W.replace(/(\r?\n|\r)$/g,"")}function y(W){const ee=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ee,ve.identifier=Rr(this.sliceSerialize(W)).toLowerCase()}function v(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.title=W}function w(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.url=W}function C(W){const ee=this.stack[this.stack.length-1];if(!ee.depth){const ve=this.sliceSerialize(W).length;ee.depth=ve}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function O(W){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(W){const ve=this.stack[this.stack.length-1].children;let Re=ve[ve.length-1];(!Re||Re.type!=="text")&&(Re=Pe(),Re.position={start:xn(W.start),end:void 0},ve.push(Re)),this.stack.push(Re)}function E(W){const ee=this.stack.pop();ee.value+=this.sliceSerialize(W),ee.position.end=xn(W.end)}function L(W){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ee.children[ee.children.length-1];ve.position.end=xn(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(Q.call(this,W),E.call(this,W))}function _(){this.data.atHardBreak=!0}function D(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W}function z(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W}function P(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W}function B(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ee,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function T(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ee,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function M(W){const ee=this.sliceSerialize(W),ve=this.stack[this.stack.length-2];ve.label=S5(ee),ve.identifier=Rr(ee).toLowerCase()}function J(){const W=this.stack[this.stack.length-1],ee=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Re=W.children;ve.children=Re}else ve.alt=ee}function j(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.url=W}function te(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.title=W}function re(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function Z(W){const ee=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ee,ve.identifier=Rr(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function pe(W){this.data.characterReferenceType=W.type}function ke(W){const ee=this.sliceSerialize(W),ve=this.data.characterReferenceType;let Re;ve?(Re=Vx(ee,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=mf(ee);const Fe=this.stack[this.stack.length-1];Fe.value+=Re}function Le(W){const ee=this.stack.pop();ee.position.end=xn(W.end)}function _e(W){E.call(this,W);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(W)}function Ge(W){E.call(this,W);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(W)}function $e(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function se(){return{type:"emphasis",children:[]}}function K(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function ce(){return{type:"html",value:""}}function be(){return{type:"image",title:null,url:"",alt:null}}function $(){return{type:"link",title:null,url:"",children:[]}}function ue(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Ce(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Te(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function Pe(){return{type:"text",value:""}}function Be(){return{type:"thematicBreak"}}}function xn(e){return{line:e.line,column:e.column,offset:e.offset}}function ry(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?ry(e,n):T5(e,n)}}function T5(e,t){let r;for(r in t)if(ty.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Dm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ls({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ls({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ls({start:t.start,end:t.end})+") is still open")}function P5(e){const t=this;t.parser=r;function r(n){return E5(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function R5(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function M5(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function L5(e,t){const r=t.value?t.value+`
`:"",n={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(n.className=["language-"+s[0]]);let l={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function I5(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function A5(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function z5(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),s=ss(n.toLowerCase()),l=e.footnoteOrder.indexOf(n);let i,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),i=e.footnoteOrder.length):i=l+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function O5(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function F5(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function ny(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=n:s.push({type:"text",value:n}),s}function D5(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return ny(e,t);const s={src:ss(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(s.title=n.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function B5(e,t){const r={src:ss(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function $5(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function U5(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return ny(e,t);const s={href:ss(n.url||"")};n.title!==null&&n.title!==void 0&&(s.title=n.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function H5(e,t){const r={href:ss(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function W5(e,t,r){const n=e.all(t),s=r?V5(r):ay(t),l={},i=[];if(typeof t.checked=="boolean"){const f=n[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const f=n[o];(s||o!==0||f.type!=="element"||f.tagName!=="p")&&i.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!s?i.push(...f.children):i.push(f)}const c=n[n.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:i};return e.patch(t,u),e.applyData(t,u)}function V5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=ay(r[n])}return t}function ay(e){const t=e.spread;return t??e.children.length>1}function q5(e,t){const r={},n=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++s<n.length;){const i=n[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,l),e.applyData(t,l)}function K5(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Y5(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function X5(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Q5(e,t){const r=e.all(t),n=r.shift(),s=[];if(n){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],i),s.push(i)}if(r.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=cf(t.children[1]),c=Ox(t.children[t.children.length-1]);o&&c&&(i.position={start:o,end:c}),s.push(i)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function G5(e,t,r){const n=r?r.children:void 0,l=(n?n.indexOf(t):1)===0?"th":"td",i=r&&r.type==="table"?r.align:void 0,o=i?i.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const d=t.children[c],h={},m=i?i[c]:void 0;m&&(h.align=m);let p={type:"element",tagName:l,properties:h,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function J5(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Bm=9,$m=32;function Z5(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),s=0;const l=[];for(;n;)l.push(Um(t.slice(s,n.index),s>0,!0),n[0]),s=n.index+n[0].length,n=r.exec(t);return l.push(Um(t.slice(s),s>0,!1)),l.join("")}function Um(e,t,r){let n=0,s=e.length;if(t){let l=e.codePointAt(n);for(;l===Bm||l===$m;)n++,l=e.codePointAt(n)}if(r){let l=e.codePointAt(s-1);for(;l===Bm||l===$m;)s--,l=e.codePointAt(s-1)}return s>n?e.slice(n,s):""}function eC(e,t){const r={type:"text",value:Z5(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function tC(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const rC={blockquote:R5,break:M5,code:L5,delete:I5,emphasis:A5,footnoteReference:z5,heading:O5,html:F5,imageReference:D5,image:B5,inlineCode:$5,linkReference:U5,link:H5,listItem:W5,list:q5,paragraph:K5,root:Y5,strong:X5,table:Q5,tableCell:J5,tableRow:G5,text:eC,thematicBreak:tC,toml:Hl,yaml:Hl,definition:Hl,footnoteDefinition:Hl};function Hl(){}const sy=-1,Po=0,As=1,qi=2,gf=3,xf=4,yf=5,bf=6,ly=7,iy=8,Hm=typeof self=="object"?self:globalThis,nC=(e,t)=>{const r=(s,l)=>(e.set(l,s),s),n=s=>{if(e.has(s))return e.get(s);const[l,i]=t[s];switch(l){case Po:case sy:return r(i,s);case As:{const o=r([],s);for(const c of i)o.push(n(c));return o}case qi:{const o=r({},s);for(const[c,u]of i)o[n(c)]=n(u);return o}case gf:return r(new Date(i),s);case xf:{const{source:o,flags:c}=i;return r(new RegExp(o,c),s)}case yf:{const o=r(new Map,s);for(const[c,u]of i)o.set(n(c),n(u));return o}case bf:{const o=r(new Set,s);for(const c of i)o.add(n(c));return o}case ly:{const{name:o,message:c}=i;return r(new Hm[o](c),s)}case iy:return r(BigInt(i),s);case"BigInt":return r(Object(BigInt(i)),s);case"ArrayBuffer":return r(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:o}=new Uint8Array(i);return r(new DataView(o),i)}}return r(new Hm[l](i),s)};return n},Wm=e=>nC(new Map,e)(0),ga="",{toString:aC}={},{keys:sC}=Object,bs=e=>{const t=typeof e;if(t!=="object"||!e)return[Po,t];const r=aC.call(e).slice(8,-1);switch(r){case"Array":return[As,ga];case"Object":return[qi,ga];case"Date":return[gf,ga];case"RegExp":return[xf,ga];case"Map":return[yf,ga];case"Set":return[bf,ga];case"DataView":return[As,r]}return r.includes("Array")?[As,r]:r.includes("Error")?[ly,r]:[qi,r]},Wl=([e,t])=>e===Po&&(t==="function"||t==="symbol"),lC=(e,t,r,n)=>{const s=(i,o)=>{const c=n.push(i)-1;return r.set(o,c),c},l=i=>{if(r.has(i))return r.get(i);let[o,c]=bs(i);switch(o){case Po:{let f=i;switch(c){case"bigint":o=iy,f=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return s([sy],i)}return s([o,f],i)}case As:{if(c){let h=i;return c==="DataView"?h=new Uint8Array(i.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(i)),s([c,[...h]],i)}const f=[],d=s([o,f],i);for(const h of i)f.push(l(h));return d}case qi:{if(c)switch(c){case"BigInt":return s([c,i.toString()],i);case"Boolean":case"Number":case"String":return s([c,i.valueOf()],i)}if(t&&"toJSON"in i)return l(i.toJSON());const f=[],d=s([o,f],i);for(const h of sC(i))(e||!Wl(bs(i[h])))&&f.push([l(h),l(i[h])]);return d}case gf:return s([o,i.toISOString()],i);case xf:{const{source:f,flags:d}=i;return s([o,{source:f,flags:d}],i)}case yf:{const f=[],d=s([o,f],i);for(const[h,m]of i)(e||!(Wl(bs(h))||Wl(bs(m))))&&f.push([l(h),l(m)]);return d}case bf:{const f=[],d=s([o,f],i);for(const h of i)(e||!Wl(bs(h)))&&f.push(l(h));return d}}const{message:u}=i;return s([o,{name:c,message:u}],i)};return l},Vm=(e,{json:t,lossy:r}={})=>{const n=[];return lC(!(t||r),!!t,new Map,n)(e),n},Ki=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Wm(Vm(e,t)):structuredClone(e):(e,t)=>Wm(Vm(e,t));function iC(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function oC(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cC(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||iC,n=e.options.footnoteBackLabel||oC,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=ss(d.toLowerCase());let m=0;const p=[],b=e.footnoteCounts.get(d);for(;b!==void 0&&++m<=b;){p.length>0&&p.push({type:"text",value:" "});let y=typeof r=="string"?r:r(c,m);typeof y=="string"&&(y={type:"text",value:y}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,m),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const k=f[f.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const y=k.children[k.children.length-1];y&&y.type==="text"?y.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...p)}else f.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Ki(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ro=function(e){if(e==null)return hC;if(typeof e=="function")return Mo(e);if(typeof e=="object")return Array.isArray(e)?uC(e):dC(e);if(typeof e=="string")return fC(e);throw new Error("Expected function, string, or object as test")};function uC(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Ro(e[r]);return Mo(n);function n(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function dC(e){const t=e;return Mo(r);function r(n){const s=n;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function fC(e){return Mo(t);function t(r){return r&&r.type===e}}function Mo(e){return t;function t(r,n,s){return!!(mC(r)&&e.call(this,r,typeof n=="number"?n:void 0,s||void 0))}}function hC(){return!0}function mC(e){return e!==null&&typeof e=="object"&&"type"in e}const oy=[],pC=!0,qu=!1,gC="skip";function cy(e,t,r,n){let s;typeof t=="function"&&typeof r!="function"?(n=r,r=t):s=t;const l=Ro(s),i=n?-1:1;o(e,void 0,[])();function o(c,u,f){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=oy,p,b,k;if((!t||l(c,u,f[f.length-1]||void 0))&&(m=xC(r(c,f)),m[0]===qu))return m;if("children"in c&&c.children){const x=c;if(x.children&&m[0]!==gC)for(b=(n?x.children.length:-1)+i,k=f.concat(x);b>-1&&b<x.children.length;){const y=x.children[b];if(p=o(y,b,k)(),p[0]===qu)return p;b=typeof p[1]=="number"?p[1]:b+i}}return m}}}function xC(e){return Array.isArray(e)?e:typeof e=="number"?[pC,e]:e==null?oy:[e]}function vf(e,t,r,n){let s,l,i;typeof t=="function"&&typeof r!="function"?(l=void 0,i=t,s=r):(l=t,i=r,s=n),cy(e,l,o,s);function o(c,u){const f=u[u.length-1],d=f?f.children.indexOf(c):void 0;return i(c,d,f)}}const Ku={}.hasOwnProperty,yC={};function bC(e,t){const r=t||yC,n=new Map,s=new Map,l=new Map,i={...rC,...r.handlers},o={all:u,applyData:kC,definitionById:n,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:i,one:c,options:r,patch:vC,wrap:jC};return vf(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?n:s,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),o;function c(f,d){const h=f.type,m=o.handlers[h];if(Ku.call(o.handlers,h)&&m)return m(o,f,d);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in f){const{children:b,...k}=f,x=Ki(k);return x.children=o.all(f),x}return Ki(f)}return(o.options.unknownHandler||wC)(o,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],f);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=qm(p.value)),!Array.isArray(p)&&p.type==="element")){const b=p.children[0];b&&b.type==="text"&&(b.value=qm(b.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function vC(e,t){e.position&&(t.position=o4(e))}function kC(e,t){let r=t;if(e&&e.data){const n=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const i="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:i}}r.type==="element"&&l&&Object.assign(r.properties,Ki(l)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function wC(e,t){const r=t.data||{},n="value"in t&&!(Ku.call(r,"hProperties")||Ku.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jC(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function qm(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function Km(e,t){const r=bC(e,t),n=r.one(e,void 0),s=cC(r),l=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function NC(e,t){return e&&"run"in e?async function(r,n){const s=Km(r,{file:n,...t});await e.run(s,n)}:function(r,n){return Km(r,{file:n,...e||t})}}function Ym(e){if(e)throw e}var di=Object.prototype.hasOwnProperty,uy=Object.prototype.toString,Xm=Object.defineProperty,Qm=Object.getOwnPropertyDescriptor,Gm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):uy.call(t)==="[object Array]"},Jm=function(t){if(!t||uy.call(t)!=="[object Object]")return!1;var r=di.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&di.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var s;for(s in t);return typeof s>"u"||di.call(t,s)},Zm=function(t,r){Xm&&r.name==="__proto__"?Xm(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},ep=function(t,r){if(r==="__proto__")if(di.call(t,r)){if(Qm)return Qm(t,r).value}else return;return t[r]},SC=function e(){var t,r,n,s,l,i,o=arguments[0],c=1,u=arguments.length,f=!1;for(typeof o=="boolean"&&(f=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(r in t)n=ep(o,r),s=ep(t,r),o!==s&&(f&&s&&(Jm(s)||(l=Gm(s)))?(l?(l=!1,i=n&&Gm(n)?n:[]):i=n&&Jm(n)?n:{},Zm(o,{name:r,newValue:e(f,i,s)})):typeof s<"u"&&Zm(o,{name:r,newValue:s}));return o};const yc=Xi(SC);function Yu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function CC(){const e=[],t={run:r,use:n};return t;function r(...s){let l=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);o(null,...s);function o(c,...u){const f=e[++l];let d=-1;if(c){i(c);return}for(;++d<s.length;)(u[d]===null||u[d]===void 0)&&(u[d]=s[d]);s=u,f?EC(f,o)(...u):i(null,...u)}}function n(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function EC(e,t){let r;return n;function n(...i){const o=e.length>i.length;let c;o&&i.push(s);try{c=e.apply(this,i)}catch(u){const f=u;if(o&&r)throw f;return s(f)}o||(c&&c.then&&typeof c.then=="function"?c.then(l,s):c instanceof Error?s(c):l(c))}function s(i,...o){r||(r=!0,t(i,...o))}function l(i){s(null,i)}}const Dr={basename:_C,dirname:TC,extname:PC,join:RC,sep:"/"};function _C(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');bl(e);let r=0,n=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){r=s+1;break}}else n<0&&(l=!0,n=s+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let i=-1,o=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){r=s+1;break}}else i<0&&(l=!0,i=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(n=s):(o=-1,n=i));return r===n?n=i:n<0&&(n=e.length),e.slice(r,n)}function TC(e){if(bl(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function PC(e){bl(e);let t=e.length,r=-1,n=0,s=-1,l=0,i;for(;t--;){const o=e.codePointAt(t);if(o===47){if(i){n=t+1;break}continue}r<0&&(i=!0,r=t+1),o===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||r<0||l===0||l===1&&s===r-1&&s===n+1?"":e.slice(s,r)}function RC(...e){let t=-1,r;for(;++t<e.length;)bl(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":MC(r)}function MC(e){bl(e);const t=e.codePointAt(0)===47;let r=LC(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function LC(e,t){let r="",n=0,s=-1,l=0,i=-1,o,c;for(;++i<=e.length;){if(i<e.length)o=e.codePointAt(i);else{if(o===47)break;o=47}if(o===47){if(!(s===i-1||l===1))if(s!==i-1&&l===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=i,l=0;continue}}else if(r.length>0){r="",n=0,s=i,l=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(s+1,i):r=e.slice(s+1,i),n=i-s-1;s=i,l=0}else o===46&&l>-1?l++:l=-1}return r}function bl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const IC={cwd:AC};function AC(){return"/"}function Xu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function zC(e){if(typeof e=="string")e=new URL(e);else if(!Xu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return OC(e)}function OC(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const bc=["history","path","basename","stem","extname","dirname"];class dy{constructor(t){let r;t?Xu(t)?r={path:t}:typeof t=="string"||FC(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":IC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<bc.length;){const l=bc[n];l in r&&r[l]!==void 0&&r[l]!==null&&(this[l]=l==="history"?[...r[l]]:r[l])}let s;for(s in r)bc.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?Dr.basename(this.path):void 0}set basename(t){kc(t,"basename"),vc(t,"basename"),this.path=Dr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Dr.dirname(this.path):void 0}set dirname(t){tp(this.basename,"dirname"),this.path=Dr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Dr.extname(this.path):void 0}set extname(t){if(vc(t,"extname"),tp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Dr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Xu(t)&&(t=zC(t)),kc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Dr.basename(this.path,this.extname):void 0}set stem(t){kc(t,"stem"),vc(t,"stem"),this.path=Dr.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const s=this.message(t,r,n);throw s.fatal=!0,s}info(t,r,n){const s=this.message(t,r,n);return s.fatal=void 0,s}message(t,r,n){const s=new Ht(t,r,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vc(e,t){if(e&&e.includes(Dr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Dr.sep+"`")}function kc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function tp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function FC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const DC=function(e){const n=this.constructor.prototype,s=n[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,n),l},BC={}.hasOwnProperty;class kf extends DC{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CC()}copy(){const t=new kf;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(yc(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Nc("data",this.frozen),this.namespace[t]=r,this):BC.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Nc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const s=r.call(t,...n);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Vl(t),n=this.parser||this.Parser;return wc("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),wc("process",this.parser||this.Parser),jc("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(l,i){const o=Vl(t),c=n.parse(o);n.run(c,o,function(f,d,h){if(f||!d||!h)return u(f);const m=d,p=n.stringify(m,h);HC(p)?h.value=p:h.result=p,u(f,h)});function u(f,d){f||!d?i(f):l?l(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),wc("processSync",this.parser||this.Parser),jc("processSync",this.compiler||this.Compiler),this.process(t,s),np("processSync","process",r),n;function s(l,i){r=!0,Ym(l),n=i}}run(t,r,n){rp(t),this.freeze();const s=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?l(void 0,n):new Promise(l);function l(i,o){const c=Vl(r);s.run(t,c,u);function u(f,d,h){const m=d||t;f?o(f):i?i(m):n(void 0,m,h)}}}runSync(t,r){let n=!1,s;return this.run(t,r,l),np("runSync","run",n),s;function l(i,o){Ym(i),s=o,n=!0}}stringify(t,r){this.freeze();const n=Vl(r),s=this.compiler||this.Compiler;return jc("stringify",s),rp(t),s(t,n)}use(t,...r){const n=this.attachers,s=this.namespace;if(Nc("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;c(f,d)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(s.settings=yc(!0,s.settings,u.settings))}function o(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];l(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let d=-1,h=-1;for(;++d<n.length;)if(n[d][0]===u){h=d;break}if(h===-1)n.push([u,...f]);else if(f.length>0){let[m,...p]=f;const b=n[h][1];Yu(b)&&Yu(m)&&(m=yc(!0,b,m)),n[h]=[u,m,...p]}}}}const $C=new kf().freeze();function wc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function jc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Nc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rp(e){if(!Yu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function np(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vl(e){return UC(e)?e:new dy(e)}function UC(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function HC(e){return typeof e=="string"||WC(e)}function WC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const VC="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ap=[],sp={allowDangerousHtml:!0},qC=/^(https?|ircs?|mailto|xmpp)$/i,KC=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function YC(e){const t=XC(e),r=QC(e);return GC(t.runSync(t.parse(r),r),e)}function XC(e){const t=e.rehypePlugins||ap,r=e.remarkPlugins||ap,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...sp}:sp;return $C().use(P5).use(r).use(NC,n).use(t)}function QC(e){const t=e.children||"",r=new dy;return typeof t=="string"&&(r.value=t),r}function GC(e,t){const r=t.allowedElements,n=t.allowElement,s=t.components,l=t.disallowedElements,i=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||JC;for(const f of KC)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+VC+f.id,void 0);return vf(e,u),h4(e,{Fragment:a.Fragment,components:s,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return i?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let m;for(m in pc)if(Object.hasOwn(pc,m)&&Object.hasOwn(f.properties,m)){const p=f.properties[m],b=pc[m];(b===null||b.includes(f.tagName))&&(f.properties[m]=c(String(p||""),m,f))}}if(f.type==="element"){let m=r?!r.includes(f.tagName):l?l.includes(f.tagName):!1;if(!m&&n&&typeof d=="number"&&(m=!n(f,d,h)),m&&h&&typeof d=="number")return o&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function JC(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||r!==-1&&t>r||n!==-1&&t>n||qC.test(e.slice(0,t))?e:""}function lp(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,s=r.indexOf(t);for(;s!==-1;)n++,s=r.indexOf(t,s+t.length);return n}function ZC(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function e3(e,t,r){const s=Ro((r||{}).ignore||[]),l=t3(t);let i=-1;for(;++i<l.length;)cy(e,"text",o);function o(u,f){let d=-1,h;for(;++d<f.length;){const m=f[d],p=h?h.children:void 0;if(s(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return c(u,f)}function c(u,f){const d=f[f.length-1],h=l[i][0],m=l[i][1];let p=0;const k=d.children.indexOf(u);let x=!1,y=[];h.lastIndex=0;let v=h.exec(u.value);for(;v;){const w=v.index,C={index:v.index,input:v.input,stack:[...f,u]};let S=m(...v,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=w+1:(p!==w&&y.push({type:"text",value:u.value.slice(p,w)}),Array.isArray(S)?y.push(...S):S&&y.push(S),p=w+v[0].length,x=!0),!h.global)break;v=h.exec(u.value)}return x?(p<u.value.length&&y.push({type:"text",value:u.value.slice(p)}),d.children.splice(k,1,...y)):y=[u],k+y.length}}function t3(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const s=r[n];t.push([r3(s[0]),n3(s[1])])}return t}function r3(e){return typeof e=="string"?new RegExp(ZC(e),"g"):e}function n3(e){return typeof e=="function"?e:function(){return e}}const Sc="phrasing",Cc=["autolink","link","image","label"];function a3(){return{transforms:[d3],enter:{literalAutolink:l3,literalAutolinkEmail:Ec,literalAutolinkHttp:Ec,literalAutolinkWww:Ec},exit:{literalAutolink:u3,literalAutolinkEmail:c3,literalAutolinkHttp:i3,literalAutolinkWww:o3}}}function s3(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sc,notInConstruct:Cc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sc,notInConstruct:Cc},{character:":",before:"[ps]",after:"\\/",inConstruct:Sc,notInConstruct:Cc}]}}function l3(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ec(e){this.config.enter.autolinkProtocol.call(this,e)}function i3(e){this.config.exit.autolinkProtocol.call(this,e)}function o3(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function c3(e){this.config.exit.autolinkEmail.call(this,e)}function u3(e){this.exit(e)}function d3(e){e3(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,f3],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),h3]],{ignore:["link","linkReference"]})}function f3(e,t,r,n,s){let l="";if(!fy(s)||(/^w/i.test(t)&&(r=t+r,t="",l="http://"),!m3(r)))return!1;const i=p3(r+n);if(!i[0])return!1;const o={type:"link",title:null,url:l+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[o,{type:"text",value:i[1]}]:o}function h3(e,t,r,n){return!fy(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function m3(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function p3(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const s=lp(e,"(");let l=lp(e,")");for(;n!==-1&&s>l;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),l++;return[e,r]}function fy(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||ua(r)||_o(r))&&(!t||r!==47)}hy.peek=N3;function g3(){this.buffer()}function x3(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function y3(){this.buffer()}function b3(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function v3(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Rr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function k3(e){this.exit(e)}function w3(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Rr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function j3(e){this.exit(e)}function N3(){return"["}function hy(e,t,r,n){const s=r.createTracker(n);let l=s.move("[^");const i=r.enter("footnoteReference"),o=r.enter("reference");return l+=s.move(r.safe(r.associationId(e),{after:"]",before:l})),o(),i(),l+=s.move("]"),l}function S3(){return{enter:{gfmFootnoteCallString:g3,gfmFootnoteCall:x3,gfmFootnoteDefinitionLabelString:y3,gfmFootnoteDefinition:b3},exit:{gfmFootnoteCallString:v3,gfmFootnoteCall:k3,gfmFootnoteDefinitionLabelString:w3,gfmFootnoteDefinition:j3}}}function C3(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:hy},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,s,l,i){const o=l.createTracker(i);let c=o.move("[^");const u=l.enter("footnoteDefinition"),f=l.enter("label");return c+=o.move(l.safe(l.associationId(n),{before:c,after:"]"})),f(),c+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+l.indentLines(l.containerFlow(n,o.current()),t?my:E3))),u(),c}}function E3(e,t,r){return t===0?e:my(e,t,r)}function my(e,t,r){return(r?"":"    ")+e}const _3=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];py.peek=L3;function T3(){return{canContainEols:["delete"],enter:{strikethrough:R3},exit:{strikethrough:M3}}}function P3(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:_3}],handlers:{delete:py}}}function R3(e){this.enter({type:"delete",children:[]},e)}function M3(e){this.exit(e)}function py(e,t,r,n){const s=r.createTracker(n),l=r.enter("strikethrough");let i=s.move("~~");return i+=r.containerPhrasing(e,{...s.current(),before:i,after:"~"}),i+=s.move("~~"),l(),i}function L3(){return"~"}function I3(e){return e.length}function A3(e,t){const r=t||{},n=(r.align||[]).concat(),s=r.stringLength||I3,l=[],i=[],o=[],c=[];let u=0,f=-1;for(;++f<e.length;){const b=[],k=[];let x=-1;for(e[f].length>u&&(u=e[f].length);++x<e[f].length;){const y=z3(e[f][x]);if(r.alignDelimiters!==!1){const v=s(y);k[x]=v,(c[x]===void 0||v>c[x])&&(c[x]=v)}b.push(y)}i[f]=b,o[f]=k}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<u;)l[d]=ip(n[d]);else{const b=ip(n);for(;++d<u;)l[d]=b}d=-1;const h=[],m=[];for(;++d<u;){const b=l[d];let k="",x="";b===99?(k=":",x=":"):b===108?k=":":b===114&&(x=":");let y=r.alignDelimiters===!1?1:Math.max(1,c[d]-k.length-x.length);const v=k+"-".repeat(y)+x;r.alignDelimiters!==!1&&(y=k.length+y+x.length,y>c[d]&&(c[d]=y),m[d]=y),h[d]=v}i.splice(1,0,h),o.splice(1,0,m),f=-1;const p=[];for(;++f<i.length;){const b=i[f],k=o[f];d=-1;const x=[];for(;++d<u;){const y=b[d]||"";let v="",w="";if(r.alignDelimiters!==!1){const C=c[d]-(k[d]||0),S=l[d];S===114?v=" ".repeat(C):S===99?C%2?(v=" ".repeat(C/2+.5),w=" ".repeat(C/2-.5)):(v=" ".repeat(C/2),w=v):w=" ".repeat(C)}r.delimiterStart!==!1&&!d&&x.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&y==="")&&(r.delimiterStart!==!1||d)&&x.push(" "),r.alignDelimiters!==!1&&x.push(v),x.push(y),r.alignDelimiters!==!1&&x.push(w),r.padding!==!1&&x.push(" "),(r.delimiterEnd!==!1||d!==u-1)&&x.push("|")}p.push(r.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function z3(e){return e==null?"":String(e)}function ip(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function O3(e,t,r,n){const s=r.enter("blockquote"),l=r.createTracker(n);l.move("> "),l.shift(2);const i=r.indentLines(r.containerFlow(e,l.current()),F3);return s(),i}function F3(e,t,r){return">"+(r?"":" ")+e}function D3(e,t){return op(e,t.inConstruct,!0)&&!op(e,t.notInConstruct,!1)}function op(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function cp(e,t,r,n){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&D3(r.stack,r.unsafe[s]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function B3(e,t){const r=String(e);let n=r.indexOf(t),s=n,l=0,i=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===s?++l>i&&(i=l):l=1,s=n+t.length,n=r.indexOf(t,s);return i}function $3(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function U3(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function H3(e,t,r,n){const s=U3(r),l=e.value||"",i=s==="`"?"GraveAccent":"Tilde";if($3(e,r)){const d=r.enter("codeIndented"),h=r.indentLines(l,W3);return d(),h}const o=r.createTracker(n),c=s.repeat(Math.max(B3(l,s)+1,3)),u=r.enter("codeFenced");let f=o.move(c);if(e.lang){const d=r.enter(`codeFencedLang${i}`);f+=o.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${i}`);f+=o.move(" "),f+=o.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),d()}return f+=o.move(`
`),l&&(f+=o.move(l+`
`)),f+=o.move(c),u(),f}function W3(e,t,r){return(r?"":"    ")+e}function wf(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function V3(e,t,r,n){const s=wf(r),l=s==='"'?"Quote":"Apostrophe",i=r.enter("definition");let o=r.enter("label");const c=r.createTracker(n);let u=c.move("[");return u+=c.move(r.safe(r.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=r.enter(`title${l}`),u+=c.move(" "+s),u+=c.move(r.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),o()),i(),u}function q3(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ll(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Yi(e,t,r){const n=Qa(e),s=Qa(t);return n===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}gy.peek=K3;function gy(e,t,r,n){const s=q3(r),l=r.enter("emphasis"),i=r.createTracker(n),o=i.move(s);let c=i.move(r.containerPhrasing(e,{after:s,before:o,...i.current()}));const u=c.charCodeAt(0),f=Yi(n.before.charCodeAt(n.before.length-1),u,s);f.inside&&(c=ll(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=Yi(n.after.charCodeAt(0),d,s);h.inside&&(c=c.slice(0,-1)+ll(d));const m=i.move(s);return l(),r.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},o+c+m}function K3(e,t,r){return r.options.emphasis||"*"}function Y3(e,t){let r=!1;return vf(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,qu}),!!((!e.depth||e.depth<3)&&hf(e)&&(t.options.setext||r))}function X3(e,t,r,n){const s=Math.max(Math.min(6,e.depth||1),1),l=r.createTracker(n);if(Y3(e,r)){const f=r.enter("headingSetext"),d=r.enter("phrasing"),h=r.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(s===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const i="#".repeat(s),o=r.enter("headingAtx"),c=r.enter("phrasing");l.move(i+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(u)&&(u=ll(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,r.options.closeAtx&&(u+=" "+i),c(),o(),u}xy.peek=Q3;function xy(e){return e.value||""}function Q3(){return"<"}yy.peek=G3;function yy(e,t,r,n){const s=wf(r),l=s==='"'?"Quote":"Apostrophe",i=r.enter("image");let o=r.enter("label");const c=r.createTracker(n);let u=c.move("![");return u+=c.move(r.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=r.enter(`title${l}`),u+=c.move(" "+s),u+=c.move(r.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),o()),u+=c.move(")"),i(),u}function G3(){return"!"}by.peek=J3;function by(e,t,r,n){const s=e.referenceType,l=r.enter("imageReference");let i=r.enter("label");const o=r.createTracker(n);let c=o.move("![");const u=r.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),i();const f=r.stack;r.stack=[],i=r.enter("reference");const d=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return i(),r.stack=f,l(),s==="full"||!u||u!==d?c+=o.move(d+"]"):s==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function J3(){return"!"}vy.peek=Z3;function vy(e,t,r){let n=e.value||"",s="`",l=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(n);)s+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++l<r.unsafe.length;){const i=r.unsafe[l],o=r.compilePattern(i);let c;if(i.atBreak)for(;c=o.exec(n);){let u=c.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(c.index+1)}}return s+n+s}function Z3(){return"`"}function ky(e,t){const r=hf(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}wy.peek=eE;function wy(e,t,r,n){const s=wf(r),l=s==='"'?"Quote":"Apostrophe",i=r.createTracker(n);let o,c;if(ky(e,r)){const f=r.stack;r.stack=[],o=r.enter("autolink");let d=i.move("<");return d+=i.move(r.containerPhrasing(e,{before:d,after:">",...i.current()})),d+=i.move(">"),o(),r.stack=f,d}o=r.enter("link"),c=r.enter("label");let u=i.move("[");return u+=i.move(r.containerPhrasing(e,{before:u,after:"](",...i.current()})),u+=i.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(r.safe(e.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(c=r.enter("destinationRaw"),u+=i.move(r.safe(e.url,{before:u,after:e.title?" ":")",...i.current()}))),c(),e.title&&(c=r.enter(`title${l}`),u+=i.move(" "+s),u+=i.move(r.safe(e.title,{before:u,after:s,...i.current()})),u+=i.move(s),c()),u+=i.move(")"),o(),u}function eE(e,t,r){return ky(e,r)?"<":"["}jy.peek=tE;function jy(e,t,r,n){const s=e.referenceType,l=r.enter("linkReference");let i=r.enter("label");const o=r.createTracker(n);let c=o.move("[");const u=r.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),i();const f=r.stack;r.stack=[],i=r.enter("reference");const d=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return i(),r.stack=f,l(),s==="full"||!u||u!==d?c+=o.move(d+"]"):s==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function tE(){return"["}function jf(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rE(e){const t=jf(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function nE(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Ny(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function aE(e,t,r,n){const s=r.enter("list"),l=r.bulletCurrent;let i=e.ordered?nE(r):jf(r);const o=e.ordered?i==="."?")":".":rE(r);let c=t&&r.bulletLastUsed?i===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),Ny(r)===i&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(i=o),r.bulletCurrent=i;const u=r.containerFlow(e,n);return r.bulletLastUsed=i,r.bulletCurrent=l,s(),u}function sE(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function lE(e,t,r,n){const s=sE(r);let l=r.bulletCurrent||jf(r);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let i=l.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(i=Math.ceil(i/4)*4);const o=r.createTracker(n);o.move(l+" ".repeat(i-l.length)),o.shift(i);const c=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),f);return c(),u;function f(d,h,m){return h?(m?"":" ".repeat(i))+d:(m?l:l+" ".repeat(i-l.length))+d}}function iE(e,t,r,n){const s=r.enter("paragraph"),l=r.enter("phrasing"),i=r.containerPhrasing(e,n);return l(),s(),i}const oE=Ro(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cE(e,t,r,n){return(e.children.some(function(i){return oE(i)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function uE(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Sy.peek=dE;function Sy(e,t,r,n){const s=uE(r),l=r.enter("strong"),i=r.createTracker(n),o=i.move(s+s);let c=i.move(r.containerPhrasing(e,{after:s,before:o,...i.current()}));const u=c.charCodeAt(0),f=Yi(n.before.charCodeAt(n.before.length-1),u,s);f.inside&&(c=ll(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=Yi(n.after.charCodeAt(0),d,s);h.inside&&(c=c.slice(0,-1)+ll(d));const m=i.move(s+s);return l(),r.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},o+c+m}function dE(e,t,r){return r.options.strong||"*"}function fE(e,t,r,n){return r.safe(e.value,n)}function hE(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mE(e,t,r){const n=(Ny(r)+(r.options.ruleSpaces?" ":"")).repeat(hE(r));return r.options.ruleSpaces?n.slice(0,-1):n}const Cy={blockquote:O3,break:cp,code:H3,definition:V3,emphasis:gy,hardBreak:cp,heading:X3,html:xy,image:yy,imageReference:by,inlineCode:vy,link:wy,linkReference:jy,list:aE,listItem:lE,paragraph:iE,root:cE,strong:Sy,text:fE,thematicBreak:mE};function pE(){return{enter:{table:gE,tableData:up,tableHeader:up,tableRow:yE},exit:{codeText:bE,table:xE,tableData:_c,tableHeader:_c,tableRow:_c}}}function gE(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function xE(e){this.exit(e),this.data.inTable=void 0}function yE(e){this.enter({type:"tableRow",children:[]},e)}function _c(e){this.exit(e)}function up(e){this.enter({type:"tableCell",children:[]},e)}function bE(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,vE));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function vE(e,t){return t==="|"?t:e}function kE(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,s=t.stringLength,l=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:i,tableCell:c,tableRow:o}};function i(m,p,b,k){return u(f(m,b,k),m.align)}function o(m,p,b,k){const x=d(m,b,k),y=u([x]);return y.slice(0,y.indexOf(`
`))}function c(m,p,b,k){const x=b.enter("tableCell"),y=b.enter("phrasing"),v=b.containerPhrasing(m,{...k,before:l,after:l});return y(),x(),v}function u(m,p){return A3(m,{align:p,alignDelimiters:n,padding:r,stringLength:s})}function f(m,p,b){const k=m.children;let x=-1;const y=[],v=p.enter("table");for(;++x<k.length;)y[x]=d(k[x],p,b);return v(),y}function d(m,p,b){const k=m.children;let x=-1;const y=[],v=p.enter("tableRow");for(;++x<k.length;)y[x]=c(k[x],m,p,b);return v(),y}function h(m,p,b){let k=Cy.inlineCode(m,p,b);return b.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function wE(){return{exit:{taskListCheckValueChecked:dp,taskListCheckValueUnchecked:dp,paragraph:NE}}}function jE(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:SE}}}function dp(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function NE(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const s=t.children;let l=-1,i;for(;++l<s.length;){const o=s[l];if(o.type==="paragraph"){i=o;break}}i===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function SE(e,t,r,n){const s=e.children[0],l=typeof e.checked=="boolean"&&s&&s.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);l&&o.move(i);let c=Cy.listItem(e,t,r,{...n,...o.current()});return l&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(f){return f+i}}function CE(){return[a3(),S3(),T3(),pE(),wE()]}function EE(e){return{extensions:[s3(),C3(e),P3(),kE(e),jE()]}}const _E={tokenize:IE,partial:!0},Ey={tokenize:AE,partial:!0},_y={tokenize:zE,partial:!0},Ty={tokenize:OE,partial:!0},TE={tokenize:FE,partial:!0},Py={name:"wwwAutolink",tokenize:ME,previous:My},Ry={name:"protocolAutolink",tokenize:LE,previous:Ly},mn={name:"emailAutolink",tokenize:RE,previous:Iy},Kr={};function PE(){return{text:Kr}}let Wn=48;for(;Wn<123;)Kr[Wn]=mn,Wn++,Wn===58?Wn=65:Wn===91&&(Wn=97);Kr[43]=mn;Kr[45]=mn;Kr[46]=mn;Kr[95]=mn;Kr[72]=[mn,Ry];Kr[104]=[mn,Ry];Kr[87]=[mn,Py];Kr[119]=[mn,Py];function RE(e,t,r){const n=this;let s,l;return i;function i(d){return!Qu(d)||!Iy.call(n,n.previous)||Nf(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return Qu(d)?(e.consume(d),o):d===64?(e.consume(d),c):r(d)}function c(d){return d===46?e.check(TE,f,u)(d):d===45||d===95||$t(d)?(l=!0,e.consume(d),c):f(d)}function u(d){return e.consume(d),s=!0,c}function f(d){return l&&s&&qt(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}function ME(e,t,r){const n=this;return s;function s(i){return i!==87&&i!==119||!My.call(n,n.previous)||Nf(n.events)?r(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(_E,e.attempt(Ey,e.attempt(_y,l),r),r)(i))}function l(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}}function LE(e,t,r){const n=this;let s="",l=!1;return i;function i(d){return(d===72||d===104)&&Ly.call(n,n.previous)&&!Nf(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(d),e.consume(d),o):r(d)}function o(d){if(qt(d)&&s.length<5)return s+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const h=s.toLowerCase();if(h==="http"||h==="https")return e.consume(d),c}return r(d)}function c(d){return d===47?(e.consume(d),l?u:(l=!0,c)):r(d)}function u(d){return d===null||Vi(d)||et(d)||ua(d)||_o(d)?r(d):e.attempt(Ey,e.attempt(_y,f),r)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function IE(e,t,r){let n=0;return s;function s(i){return(i===87||i===119)&&n<3?(n++,e.consume(i),s):i===46&&n===3?(e.consume(i),l):r(i)}function l(i){return i===null?r(i):t(i)}}function AE(e,t,r){let n,s,l;return i;function i(u){return u===46||u===95?e.check(Ty,c,o)(u):u===null||et(u)||ua(u)||u!==45&&_o(u)?c(u):(l=!0,e.consume(u),i)}function o(u){return u===95?n=!0:(s=n,n=void 0),e.consume(u),i}function c(u){return s||n||!l?r(u):t(u)}}function zE(e,t){let r=0,n=0;return s;function s(i){return i===40?(r++,e.consume(i),s):i===41&&n<r?l(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(Ty,t,l)(i):i===null||et(i)||ua(i)?t(i):(e.consume(i),s)}function l(i){return i===41&&n++,e.consume(i),s}}function OE(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),l):o===93?(e.consume(o),s):o===60||o===null||et(o)||ua(o)?t(o):r(o)}function s(o){return o===null||o===40||o===91||et(o)||ua(o)?t(o):n(o)}function l(o){return qt(o)?i(o):r(o)}function i(o){return o===59?(e.consume(o),n):qt(o)?(e.consume(o),i):r(o)}}function FE(e,t,r){return n;function n(l){return e.consume(l),s}function s(l){return $t(l)?r(l):t(l)}}function My(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||et(e)}function Ly(e){return!qt(e)}function Iy(e){return!(e===47||Qu(e))}function Qu(e){return e===43||e===45||e===46||e===95||$t(e)}function Nf(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const DE={tokenize:KE,partial:!0};function BE(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:WE,continuation:{tokenize:VE},exit:qE}},text:{91:{name:"gfmFootnoteCall",tokenize:HE},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:$E,resolveTo:UE}}}}function $E(e,t,r){const n=this;let s=n.events.length;const l=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i;for(;s--;){const c=n.events[s][1];if(c.type==="labelImage"){i=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!i||!i._balanced)return r(c);const u=Rr(n.sliceSerialize({start:i.end,end:n.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function UE(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",s,t],["exit",s,t],["enter",l,t],["enter",i,t],["exit",i,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function HE(e,t,r){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l=0,i;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),c}function c(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(l>999||d===93&&!i||d===null||d===91||et(d))return r(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return s.includes(Rr(n.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return et(d)||(i=!0),l++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),l++,u):u(d)}}function WE(e,t,r){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l,i=0,o;return c;function c(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(p)}function f(p){if(i>999||p===93&&!o||p===null||p===91||et(p))return r(p);if(p===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return l=Rr(n.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return et(p)||(o=!0),i++,e.consume(p),p===92?d:f}function d(p){return p===91||p===92||p===93?(e.consume(p),i++,f):f(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),s.includes(l)||s.push(l),We(e,m,"gfmFootnoteDefinitionWhitespace")):r(p)}function m(p){return t(p)}}function VE(e,t,r){return e.check(yl,t,e.attempt(DE,t,r))}function qE(e){e.exit("gfmFootnoteDefinition")}function KE(e,t,r){const n=this;return We(e,s,"gfmFootnoteDefinitionIndent",5);function s(l){const i=n.events[n.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(l):r(l)}}function YE(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:l,resolveAll:s};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function s(i,o){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},d={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},h=[["enter",f,o],["enter",i[u][1],o],["exit",i[u][1],o],["enter",d,o]],m=o.parser.constructs.insideSpan.null;m&&ur(h,h.length,0,To(m,i.slice(u+1,c),o)),ur(h,h.length,0,[["exit",d,o],["enter",i[c][1],o],["exit",i[c][1],o],["exit",f,o]]),ur(i,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type="data");return i}function l(i,o,c){const u=this.previous,f=this.events;let d=0;return h;function h(p){return u===126&&f[f.length-1][1].type!=="characterEscape"?c(p):(i.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const b=Qa(u);if(p===126)return d>1?c(p):(i.consume(p),d++,m);if(d<2&&!r)return c(p);const k=i.exit("strikethroughSequenceTemporary"),x=Qa(p);return k._open=!x||x===2&&!!b,k._close=!b||b===2&&!!x,o(p)}}}class XE{constructor(){this.map=[]}add(t,r,n){QE(this,t,r,n)}consume(t){if(this.map.sort(function(l,i){return l[0]-i[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let s=n.pop();for(;s;){for(const l of s)t.push(l);s=n.pop()}this.map.length=0}}function QE(e,t,r,n){let s=0;if(!(r===0&&n.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=r,e.map[s][2].push(...n);return}s+=1}e.map.push([t,r,n])}}function GE(e,t){let r=!1;const n=[];for(;t<e.length;){const s=e[t];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=n.length-1;n[l]=n[l]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function JE(){return{flow:{null:{name:"table",tokenize:ZE,resolveAll:e6}}}}function ZE(e,t,r){const n=this;let s=0,l=0,i;return o;function o(E){let L=n.events.length-1;for(;L>-1;){const z=n.events[L][1].type;if(z==="lineEnding"||z==="linePrefix")L--;else break}const _=L>-1?n.events[L][1].type:null,D=_==="tableHead"||_==="tableRow"?S:c;return D===S&&n.parser.lazy[n.now().line]?r(E):D(E)}function c(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(i=!0,l+=1),f(E)}function f(E){return E===null?r(E):Me(E)?l>1?(l=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),m):r(E):Ue(E)?We(e,f,"whitespace")(E):(l+=1,i&&(i=!1,s+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),i=!0,f):(e.enter("data"),d(E)))}function d(E){return E===null||E===124||et(E)?(e.exit("data"),f(E)):(e.consume(E),E===92?h:d)}function h(E){return E===92||E===124?(e.consume(E),d):d(E)}function m(E){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(E):(e.enter("tableDelimiterRow"),i=!1,Ue(E)?We(e,p,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?k(E):E===124?(i=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),b):C(E)}function b(E){return Ue(E)?We(e,k,"whitespace")(E):k(E)}function k(E){return E===58?(l+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),x):E===45?(l+=1,x(E)):E===null||Me(E)?w(E):C(E)}function x(E){return E===45?(e.enter("tableDelimiterFiller"),y(E)):C(E)}function y(E){return E===45?(e.consume(E),y):E===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(E))}function v(E){return Ue(E)?We(e,w,"whitespace")(E):w(E)}function w(E){return E===124?p(E):E===null||Me(E)?!i||s!==l?C(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):C(E)}function C(E){return r(E)}function S(E){return e.enter("tableRow"),O(E)}function O(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),O):E===null||Me(E)?(e.exit("tableRow"),t(E)):Ue(E)?We(e,O,"whitespace")(E):(e.enter("data"),A(E))}function A(E){return E===null||E===124||et(E)?(e.exit("data"),O(E)):(e.consume(E),E===92?Q:A)}function Q(E){return E===92||E===124?(e.consume(E),A):A(E)}}function e6(e,t){let r=-1,n=!0,s=0,l=[0,0,0,0],i=[0,0,0,0],o=!1,c=0,u,f,d;const h=new XE;for(;++r<e.length;){const m=e[r],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,c!==0&&(fp(h,t,c,u,f),f=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(r,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(n=!0,d=void 0,l=[0,0,0,0],i=[0,r+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(r,0,[["enter",f,t]])),s=p.type==="tableDelimiterRow"?2:f?3:1):s&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(n=!1,i[2]===0&&(l[1]!==0&&(i[0]=i[1],d=ql(h,t,l,s,void 0,d),l=[0,0,0,0]),i[2]=r)):p.type==="tableCellDivider"&&(n?n=!1:(l[1]!==0&&(i[0]=i[1],d=ql(h,t,l,s,void 0,d)),l=i,i=[l[1],r,0,0])):p.type==="tableHead"?(o=!0,c=r):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=r,l[1]!==0?(i[0]=i[1],d=ql(h,t,l,s,r,d)):i[1]!==0&&(d=ql(h,t,i,s,r,d)),s=0):s&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(i[3]=r)}for(c!==0&&fp(h,t,c,u,f),h.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=GE(t.events,r))}return e}function ql(e,t,r,n,s,l){const i=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(l.end=Object.assign({},xa(t.events,r[0])),e.add(r[0],0,[["exit",l,t]]));const c=xa(t.events,r[1]);if(l={type:i,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",l,t]]),r[2]!==0){const u=xa(t.events,r[2]),f=xa(t.events,r[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const h=t.events[r[2]],m=t.events[r[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",r[3]>r[2]+1){const p=r[2]+1,b=r[3]-r[2]-1;e.add(p,b,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return s!==void 0&&(l.end=Object.assign({},xa(t.events,s)),e.add(s,0,[["exit",l,t]]),l=void 0),l}function fp(e,t,r,n,s){const l=[],i=xa(t.events,r);s&&(s.end=Object.assign({},i),l.push(["exit",s,t])),n.end=Object.assign({},i),l.push(["exit",n,t]),e.add(r+1,0,l)}function xa(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const t6={name:"tasklistCheck",tokenize:n6};function r6(){return{text:{91:t6}}}function n6(e,t,r){const n=this;return s;function s(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),l)}function l(c){return et(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),i):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),i):r(c)}function i(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(c)}function o(c){return Me(c)?t(c):Ue(c)?e.check({tokenize:a6},t,r)(c):r(c)}}function a6(e,t,r){return We(e,n,"whitespace");function n(s){return s===null?r(s):t(s)}}function s6(e){return Wx([PE(),BE(),YE(e),JE(),r6()])}const l6={};function i6(e){const t=this,r=e||l6,n=t.data(),s=n.micromarkExtensions||(n.micromarkExtensions=[]),l=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),i=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);s.push(s6(r)),l.push(CE()),i.push(EE(r))}function o6({content:e,className:t=""}){const[r,n]=g.useState(!1),s=/<think>([\s\S]*?)<\/redacted_reasoning>/gi,l=Array.from(e.matchAll(s));let i=e.replace(s,"");const o=l.map(c=>c[1].trim());return a.jsxs("div",{className:t,children:[a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-headings:mt-2 prose-headings:mb-2 prose-p:my-1 prose-ul:my-1 prose-ol:my-1 prose-li:my-0",children:a.jsx(YC,{remarkPlugins:[i6],components:{code:({node:c,inline:u,className:f,children:d,...h})=>u?a.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono",...h,children:d}):a.jsx("pre",{className:"bg-gray-800 dark:bg-gray-900 text-gray-100 rounded-lg p-3 overflow-x-auto my-2 text-sm",children:a.jsx("code",{className:f,...h,children:d})}),p:({children:c})=>a.jsx("p",{className:"mb-2 last:mb-0 leading-relaxed",children:c}),ul:({children:c})=>a.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1 ml-2",children:c}),ol:({children:c})=>a.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1 ml-2",children:c}),li:({children:c})=>a.jsx("li",{className:"mb-0.5",children:c}),h1:({children:c})=>a.jsx("h1",{className:"text-xl font-bold mb-2 mt-4 first:mt-0 text-gray-900 dark:text-gray-100",children:c}),h2:({children:c})=>a.jsx("h2",{className:"text-lg font-semibold mb-2 mt-3 first:mt-0 text-gray-900 dark:text-gray-100",children:c}),h3:({children:c})=>a.jsx("h3",{className:"text-base font-semibold mb-1 mt-2 first:mt-0 text-gray-900 dark:text-gray-100",children:c}),blockquote:({children:c})=>a.jsx("blockquote",{className:"border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic my-2 text-gray-700 dark:text-gray-300",children:c}),a:({children:c,href:u})=>a.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:c}),strong:({children:c})=>a.jsx("strong",{className:"font-semibold text-gray-900 dark:text-gray-100",children:c}),em:({children:c})=>a.jsx("em",{className:"italic",children:c}),table:({children:c})=>a.jsx("div",{className:"overflow-x-auto my-2",children:a.jsx("table",{className:"min-w-full border-collapse border border-gray-300 dark:border-gray-600",children:c})}),th:({children:c})=>a.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 bg-gray-100 dark:bg-gray-800 font-semibold",children:c}),td:({children:c})=>a.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:c})},children:i.trim()})}),o.length>0&&a.jsxs("div",{className:"mt-3 border-t border-gray-300 dark:border-gray-600 pt-3",children:[a.jsx("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors w-full",children:r?a.jsxs(a.Fragment,{children:[a.jsx(bx,{className:"w-4 h-4"}),a.jsx("span",{children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx(nf,{className:"w-4 h-4"}),a.jsxs("span",{children:[" (",o.length," )"]})]})}),r&&a.jsx("div",{className:"mt-2 space-y-2",children:o.map((c,u)=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3 text-xs text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",u+1,":"]}),a.jsx("div",{className:"whitespace-pre-wrap break-words font-mono",children:c})]},u))})]})]})}function c6(){const{isAuthenticated:e,user:t}=At(),[r,n]=g.useState([]),[s,l]=g.useState(null),[i,o]=g.useState([]),[c,u]=g.useState(""),[f,d]=g.useState(!1),[h,m]=g.useState(!1),[p,b]=g.useState(!1),[k,x]=g.useState(null),[y,v]=g.useState(!1),w=g.useRef(null),C=g.useRef(null);g.useEffect(()=>{e&&O()},[e]),g.useEffect(()=>{S()},[i]);const S=()=>{var _;(_=w.current)==null||_.scrollIntoView({behavior:"smooth"})},O=async()=>{var _,D;try{const B=((await le.get("/shelf/my")).data.books||[]).map(T=>({id:T.id,title:T.title,author:T.author,file_name:T.file_name}));n(B)}catch(z){console.error(":",z),R.error(((D=(_=z.response)==null?void 0:_.data)==null?void 0:D.error)||"")}},A=async()=>{var D,z,P,B,T,M,J,j;if(!c.trim()||f)return;if(!s){R.error("");return}const _={id:Date.now().toString(),role:"user",content:c,timestamp:new Date};o(te=>[...te,_]),u(""),d(!0);try{const te=await le.post("/ai/chat",{bookId:s.id,message:c,messages:i.map(N=>({role:N.role,content:N.content}))}),re={id:(Date.now()+1).toString(),role:"assistant",content:te.data.response,timestamp:new Date};o(N=>[...N,re])}catch(te){console.error(":",te);const re=((z=(D=te.response)==null?void 0:D.data)==null?void 0:z.error)||te.message||"",N=(B=(P=te.response)==null?void 0:P.data)==null?void 0:B.details;console.error(":",{message:re,details:N,status:(T=te.response)==null?void 0:T.status,statusText:(M=te.response)==null?void 0:M.statusText,data:(J=te.response)==null?void 0:J.data,fullError:te});let Z=re;N&&typeof N=="object"&&N.stack&&console.error(":",N.stack),(!((j=te.response)!=null&&j.data)||te.response.data==="")&&(Z="",console.error("")),R.error(Z);const pe={id:(Date.now()+1).toString(),role:"assistant",content:`${re}${N?`

`+N:""}


1. AI
2. AI
3. `,timestamp:new Date};o(ke=>[...ke,pe])}finally{d(!1)}},Q=async()=>{var _,D,z,P,B,T,M;if(!s){R.error("");return}m(!0);try{const J=await le.post("/ai/analyze",{bookId:s.id}),j={id:Date.now().toString(),role:"assistant",content:J.data.analysis,timestamp:new Date};o(te=>[...te,j]),R.success("")}catch(J){console.error(":",J);const j=((D=(_=J.response)==null?void 0:_.data)==null?void 0:D.error)||J.message||"",te=(P=(z=J.response)==null?void 0:z.data)==null?void 0:P.details;console.error(":",{message:j,details:te,status:(B=J.response)==null?void 0:B.status,statusText:(T=J.response)==null?void 0:T.statusText,data:(M=J.response)==null?void 0:M.data,fullError:J});let re=j;te&&typeof te=="object"&&te.stack&&console.error(":",te.stack),R.error(re);const N={id:Date.now().toString(),role:"assistant",content:`${j}${te?`

`+te:""}


1. 
2. AI
3. AI`,timestamp:new Date};o(Z=>[...Z,N])}finally{m(!1)}},E=async _=>{var D,z;if(p){C.current&&(C.current.pause(),C.current=null),k&&(URL.revokeObjectURL(k),x(null)),b(!1);return}try{const P=await le.post("/ai/tts",{text:_},{responseType:"blob"}),B=new Blob([P.data],{type:"audio/mpeg"}),T=URL.createObjectURL(B);x(T);const M=new Audio(T);C.current=M,M.onended=()=>{b(!1),URL.revokeObjectURL(T),x(null),C.current=null},M.onerror=()=>{b(!1),R.error(""),URL.revokeObjectURL(T),x(null),C.current=null},await M.play(),b(!0)}catch(P){console.error(":",P),R.error(((z=(D=P.response)==null?void 0:D.data)==null?void 0:z.error)||"")}},L=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),A())};return e?a.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-180px)] lg:h-[calc(100vh-200px)] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Cn,{className:"w-6 h-6 lg:w-8 lg:h-8 text-blue-600"}),a.jsx("h1",{className:"text-xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"AI"})]}),a.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s&&a.jsx("button",{onClick:()=>{l(null),o([])},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(Ze,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>v(!y),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(vx,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex-1 flex gap-4 overflow-hidden relative",children:[y&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>v(!1)}),a.jsxs("div",{className:"lg:hidden fixed inset-y-0 left-0 w-80 bg-white dark:bg-gray-800 shadow-xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:""}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(Ze,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:r.map(_=>a.jsxs("button",{onClick:()=>{l(_),o([]),v(!1)},className:`w-full text-left p-3 rounded-lg transition-colors ${(s==null?void 0:s.id)===_.id?"bg-blue-100 dark:bg-blue-900/20 border-2 border-blue-500":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent"}`,children:[a.jsx("div",{className:"font-medium text-sm truncate",children:_.title}),_.author&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:_.author})]},_.id))}),s&&a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:()=>{Q(),v(!1)},disabled:h,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"w-4 h-4 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(rn,{className:"w-4 h-4"}),""]})})})]})]}),a.jsxs("div",{className:"hidden lg:flex w-64 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:""}),s&&a.jsx("button",{onClick:()=>{l(null),o([])},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:a.jsx(Ze,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:r.map(_=>a.jsxs("button",{onClick:()=>{l(_),o([])},className:`w-full text-left p-3 rounded-lg transition-colors ${(s==null?void 0:s.id)===_.id?"bg-blue-100 dark:bg-blue-900/20 border-2 border-blue-500":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent"}`,children:[a.jsx("div",{className:"font-medium text-sm truncate",children:_.title}),_.author&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:_.author})]},_.id))}),s&&a.jsx("button",{onClick:Q,disabled:h,className:"mt-4 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"w-4 h-4 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(rn,{className:"w-4 h-4"}),""]})})]}),a.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg shadow-md flex flex-col overflow-hidden min-w-0",children:s?a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"lg:hidden px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm truncate",children:s.title}),s.author&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:s.author})]}),a.jsx("button",{onClick:Q,disabled:h,className:"ml-2 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:h?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"w-3 h-3 animate-spin"}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(rn,{className:"w-3 h-3"}),""]})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 lg:p-4 space-y-3 lg:space-y-4",children:[i.length===0&&a.jsxs("div",{className:"text-center py-6 lg:py-8",children:[a.jsx(Cn,{className:"w-10 h-10 lg:w-12 lg:h-12 text-gray-400 mx-auto mb-3 lg:mb-4"}),a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm lg:text-base px-4",children:["AI",s.title,""]})]}),i.map(_=>{var D,z;return a.jsxs("div",{className:`flex gap-3 ${_.role==="user"?"justify-end":"justify-start"}`,children:[_.role==="assistant"&&a.jsx("div",{className:"w-7 h-7 lg:w-8 lg:h-8 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:a.jsx(Cn,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-white"})}),a.jsxs("div",{className:`max-w-[85%] lg:max-w-[70%] rounded-lg p-2.5 lg:p-3 ${_.role==="user"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}`,children:[_.role==="assistant"?a.jsx(o6,{content:_.content,className:"text-sm lg:text-base"}):a.jsx("div",{className:"whitespace-pre-wrap break-words text-sm lg:text-base",children:_.content}),_.role==="assistant"&&a.jsx("button",{onClick:()=>E(_.content),className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1 active:opacity-70",children:p&&k?a.jsxs(a.Fragment,{children:[a.jsx(B2,{className:"w-3 h-3"}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(D2,{className:"w-3 h-3"}),""]})})]}),_.role==="user"&&a.jsx("div",{className:"w-7 h-7 lg:w-8 lg:h-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-xs lg:text-sm font-medium",children:((z=(D=t==null?void 0:t.username)==null?void 0:D[0])==null?void 0:z.toUpperCase())||"U"})})]},_.id)}),f&&a.jsxs("div",{className:"flex gap-2 lg:gap-3 justify-start",children:[a.jsx("div",{className:"w-7 h-7 lg:w-8 lg:h-8 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:a.jsx(Cn,{className:"w-3.5 h-3.5 lg:w-4 lg:h-4 text-white"})}),a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-2.5 lg:p-3",children:a.jsx(gs,{className:"w-4 h-4 animate-spin"})})]}),a.jsx("div",{ref:w})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3 lg:p-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("textarea",{value:c,onChange:_=>u(_.target.value),onKeyPress:L,placeholder:"...",className:"flex-1 px-3 lg:px-4 py-2 text-sm lg:text-base border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white resize-none",rows:2,disabled:f}),a.jsxs("button",{onClick:A,disabled:f||!c.trim(),className:"px-4 lg:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 lg:gap-2 text-sm lg:text-base",children:[f?a.jsx(gs,{className:"w-4 h-4 animate-spin"}):a.jsx(jx,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(oa,{className:"w-12 h-12 lg:w-16 lg:h-16 text-gray-400 mx-auto mb-4"}),a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm lg:text-base",children:[a.jsx("span",{className:"lg:hidden",children:"AI"}),a.jsx("span",{className:"hidden lg:inline",children:"AI"})]})]})})})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:""})})}function u6(){const[e,t]=bk(),r=It(),n=e.get("q")||"",s=e.get("scope")||"all",[l,i]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState("grid"),[d,h]=g.useState("created_at"),[m,p]=g.useState("desc"),[b,k]=g.useState(!1),[x,y]=g.useState(n),[v,w]=g.useState(1),[C,S]=g.useState(!0),O=20,A=g.useRef(null);g.useEffect(()=>{y(n),w(1),i([])},[n,s]),g.useEffect(()=>{n&&Q()},[n,v,d,m,s]),g.useEffect(()=>{if(!C||o||!n)return;const P=()=>{const T=A.current;if(!T)return;const{scrollTop:M,scrollHeight:J,clientHeight:j}=T;M+j>=J-100&&E()},B=A.current;if(B)return B.addEventListener("scroll",P),()=>B.removeEventListener("scroll",P)},[C,o,v,n]);const Q=async()=>{var P,B;if(n)try{c(!0);const T=s==="shelf"?"/shelf/my":"/books",M={search:n,sort:d,order:m};s==="all"&&(M.page=v,M.limit=O);const j=(await le.get(T,{params:M})).data.books||[];i(v===1?j:te=>[...te,...j]),S(j.length===O)}catch(T){console.error(":",T),T.statusText!=="OK (Offline Cache)"&&T.statusText!=="OK (Offline, No Cache)"&&navigator.onLine&&R.error(((B=(P=T.response)==null?void 0:P.data)==null?void 0:B.error)||"")}finally{c(!1)}},E=()=>{!C||o||w(P=>P+1)},L=P=>{if(P.preventDefault(),!x.trim()){R.error("");return}t({q:x.trim(),scope:s}),w(1),i([])},_=()=>{y(""),r(s==="shelf"?"/shelf":"/books")},D=({book:P})=>a.jsx(Je,{to:`/books/${P.id}`,className:"group block h-full",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[a.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 overflow-hidden relative flex-shrink-0",children:(()=>{const B=Vr(P.cover_url);return B?a.jsx("img",{src:B,alt:P.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:T=>{const M=T.target;M.style.display="none";const J=M.parentElement;J&&(J.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center">
                        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                      </div>
                    `)},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})})})()}),a.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[a.jsx("h3",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 line-clamp-2 mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:P.title}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-1 mb-2",children:P.author||""}),P.rating!==void 0&&P.rating>0&&a.jsxs("div",{className:"flex items-center gap-1 mt-auto",children:[a.jsx("span",{className:"text-xs text-yellow-500",children:""}),a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:P.rating.toFixed(1)})]})]})]})}),z=({book:P})=>a.jsx(Je,{to:`/books/${P.id}`,className:"block bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-400",children:a.jsxs("div",{className:"flex gap-4 p-4",children:[a.jsx("div",{className:"w-20 h-28 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded overflow-hidden",children:(()=>{const B=Vr(P.cover_url);return B?a.jsx("img",{src:B,alt:P.title,className:"w-full h-full object-cover",onError:T=>{const M=T.target;M.style.display="none"},loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(it,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})})})()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-1 line-clamp-1",children:P.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:P.author||""}),P.description&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 line-clamp-2 mb-2",children:P.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{className:"uppercase",children:P.file_type}),P.rating!==void 0&&P.rating>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-500",children:""}),a.jsx("span",{children:P.rating.toFixed(1)})]})]})]})]})});return a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:a.jsx("form",{onSubmit:L,className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(Lr,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",placeholder:s==="shelf"?"...":"...",className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent transition-all",value:x,onChange:P=>y(P.target.value),autoFocus:!0}),x&&a.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Ze,{className:"w-4 h-4"})})]}),a.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:""})]})})}),n&&a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-2",children:a.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",a.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:l.length})," ",n&&a.jsxs("span",{className:"ml-2",children:[": ",a.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:['"',n,'"']})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>f("grid"),className:`p-1.5 rounded transition-colors ${u==="grid"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"",children:a.jsx(jo,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>f("list"),className:`p-1.5 rounded transition-colors ${u==="list"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"",children:a.jsx(af,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>k(!b),className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm",children:[a.jsx(rf,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),a.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[d==="created_at"&&(m==="desc"?"":""),d==="title"&&(m==="asc"?" A-Z":" Z-A"),d==="author"&&(m==="asc"?" A-Z":" Z-A"),d==="rating"&&(m==="desc"?"":"")]})]}),b&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>k(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-20",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase border-b border-gray-200 dark:border-gray-700",children:""}),a.jsx("button",{onClick:()=>{h("created_at"),p("desc"),k(!1),w(1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${d==="created_at"&&m==="desc"?"text-blue-600 dark:text-blue-400":""}`,children:""}),a.jsx("button",{onClick:()=>{h("title"),p("asc"),k(!1),w(1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${d==="title"&&m==="asc"?"text-blue-600 dark:text-blue-400":""}`,children:" A-Z"}),a.jsx("button",{onClick:()=>{h("author"),p("asc"),k(!1),w(1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${d==="author"&&m==="asc"?"text-blue-600 dark:text-blue-400":""}`,children:" A-Z"}),a.jsx("button",{onClick:()=>{h("rating"),p("desc"),k(!1),w(1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${d==="rating"&&m==="desc"?"text-blue-600 dark:text-blue-400":""}`,children:""})]})]})]})]})]})}),a.jsx("div",{ref:A,className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:n?o&&l.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(it,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})]}):a.jsxs(a.Fragment,{children:[u==="grid"?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:l.map(P=>a.jsx(D,{book:P},P.id))}):a.jsx("div",{className:"space-y-3",children:l.map(P=>a.jsx(z,{book:P},P.id))}),o&&l.length>0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:""})]})})})]})}function d6(){var m,p;const{user:e,logout:t}=At(),r=It(),[n,s]=g.useState({total:0,reading:0,finished:0}),[l,i]=g.useState(!0);g.useEffect(()=>{e&&o()},[e]);const o=async()=>{try{i(!0);const x=((await le.get("/books?limit=1000")).data.books||[]).filter(S=>S.uploader_id===(e==null?void 0:e.id)),v=(await le.get("/reading/progress?limit=1000")).data.progresses||[],w=v.filter(S=>S.progress>0&&S.progress<1).length,C=v.filter(S=>S.progress>=1).length;s({total:x.length,reading:w,finished:C})}catch(b){console.error(":",b)}finally{i(!1)}},c=()=>{confirm("")&&(t(),r("/login"))},u=async()=>{await o(),R.success("")},{isRefreshing:f,pullDistance:d}=So({onRefresh:u}),h=[{path:"/upload",label:"",icon:nn,color:"bg-blue-500",adminOnly:!1},{path:"/history",label:"",icon:Ur,color:"bg-orange-500",adminOnly:!1},{path:"/ai-reading",label:"AI",icon:Cn,color:"bg-teal-500",adminOnly:!1},{path:"/settings",label:"",icon:al,color:"bg-green-500",adminOnly:!1},...(e==null?void 0:e.role)==="admin"?[{path:"/users",label:"",icon:No,color:"bg-purple-500",adminOnly:!0},{path:"/ip-management",label:"",icon:sn,color:"bg-red-500",adminOnly:!0}]:[]];return a.jsxs(a.Fragment,{children:[a.jsx(Co,{pullDistance:d,isRefreshing:f}),a.jsxs("div",{className:"max-w-4xl mx-auto pt-6",children:[a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-600 flex items-center justify-center text-white text-2xl font-bold",children:((p=(m=e==null?void 0:e.username)==null?void 0:m[0])==null?void 0:p.toUpperCase())||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e==null?void 0:e.username}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e==null?void 0:e.email}),(e==null?void 0:e.role)==="admin"&&a.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded",children:""})]})]}),l?a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:n.total}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.reading}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n.finished}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]})]})]}),a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(jo,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:h.map(b=>{const k=b.icon;return a.jsxs("button",{onClick:()=>r(b.path),className:"flex flex-col items-center justify-center p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all",children:[a.jsx("div",{className:`w-12 h-12 ${b.color} rounded-lg flex items-center justify-center mb-2`,children:a.jsx(k,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:b.label})]},b.path)})})]}),a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Oa,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{onClick:()=>r("/profile/account"),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Oa,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:""})]}),a.jsx("span",{className:"text-gray-400",children:""})]})})]}),a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(R2,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:""}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"The Books Path"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"EPUBPDFTXT"})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"ttbye"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"GitHub"}),a.jsx("a",{href:"https://ttbye.github.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"ttbye.github.com"})]})]})})]})]}),a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(P2,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),a.jsx("p",{children:"EPUBPDFTXT"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),a.jsx("p",{children:""})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),a.jsx("p",{children:""})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" AI"}),a.jsx("p",{children:"AI"})]})]})]}),a.jsx("div",{className:"card",children:a.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 p-4 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[a.jsx(Au,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:""})]})})]})]})}function f6(){const{user:e,setUser:t}=At();It();const[r,n]=g.useState(!1),[s,l]=g.useState(!1),[i,o]=g.useState(!1),[c,u]=g.useState({username:"",email:""}),[f,d]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""});g.useEffect(()=>{e&&u({username:e.username||"",email:e.email||""})},[e]);const h=async()=>{var p,b;if(!c.email.trim()){R.error("");return}l(!0);try{const k=await le.put("/users/me",{email:c.email.trim()});t(k.data.user),R.success("")}catch(k){R.error(((b=(p=k.response)==null?void 0:p.data)==null?void 0:b.error)||"")}finally{l(!1)}},m=async()=>{var p,b;if(!f.currentPassword||!f.newPassword||!f.confirmPassword){R.error("");return}if(f.newPassword.length<6){R.error("6");return}if(f.newPassword!==f.confirmPassword){R.error("");return}o(!0);try{await le.put("/users/me/password",{currentPassword:f.currentPassword,newPassword:f.newPassword}),R.success(""),d({currentPassword:"",newPassword:"",confirmPassword:""})}catch(k){R.error(((b=(p=k.response)==null?void 0:p.data)==null?void 0:b.error)||"")}finally{o(!1)}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"card mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Oa,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"text",className:"input w-full bg-gray-50 dark:bg-gray-800 cursor-not-allowed",value:c.username,readOnly:!0,disabled:!0,placeholder:""}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"email",className:"input w-full",value:c.email,onChange:p=>u({...c,email:p.target.value}),placeholder:""})]}),a.jsx("button",{onClick:h,disabled:s,className:"btn btn-primary w-full",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(nl,{className:"w-4 h-4"}),""]})})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(qr,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"password",className:"input w-full",value:f.currentPassword,onChange:p=>d({...f,currentPassword:p.target.value}),placeholder:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"password",className:"input w-full",value:f.newPassword,onChange:p=>d({...f,newPassword:p.target.value}),placeholder:"6"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),a.jsx("input",{type:"password",className:"input w-full",value:f.confirmPassword,onChange:p=>d({...f,confirmPassword:p.target.value}),placeholder:""})]}),a.jsx("button",{onClick:m,disabled:i,className:"btn btn-primary w-full",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"w-4 h-4"}),""]})})]})]})]})}function Ft({children:e}){const{isAuthenticated:t}=At();return t?a.jsx(a.Fragment,{children:e}):a.jsx(sk,{to:"/login"})}function h6(){return a.jsxs(a.Fragment,{children:[a.jsxs(ik,{children:[a.jsx(kt,{path:"/login",element:a.jsx(H2,{})}),a.jsx(kt,{path:"/register",element:a.jsx(W2,{})}),a.jsx(kt,{path:"/",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(xm,{})})})}),a.jsx(kt,{path:"/books",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(V2,{})})})}),a.jsx(kt,{path:"/books/:id",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(q2,{})})})}),a.jsx(kt,{path:"/shelf",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(xm,{})})})}),a.jsx(kt,{path:"/history",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(K2,{})})})}),a.jsx(kt,{path:"/reader/:bookId",element:a.jsx(Ft,{children:a.jsx(uN,{})})}),a.jsx(kt,{path:"/upload",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(dN,{})})})}),a.jsx(kt,{path:"/settings",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(fN,{})})})}),a.jsx(kt,{path:"/profile",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(d6,{})})})}),a.jsx(kt,{path:"/profile/account",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(f6,{})})})}),a.jsx(kt,{path:"/users",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(hN,{})})})}),a.jsx(kt,{path:"/books-management",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(mN,{})})})}),a.jsx(kt,{path:"/ip-management",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(pN,{})})})}),a.jsx(kt,{path:"/notes",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(gN,{})})})}),a.jsx(kt,{path:"/ai-reading",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(c6,{})})})}),a.jsx(kt,{path:"/search",element:a.jsx(Ft,{children:a.jsx(Wt,{children:a.jsx(u6,{})})})})]}),a.jsx(iw,{position:"bottom-center",toastOptions:{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",padding:"16px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:"500",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.4), 0 4px 12px rgba(118, 75, 162, 0.3)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",maxWidth:"90vw",width:"auto"},success:{duration:2e3,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},iconTheme:{primary:"#fff",secondary:"#10b981"}},error:{duration:3e3,style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},iconTheme:{primary:"#fff",secondary:"#ef4444"}},loading:{style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},iconTheme:{primary:"#fff",secondary:"#3b82f6"}}},containerStyle:{bottom:"calc(80px + env(safe-area-inset-bottom, 0px))"}})]})}function m6(){const e=localStorage.getItem("theme"),t=document.documentElement,r=document.body;t.classList.remove("dark","light"),r.classList.remove("dark");let n=!1;e==="dark"||e==="light"?n=e==="dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(n=!0),n?(t.classList.add("dark"),r.classList.add("dark")):t.classList.add("light");const s=n?"#1a1a1a":"#ffffff";let l=document.querySelector('meta[name="theme-color"]');l||(l=document.createElement("meta"),l.setAttribute("name","theme-color"),document.head.appendChild(l)),l.setAttribute("content",s),t.style.colorScheme=n?"dark":"light";let i=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');i||(i=document.createElement("meta"),i.setAttribute("name","apple-mobile-web-app-status-bar-style"),document.head.appendChild(i)),i.setAttribute("content","black-translucent")}m6();"serviceWorker"in navigator&&ta(()=>import("./virtual_pwa-register-lzoSVkSY.js"),[]).then(e=>{var r;const t=e.registerSW||((r=e.default)==null?void 0:r.registerSW)||e.default;t&&typeof t=="function"&&t({immediate:!0,onNeedRefresh(){},onOfflineReady(){},onRegistered(){},onRegisterError(n){console.error("Service Worker: ",n)}})}).catch(()=>{});Tc.createRoot(document.getElementById("root")).render(a.jsx(td.StrictMode,{children:a.jsx(pk,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(h6,{})})}));export{ta as _,g6 as a,fi as c,Xi as g};
